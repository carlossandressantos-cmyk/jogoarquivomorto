(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();var qc={exports:{}},$o={},Gc={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wp;function Mv(){if(wp)return Te;wp=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.iterator;function V(D){return D===null||typeof D!="object"?null:(D=C&&D[C]||D["@@iterator"],typeof D=="function"?D:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,J={};function q(D,B,_e){this.props=D,this.context=B,this.refs=J,this.updater=_e||z}q.prototype.isReactComponent={},q.prototype.setState=function(D,B){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,B,"setState")},q.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Ee(){}Ee.prototype=q.prototype;function ye(D,B,_e){this.props=D,this.context=B,this.refs=J,this.updater=_e||z}var ve=ye.prototype=new Ee;ve.constructor=ye,Z(ve,q.prototype),ve.isPureReactComponent=!0;var De=Array.isArray,Ue=Object.prototype.hasOwnProperty,ke={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function T(D,B,_e){var we,Se={},Ie=null,be=null;if(B!=null)for(we in B.ref!==void 0&&(be=B.ref),B.key!==void 0&&(Ie=""+B.key),B)Ue.call(B,we)&&!P.hasOwnProperty(we)&&(Se[we]=B[we]);var xe=arguments.length-2;if(xe===1)Se.children=_e;else if(1<xe){for(var Fe=Array(xe),jt=0;jt<xe;jt++)Fe[jt]=arguments[jt+2];Se.children=Fe}if(D&&D.defaultProps)for(we in xe=D.defaultProps,xe)Se[we]===void 0&&(Se[we]=xe[we]);return{$$typeof:i,type:D,key:Ie,ref:be,props:Se,_owner:ke.current}}function A(D,B){return{$$typeof:i,type:D.type,key:B,ref:D.ref,props:D.props,_owner:D._owner}}function x(D){return typeof D=="object"&&D!==null&&D.$$typeof===i}function k(D){var B={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(_e){return B[_e]})}var L=/\/+/g;function I(D,B){return typeof D=="object"&&D!==null&&D.key!=null?k(""+D.key):B.toString(36)}function Be(D,B,_e,we,Se){var Ie=typeof D;(Ie==="undefined"||Ie==="boolean")&&(D=null);var be=!1;if(D===null)be=!0;else switch(Ie){case"string":case"number":be=!0;break;case"object":switch(D.$$typeof){case i:case e:be=!0}}if(be)return be=D,Se=Se(be),D=we===""?"."+I(be,0):we,De(Se)?(_e="",D!=null&&(_e=D.replace(L,"$&/")+"/"),Be(Se,B,_e,"",function(jt){return jt})):Se!=null&&(x(Se)&&(Se=A(Se,_e+(!Se.key||be&&be.key===Se.key?"":(""+Se.key).replace(L,"$&/")+"/")+D)),B.push(Se)),1;if(be=0,we=we===""?".":we+":",De(D))for(var xe=0;xe<D.length;xe++){Ie=D[xe];var Fe=we+I(Ie,xe);be+=Be(Ie,B,_e,Fe,Se)}else if(Fe=V(D),typeof Fe=="function")for(D=Fe.call(D),xe=0;!(Ie=D.next()).done;)Ie=Ie.value,Fe=we+I(Ie,xe++),be+=Be(Ie,B,_e,Fe,Se);else if(Ie==="object")throw B=String(D),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return be}function yt(D,B,_e){if(D==null)return D;var we=[],Se=0;return Be(D,we,"","",function(Ie){return B.call(_e,Ie,Se++)}),we}function Pt(D){if(D._status===-1){var B=D._result;B=B(),B.then(function(_e){(D._status===0||D._status===-1)&&(D._status=1,D._result=_e)},function(_e){(D._status===0||D._status===-1)&&(D._status=2,D._result=_e)}),D._status===-1&&(D._status=0,D._result=B)}if(D._status===1)return D._result.default;throw D._result}var Ge={current:null},Y={transition:null},le={ReactCurrentDispatcher:Ge,ReactCurrentBatchConfig:Y,ReactCurrentOwner:ke};function ne(){throw Error("act(...) is not supported in production builds of React.")}return Te.Children={map:yt,forEach:function(D,B,_e){yt(D,function(){B.apply(this,arguments)},_e)},count:function(D){var B=0;return yt(D,function(){B++}),B},toArray:function(D){return yt(D,function(B){return B})||[]},only:function(D){if(!x(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Te.Component=q,Te.Fragment=n,Te.Profiler=a,Te.PureComponent=ye,Te.StrictMode=s,Te.Suspense=y,Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,Te.act=ne,Te.cloneElement=function(D,B,_e){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var we=Z({},D.props),Se=D.key,Ie=D.ref,be=D._owner;if(B!=null){if(B.ref!==void 0&&(Ie=B.ref,be=ke.current),B.key!==void 0&&(Se=""+B.key),D.type&&D.type.defaultProps)var xe=D.type.defaultProps;for(Fe in B)Ue.call(B,Fe)&&!P.hasOwnProperty(Fe)&&(we[Fe]=B[Fe]===void 0&&xe!==void 0?xe[Fe]:B[Fe])}var Fe=arguments.length-2;if(Fe===1)we.children=_e;else if(1<Fe){xe=Array(Fe);for(var jt=0;jt<Fe;jt++)xe[jt]=arguments[jt+2];we.children=xe}return{$$typeof:i,type:D.type,key:Se,ref:Ie,props:we,_owner:be}},Te.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:c,_context:D},D.Consumer=D},Te.createElement=T,Te.createFactory=function(D){var B=T.bind(null,D);return B.type=D,B},Te.createRef=function(){return{current:null}},Te.forwardRef=function(D){return{$$typeof:g,render:D}},Te.isValidElement=x,Te.lazy=function(D){return{$$typeof:S,_payload:{_status:-1,_result:D},_init:Pt}},Te.memo=function(D,B){return{$$typeof:_,type:D,compare:B===void 0?null:B}},Te.startTransition=function(D){var B=Y.transition;Y.transition={};try{D()}finally{Y.transition=B}},Te.unstable_act=ne,Te.useCallback=function(D,B){return Ge.current.useCallback(D,B)},Te.useContext=function(D){return Ge.current.useContext(D)},Te.useDebugValue=function(){},Te.useDeferredValue=function(D){return Ge.current.useDeferredValue(D)},Te.useEffect=function(D,B){return Ge.current.useEffect(D,B)},Te.useId=function(){return Ge.current.useId()},Te.useImperativeHandle=function(D,B,_e){return Ge.current.useImperativeHandle(D,B,_e)},Te.useInsertionEffect=function(D,B){return Ge.current.useInsertionEffect(D,B)},Te.useLayoutEffect=function(D,B){return Ge.current.useLayoutEffect(D,B)},Te.useMemo=function(D,B){return Ge.current.useMemo(D,B)},Te.useReducer=function(D,B,_e){return Ge.current.useReducer(D,B,_e)},Te.useRef=function(D){return Ge.current.useRef(D)},Te.useState=function(D){return Ge.current.useState(D)},Te.useSyncExternalStore=function(D,B,_e){return Ge.current.useSyncExternalStore(D,B,_e)},Te.useTransition=function(){return Ge.current.useTransition()},Te.version="18.3.1",Te}var Ep;function Nh(){return Ep||(Ep=1,Gc.exports=Mv()),Gc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tp;function bv(){if(Tp)return $o;Tp=1;var i=Nh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(g,y,_){var S,C={},V=null,z=null;_!==void 0&&(V=""+_),y.key!==void 0&&(V=""+y.key),y.ref!==void 0&&(z=y.ref);for(S in y)s.call(y,S)&&!c.hasOwnProperty(S)&&(C[S]=y[S]);if(g&&g.defaultProps)for(S in y=g.defaultProps,y)C[S]===void 0&&(C[S]=y[S]);return{$$typeof:e,type:g,key:V,ref:z,props:C,_owner:a.current}}return $o.Fragment=n,$o.jsx=d,$o.jsxs=d,$o}var Sp;function Ov(){return Sp||(Sp=1,qc.exports=bv()),qc.exports}var W=Ov(),pt=Nh(),Nl={},Kc={exports:{}},Qt={},Xc={exports:{}},Jc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ip;function jv(){return Ip||(Ip=1,function(i){function e(Y,le){var ne=Y.length;Y.push(le);e:for(;0<ne;){var D=ne-1>>>1,B=Y[D];if(0<a(B,le))Y[D]=le,Y[ne]=B,ne=D;else break e}}function n(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var le=Y[0],ne=Y.pop();if(ne!==le){Y[0]=ne;e:for(var D=0,B=Y.length,_e=B>>>1;D<_e;){var we=2*(D+1)-1,Se=Y[we],Ie=we+1,be=Y[Ie];if(0>a(Se,ne))Ie<B&&0>a(be,Se)?(Y[D]=be,Y[Ie]=ne,D=Ie):(Y[D]=Se,Y[we]=ne,D=we);else if(Ie<B&&0>a(be,ne))Y[D]=be,Y[Ie]=ne,D=Ie;else break e}}return le}function a(Y,le){var ne=Y.sortIndex-le.sortIndex;return ne!==0?ne:Y.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();i.unstable_now=function(){return d.now()-g}}var y=[],_=[],S=1,C=null,V=3,z=!1,Z=!1,J=!1,q=typeof setTimeout=="function"?setTimeout:null,Ee=typeof clearTimeout=="function"?clearTimeout:null,ye=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ve(Y){for(var le=n(_);le!==null;){if(le.callback===null)s(_);else if(le.startTime<=Y)s(_),le.sortIndex=le.expirationTime,e(y,le);else break;le=n(_)}}function De(Y){if(J=!1,ve(Y),!Z)if(n(y)!==null)Z=!0,Pt(Ue);else{var le=n(_);le!==null&&Ge(De,le.startTime-Y)}}function Ue(Y,le){Z=!1,J&&(J=!1,Ee(T),T=-1),z=!0;var ne=V;try{for(ve(le),C=n(y);C!==null&&(!(C.expirationTime>le)||Y&&!k());){var D=C.callback;if(typeof D=="function"){C.callback=null,V=C.priorityLevel;var B=D(C.expirationTime<=le);le=i.unstable_now(),typeof B=="function"?C.callback=B:C===n(y)&&s(y),ve(le)}else s(y);C=n(y)}if(C!==null)var _e=!0;else{var we=n(_);we!==null&&Ge(De,we.startTime-le),_e=!1}return _e}finally{C=null,V=ne,z=!1}}var ke=!1,P=null,T=-1,A=5,x=-1;function k(){return!(i.unstable_now()-x<A)}function L(){if(P!==null){var Y=i.unstable_now();x=Y;var le=!0;try{le=P(!0,Y)}finally{le?I():(ke=!1,P=null)}}else ke=!1}var I;if(typeof ye=="function")I=function(){ye(L)};else if(typeof MessageChannel<"u"){var Be=new MessageChannel,yt=Be.port2;Be.port1.onmessage=L,I=function(){yt.postMessage(null)}}else I=function(){q(L,0)};function Pt(Y){P=Y,ke||(ke=!0,I())}function Ge(Y,le){T=q(function(){Y(i.unstable_now())},le)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Y){Y.callback=null},i.unstable_continueExecution=function(){Z||z||(Z=!0,Pt(Ue))},i.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Y?Math.floor(1e3/Y):5},i.unstable_getCurrentPriorityLevel=function(){return V},i.unstable_getFirstCallbackNode=function(){return n(y)},i.unstable_next=function(Y){switch(V){case 1:case 2:case 3:var le=3;break;default:le=V}var ne=V;V=le;try{return Y()}finally{V=ne}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(Y,le){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ne=V;V=Y;try{return le()}finally{V=ne}},i.unstable_scheduleCallback=function(Y,le,ne){var D=i.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?D+ne:D):ne=D,Y){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=ne+B,Y={id:S++,callback:le,priorityLevel:Y,startTime:ne,expirationTime:B,sortIndex:-1},ne>D?(Y.sortIndex=ne,e(_,Y),n(y)===null&&Y===n(_)&&(J?(Ee(T),T=-1):J=!0,Ge(De,ne-D))):(Y.sortIndex=B,e(y,Y),Z||z||(Z=!0,Pt(Ue))),Y},i.unstable_shouldYield=k,i.unstable_wrapCallback=function(Y){var le=V;return function(){var ne=V;V=le;try{return Y.apply(this,arguments)}finally{V=ne}}}}(Jc)),Jc}var Ap;function Fv(){return Ap||(Ap=1,Xc.exports=jv()),Xc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rp;function zv(){if(Rp)return Qt;Rp=1;var i=Nh(),e=Fv();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function c(t,r){d(t,r),d(t+"Capture",r)}function d(t,r){for(a[t]=r,t=0;t<r.length;t++)s.add(r[t])}var g=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,S={},C={};function V(t){return y.call(C,t)?!0:y.call(S,t)?!1:_.test(t)?C[t]=!0:(S[t]=!0,!1)}function z(t,r,o,u){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Z(t,r,o,u){if(r===null||typeof r>"u"||z(t,r,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function J(t,r,o,u,h,f,v){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=f,this.removeEmptyString=v}var q={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){q[t]=new J(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];q[r]=new J(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){q[t]=new J(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){q[t]=new J(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){q[t]=new J(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){q[t]=new J(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){q[t]=new J(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){q[t]=new J(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){q[t]=new J(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ee=/[\-:]([a-z])/g;function ye(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(Ee,ye);q[r]=new J(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(Ee,ye);q[r]=new J(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(Ee,ye);q[r]=new J(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){q[t]=new J(t,1,!1,t.toLowerCase(),null,!1,!1)}),q.xlinkHref=new J("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){q[t]=new J(t,1,!1,t.toLowerCase(),null,!0,!0)});function ve(t,r,o,u){var h=q.hasOwnProperty(r)?q[r]:null;(h!==null?h.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(Z(r,o,h,u)&&(o=null),u||h===null?V(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):h.mustUseProperty?t[h.propertyName]=o===null?h.type===3?!1:"":o:(r=h.attributeName,u=h.attributeNamespace,o===null?t.removeAttribute(r):(h=h.type,o=h===3||h===4&&o===!0?"":""+o,u?t.setAttributeNS(u,r,o):t.setAttribute(r,o))))}var De=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ue=Symbol.for("react.element"),ke=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),k=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),Be=Symbol.for("react.suspense_list"),yt=Symbol.for("react.memo"),Pt=Symbol.for("react.lazy"),Ge=Symbol.for("react.offscreen"),Y=Symbol.iterator;function le(t){return t===null||typeof t!="object"?null:(t=Y&&t[Y]||t["@@iterator"],typeof t=="function"?t:null)}var ne=Object.assign,D;function B(t){if(D===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);D=r&&r[1]||""}return`
`+D+t}var _e=!1;function we(t,r){if(!t||_e)return"";_e=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(j){var u=j}Reflect.construct(t,[],r)}else{try{r.call()}catch(j){u=j}t.call(r.prototype)}else{try{throw Error()}catch(j){u=j}t()}}catch(j){if(j&&u&&typeof j.stack=="string"){for(var h=j.stack.split(`
`),f=u.stack.split(`
`),v=h.length-1,E=f.length-1;1<=v&&0<=E&&h[v]!==f[E];)E--;for(;1<=v&&0<=E;v--,E--)if(h[v]!==f[E]){if(v!==1||E!==1)do if(v--,E--,0>E||h[v]!==f[E]){var R=`
`+h[v].replace(" at new "," at ");return t.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",t.displayName)),R}while(1<=v&&0<=E);break}}}finally{_e=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?B(t):""}function Se(t){switch(t.tag){case 5:return B(t.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return t=we(t.type,!1),t;case 11:return t=we(t.type.render,!1),t;case 1:return t=we(t.type,!0),t;default:return""}}function Ie(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case P:return"Fragment";case ke:return"Portal";case A:return"Profiler";case T:return"StrictMode";case I:return"Suspense";case Be:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case k:return(t.displayName||"Context")+".Consumer";case x:return(t._context.displayName||"Context")+".Provider";case L:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case yt:return r=t.displayName||null,r!==null?r:Ie(t.type)||"Memo";case Pt:r=t._payload,t=t._init;try{return Ie(t(r))}catch{}}return null}function be(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ie(r);case 8:return r===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function xe(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Fe(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function jt(t){var r=Fe(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),u=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){u=""+v,f.call(this,v)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(v){u=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Hi(t){t._valueTracker||(t._valueTracker=jt(t))}function Xs(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return t&&(u=Fe(t)?t.checked?"true":"false":t.value),t=u,t!==o?(r.setValue(t),!0):!1}function _r(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Wi(t,r){var o=r.checked;return ne({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function ma(t,r){var o=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;o=xe(r.value!=null?r.value:o),t._wrapperState={initialChecked:u,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function $i(t,r){r=r.checked,r!=null&&ve(t,"checked",r,!1)}function ui(t,r){$i(t,r);var o=xe(r.value),u=r.type;if(o!=null)u==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?ot(t,r.type,o):r.hasOwnProperty("defaultValue")&&ot(t,r.type,xe(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function Js(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function ot(t,r,o){(r!=="number"||_r(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var nt=Array.isArray;function mn(t,r,o,u){if(t=t.options,r){r={};for(var h=0;h<o.length;h++)r["$"+o[h]]=!0;for(o=0;o<t.length;o++)h=r.hasOwnProperty("$"+t[o].value),t[o].selected!==h&&(t[o].selected=h),h&&u&&(t[o].defaultSelected=!0)}else{for(o=""+xe(o),r=null,h=0;h<t.length;h++){if(t[h].value===o){t[h].selected=!0,u&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Ys(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return ne({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Zs(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(nt(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:xe(o)}}function ga(t,r){var o=xe(r.value),u=xe(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),u!=null&&(t.defaultValue=""+u)}function wr(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function eo(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qi(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?eo(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Er,ya=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,u,h){MSApp.execUnsafeLocalFunction(function(){return t(r,o,u,h)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(Er=Er||document.createElement("div"),Er.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Er.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function ci(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var Tr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},va=["Webkit","ms","Moz","O"];Object.keys(Tr).forEach(function(t){va.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),Tr[r]=Tr[t]})});function Sr(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||Tr.hasOwnProperty(t)&&Tr[t]?(""+r).trim():r+"px"}function qi(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var u=o.indexOf("--")===0,h=Sr(o,r[o],u);o==="float"&&(o="cssFloat"),u?t.setProperty(o,h):t[o]=h}}var to=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gn(t,r){if(r){if(to[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function Gi(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ir=null;function Ki(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Yn=null,Zn=null,et=null;function no(t){if(t=No(t)){if(typeof Yn!="function")throw Error(n(280));var r=t.stateNode;r&&(r=$a(r),Yn(t.stateNode,t.type,r))}}function Ar(t){Zn?et?et.push(t):et=[t]:Zn=t}function Rr(){if(Zn){var t=Zn,r=et;if(et=Zn=null,no(t),r)for(t=0;t<r.length;t++)no(r[t])}}function _a(t,r){return t(r)}function wa(){}var An=!1;function Ea(t,r,o){if(An)return t(r,o);An=!0;try{return _a(t,r,o)}finally{An=!1,(Zn!==null||et!==null)&&(wa(),Rr())}}function hi(t,r){var o=t.stateNode;if(o===null)return null;var u=$a(o);if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var Cr=!1;if(g)try{var kr={};Object.defineProperty(kr,"passive",{get:function(){Cr=!0}}),window.addEventListener("test",kr,kr),window.removeEventListener("test",kr,kr)}catch{Cr=!1}function Ta(t,r,o,u,h,f,v,E,R){var j=Array.prototype.slice.call(arguments,3);try{r.apply(o,j)}catch(Q){this.onError(Q)}}var er=!1,Rn=null,Xi=!1,on=null,Sa={onError:function(t){er=!0,Rn=t}};function Ia(t,r,o,u,h,f,v,E,R){er=!1,Rn=null,Ta.apply(Sa,arguments)}function ro(t,r,o,u,h,f,v,E,R){if(Ia.apply(this,arguments),er){if(er){var j=Rn;er=!1,Rn=null}else throw Error(n(198));Xi||(Xi=!0,on=j)}}function yn(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function io(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function Aa(t){if(yn(t)!==t)throw Error(n(188))}function Ra(t){var r=t.alternate;if(!r){if(r=yn(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,u=r;;){var h=o.return;if(h===null)break;var f=h.alternate;if(f===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===o)return Aa(h),t;if(f===u)return Aa(h),r;f=f.sibling}throw Error(n(188))}if(o.return!==u.return)o=h,u=f;else{for(var v=!1,E=h.child;E;){if(E===o){v=!0,o=h,u=f;break}if(E===u){v=!0,u=h,o=f;break}E=E.sibling}if(!v){for(E=f.child;E;){if(E===o){v=!0,o=f,u=h;break}if(E===u){v=!0,u=f,o=h;break}E=E.sibling}if(!v)throw Error(n(189))}}if(o.alternate!==u)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function Ca(t){return t=Ra(t),t!==null?di(t):null}function di(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=di(t);if(r!==null)return r;t=t.sibling}return null}var so=e.unstable_scheduleCallback,Ji=e.unstable_cancelCallback,fi=e.unstable_shouldYield,tr=e.unstable_requestPaint,We=e.unstable_now,Iu=e.unstable_getCurrentPriorityLevel,Yi=e.unstable_ImmediatePriority,oo=e.unstable_UserBlockingPriority,pi=e.unstable_NormalPriority,ao=e.unstable_LowPriority,Zi=e.unstable_IdlePriority,mi=null,Kt=null;function ka(t){if(Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(mi,t,void 0,(t.current.flags&128)===128)}catch{}}var Xt=Math.clz32?Math.clz32:gi,Cn=Math.log,an=Math.LN2;function gi(t){return t>>>=0,t===0?32:31-(Cn(t)/an|0)|0}var kn=64,Pr=4194304;function Me(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function nr(t,r){var o=t.pendingLanes;if(o===0)return 0;var u=0,h=t.suspendedLanes,f=t.pingedLanes,v=o&268435455;if(v!==0){var E=v&~h;E!==0?u=Me(E):(f&=v,f!==0&&(u=Me(f)))}else v=o&~h,v!==0?u=Me(v):f!==0&&(u=Me(f));if(u===0)return 0;if(r!==0&&r!==u&&(r&h)===0&&(h=u&-u,f=r&-r,h>=f||h===16&&(f&4194240)!==0))return r;if((u&4)!==0&&(u|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=u;0<r;)o=31-Xt(r),h=1<<o,u|=t[o],r&=~h;return u}function yi(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vi(t,r){for(var o=t.suspendedLanes,u=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes;0<f;){var v=31-Xt(f),E=1<<v,R=h[v];R===-1?((E&o)===0||(E&u)!==0)&&(h[v]=yi(E,r)):R<=r&&(t.expiredLanes|=E),f&=~E}}function lo(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function uo(){var t=kn;return kn<<=1,(kn&4194240)===0&&(kn=64),t}function co(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function _i(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Xt(r),t[r]=o}function Au(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<o;){var h=31-Xt(o),f=1<<h;r[h]=0,u[h]=-1,t[h]=-1,o&=~f}}function ho(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var u=31-Xt(o),h=1<<u;h&r|t[u]&r&&(t[u]|=r),o&=~h}}var Ce=0;function Pn(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var fo,es,po,mo,go,Nn=!1,ts=[],xn=null,Vn=null,Tt=null,wi=new Map,rr=new Map,Jt=[],Pa="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nr(t,r){switch(t){case"focusin":case"focusout":xn=null;break;case"dragenter":case"dragleave":Vn=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":wi.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":rr.delete(r.pointerId)}}function vn(t,r,o,u,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:f,targetContainers:[h]},r!==null&&(r=No(r),r!==null&&es(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function Na(t,r,o,u,h){switch(r){case"focusin":return xn=vn(xn,t,r,o,u,h),!0;case"dragenter":return Vn=vn(Vn,t,r,o,u,h),!0;case"mouseover":return Tt=vn(Tt,t,r,o,u,h),!0;case"pointerover":var f=h.pointerId;return wi.set(f,vn(wi.get(f)||null,t,r,o,u,h)),!0;case"gotpointercapture":return f=h.pointerId,rr.set(f,vn(rr.get(f)||null,t,r,o,u,h)),!0}return!1}function ns(t){var r=Ii(t.target);if(r!==null){var o=yn(r);if(o!==null){if(r=o.tag,r===13){if(r=io(o),r!==null){t.blockedOn=r,go(t.priority,function(){po(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ze(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=rs(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);Ir=u,o.target.dispatchEvent(u),Ir=null}else return r=No(o),r!==null&&es(r),t.blockedOn=o,!1;r.shift()}return!0}function xa(t,r,o){ze(t)&&o.delete(r)}function Ru(){Nn=!1,xn!==null&&ze(xn)&&(xn=null),Vn!==null&&ze(Vn)&&(Vn=null),Tt!==null&&ze(Tt)&&(Tt=null),wi.forEach(xa),rr.forEach(xa)}function xr(t,r){t.blockedOn===r&&(t.blockedOn=null,Nn||(Nn=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ru)))}function Vr(t){function r(h){return xr(h,t)}if(0<ts.length){xr(ts[0],t);for(var o=1;o<ts.length;o++){var u=ts[o];u.blockedOn===t&&(u.blockedOn=null)}}for(xn!==null&&xr(xn,t),Vn!==null&&xr(Vn,t),Tt!==null&&xr(Tt,t),wi.forEach(r),rr.forEach(r),o=0;o<Jt.length;o++)u=Jt[o],u.blockedOn===t&&(u.blockedOn=null);for(;0<Jt.length&&(o=Jt[0],o.blockedOn===null);)ns(o),o.blockedOn===null&&Jt.shift()}var ir=De.ReactCurrentBatchConfig,sr=!0;function Dn(t,r,o,u){var h=Ce,f=ir.transition;ir.transition=null;try{Ce=1,yo(t,r,o,u)}finally{Ce=h,ir.transition=f}}function Va(t,r,o,u){var h=Ce,f=ir.transition;ir.transition=null;try{Ce=4,yo(t,r,o,u)}finally{Ce=h,ir.transition=f}}function yo(t,r,o,u){if(sr){var h=rs(t,r,o,u);if(h===null)Ou(t,r,u,Ln,o),Nr(t,u);else if(Na(h,t,r,o,u))u.stopPropagation();else if(Nr(t,u),r&4&&-1<Pa.indexOf(t)){for(;h!==null;){var f=No(h);if(f!==null&&fo(f),f=rs(t,r,o,u),f===null&&Ou(t,r,u,Ln,o),f===h)break;h=f}h!==null&&u.stopPropagation()}else Ou(t,r,u,null,o)}}var Ln=null;function rs(t,r,o,u){if(Ln=null,t=Ki(u),t=Ii(t),t!==null)if(r=yn(t),r===null)t=null;else if(o=r.tag,o===13){if(t=io(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return Ln=t,null}function is(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Iu()){case Yi:return 1;case oo:return 4;case pi:case ao:return 16;case Zi:return 536870912;default:return 16}default:return 16}}var Yt=null,ss=null,or=null;function Da(){if(or)return or;var t,r=ss,o=r.length,u,h="value"in Yt?Yt.value:Yt.textContent,f=h.length;for(t=0;t<o&&r[t]===h[t];t++);var v=o-t;for(u=1;u<=v&&r[o-u]===h[f-u];u++);return or=h.slice(t,1<u?1-u:void 0)}function Ei(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Mn(){return!0}function vo(){return!1}function Nt(t){function r(o,u,h,f,v){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(o=t[E],this[E]=o?o(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Mn:vo,this.isPropagationStopped=vo,this}return ne(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Mn)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Mn)},persist:function(){},isPersistent:Mn}),r}var bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ti=Nt(bn),Dr=ne({},bn,{view:0,detail:0}),os=Nt(Dr),as,ls,Zt,Si=ne({},Dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:me,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zt&&(Zt&&t.type==="mousemove"?(as=t.screenX-Zt.screenX,ls=t.screenY-Zt.screenY):ls=as=0,Zt=t),as)},movementY:function(t){return"movementY"in t?t.movementY:ls}}),_o=Nt(Si),La=ne({},Si,{dataTransfer:0}),Ma=Nt(La),us=ne({},Dr,{relatedTarget:0}),St=Nt(us),ba=ne({},bn,{animationName:0,elapsedTime:0,pseudoElement:0}),Oa=Nt(ba),Lr=ne({},bn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),l=Nt(Lr),p=ne({},bn,{data:0}),m=Nt(p),w={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},b={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},F={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function X(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=F[t])?!!r[t]:!1}function me(){return X}var rt=ne({},Dr,{key:function(t){if(t.key){var r=w[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Ei(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?b[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:me,charCode:function(t){return t.type==="keypress"?Ei(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ei(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),je=Nt(rt),at=ne({},Si,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),en=Nt(at),ar=ne({},Dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:me}),On=Nt(ar),jn=ne({},bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),cs=Nt(jn),wo=ne({},Si,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Py=Nt(wo),Ny=[9,13,27,32],Cu=g&&"CompositionEvent"in window,Eo=null;g&&"documentMode"in document&&(Eo=document.documentMode);var xy=g&&"TextEvent"in window&&!Eo,hd=g&&(!Cu||Eo&&8<Eo&&11>=Eo),dd=" ",fd=!1;function pd(t,r){switch(t){case"keyup":return Ny.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function md(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var hs=!1;function Vy(t,r){switch(t){case"compositionend":return md(r);case"keypress":return r.which!==32?null:(fd=!0,dd);case"textInput":return t=r.data,t===dd&&fd?null:t;default:return null}}function Dy(t,r){if(hs)return t==="compositionend"||!Cu&&pd(t,r)?(t=Da(),or=ss=Yt=null,hs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return hd&&r.locale!=="ko"?null:r.data;default:return null}}var Ly={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gd(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Ly[t.type]:r==="textarea"}function yd(t,r,o,u){Ar(u),r=Ba(r,"onChange"),0<r.length&&(o=new Ti("onChange","change",null,o,u),t.push({event:o,listeners:r}))}var To=null,So=null;function My(t){Md(t,0)}function ja(t){var r=gs(t);if(Xs(r))return t}function by(t,r){if(t==="change")return r}var vd=!1;if(g){var ku;if(g){var Pu="oninput"in document;if(!Pu){var _d=document.createElement("div");_d.setAttribute("oninput","return;"),Pu=typeof _d.oninput=="function"}ku=Pu}else ku=!1;vd=ku&&(!document.documentMode||9<document.documentMode)}function wd(){To&&(To.detachEvent("onpropertychange",Ed),So=To=null)}function Ed(t){if(t.propertyName==="value"&&ja(So)){var r=[];yd(r,So,t,Ki(t)),Ea(My,r)}}function Oy(t,r,o){t==="focusin"?(wd(),To=r,So=o,To.attachEvent("onpropertychange",Ed)):t==="focusout"&&wd()}function jy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ja(So)}function Fy(t,r){if(t==="click")return ja(r)}function zy(t,r){if(t==="input"||t==="change")return ja(r)}function Uy(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var _n=typeof Object.is=="function"?Object.is:Uy;function Io(t,r){if(_n(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!y.call(r,h)||!_n(t[h],r[h]))return!1}return!0}function Td(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Sd(t,r){var o=Td(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=r&&u>=r)return{node:o,offset:r-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Td(o)}}function Id(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Id(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Ad(){for(var t=window,r=_r();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=_r(t.document)}return r}function Nu(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function By(t){var r=Ad(),o=t.focusedElem,u=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&Id(o.ownerDocument.documentElement,o)){if(u!==null&&Nu(o)){if(r=u.start,t=u.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var h=o.textContent.length,f=Math.min(u.start,h);u=u.end===void 0?f:Math.min(u.end,h),!t.extend&&f>u&&(h=u,u=f,f=h),h=Sd(o,f);var v=Sd(o,u);h&&v&&(t.rangeCount!==1||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==v.node||t.focusOffset!==v.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),t.removeAllRanges(),f>u?(t.addRange(r),t.extend(v.node,v.offset)):(r.setEnd(v.node,v.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Hy=g&&"documentMode"in document&&11>=document.documentMode,ds=null,xu=null,Ao=null,Vu=!1;function Rd(t,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Vu||ds==null||ds!==_r(u)||(u=ds,"selectionStart"in u&&Nu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ao&&Io(Ao,u)||(Ao=u,u=Ba(xu,"onSelect"),0<u.length&&(r=new Ti("onSelect","select",null,r,o),t.push({event:r,listeners:u}),r.target=ds)))}function Fa(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var fs={animationend:Fa("Animation","AnimationEnd"),animationiteration:Fa("Animation","AnimationIteration"),animationstart:Fa("Animation","AnimationStart"),transitionend:Fa("Transition","TransitionEnd")},Du={},Cd={};g&&(Cd=document.createElement("div").style,"AnimationEvent"in window||(delete fs.animationend.animation,delete fs.animationiteration.animation,delete fs.animationstart.animation),"TransitionEvent"in window||delete fs.transitionend.transition);function za(t){if(Du[t])return Du[t];if(!fs[t])return t;var r=fs[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in Cd)return Du[t]=r[o];return t}var kd=za("animationend"),Pd=za("animationiteration"),Nd=za("animationstart"),xd=za("transitionend"),Vd=new Map,Dd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mr(t,r){Vd.set(t,r),c(r,[t])}for(var Lu=0;Lu<Dd.length;Lu++){var Mu=Dd[Lu],Wy=Mu.toLowerCase(),$y=Mu[0].toUpperCase()+Mu.slice(1);Mr(Wy,"on"+$y)}Mr(kd,"onAnimationEnd"),Mr(Pd,"onAnimationIteration"),Mr(Nd,"onAnimationStart"),Mr("dblclick","onDoubleClick"),Mr("focusin","onFocus"),Mr("focusout","onBlur"),Mr(xd,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ro));function Ld(t,r,o){var u=t.type||"unknown-event";t.currentTarget=o,ro(u,r,void 0,t),t.currentTarget=null}function Md(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],h=u.event;u=u.listeners;e:{var f=void 0;if(r)for(var v=u.length-1;0<=v;v--){var E=u[v],R=E.instance,j=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break e;Ld(h,E,j),f=R}else for(v=0;v<u.length;v++){if(E=u[v],R=E.instance,j=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break e;Ld(h,E,j),f=R}}}if(Xi)throw t=on,Xi=!1,on=null,t}function $e(t,r){var o=r[Hu];o===void 0&&(o=r[Hu]=new Set);var u=t+"__bubble";o.has(u)||(bd(r,t,2,!1),o.add(u))}function bu(t,r,o){var u=0;r&&(u|=4),bd(o,t,u,r)}var Ua="_reactListening"+Math.random().toString(36).slice(2);function Co(t){if(!t[Ua]){t[Ua]=!0,s.forEach(function(o){o!=="selectionchange"&&(Qy.has(o)||bu(o,!1,t),bu(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Ua]||(r[Ua]=!0,bu("selectionchange",!1,r))}}function bd(t,r,o,u){switch(is(r)){case 1:var h=Dn;break;case 4:h=Va;break;default:h=yo}o=h.bind(null,r,o,t),h=void 0,!Cr||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),u?h!==void 0?t.addEventListener(r,o,{capture:!0,passive:h}):t.addEventListener(r,o,!0):h!==void 0?t.addEventListener(r,o,{passive:h}):t.addEventListener(r,o,!1)}function Ou(t,r,o,u,h){var f=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var v=u.tag;if(v===3||v===4){var E=u.stateNode.containerInfo;if(E===h||E.nodeType===8&&E.parentNode===h)break;if(v===4)for(v=u.return;v!==null;){var R=v.tag;if((R===3||R===4)&&(R=v.stateNode.containerInfo,R===h||R.nodeType===8&&R.parentNode===h))return;v=v.return}for(;E!==null;){if(v=Ii(E),v===null)return;if(R=v.tag,R===5||R===6){u=f=v;continue e}E=E.parentNode}}u=u.return}Ea(function(){var j=f,Q=Ki(o),G=[];e:{var H=Vd.get(t);if(H!==void 0){var ee=Ti,ie=t;switch(t){case"keypress":if(Ei(o)===0)break e;case"keydown":case"keyup":ee=je;break;case"focusin":ie="focus",ee=St;break;case"focusout":ie="blur",ee=St;break;case"beforeblur":case"afterblur":ee=St;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=_o;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=Ma;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=On;break;case kd:case Pd:case Nd:ee=Oa;break;case xd:ee=cs;break;case"scroll":ee=os;break;case"wheel":ee=Py;break;case"copy":case"cut":case"paste":ee=l;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=en}var se=(r&4)!==0,it=!se&&t==="scroll",M=se?H!==null?H+"Capture":null:H;se=[];for(var N=j,O;N!==null;){O=N;var K=O.stateNode;if(O.tag===5&&K!==null&&(O=K,M!==null&&(K=hi(N,M),K!=null&&se.push(ko(N,K,O)))),it)break;N=N.return}0<se.length&&(H=new ee(H,ie,null,o,Q),G.push({event:H,listeners:se}))}}if((r&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",ee=t==="mouseout"||t==="pointerout",H&&o!==Ir&&(ie=o.relatedTarget||o.fromElement)&&(Ii(ie)||ie[lr]))break e;if((ee||H)&&(H=Q.window===Q?Q:(H=Q.ownerDocument)?H.defaultView||H.parentWindow:window,ee?(ie=o.relatedTarget||o.toElement,ee=j,ie=ie?Ii(ie):null,ie!==null&&(it=yn(ie),ie!==it||ie.tag!==5&&ie.tag!==6)&&(ie=null)):(ee=null,ie=j),ee!==ie)){if(se=_o,K="onMouseLeave",M="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(se=en,K="onPointerLeave",M="onPointerEnter",N="pointer"),it=ee==null?H:gs(ee),O=ie==null?H:gs(ie),H=new se(K,N+"leave",ee,o,Q),H.target=it,H.relatedTarget=O,K=null,Ii(Q)===j&&(se=new se(M,N+"enter",ie,o,Q),se.target=O,se.relatedTarget=it,K=se),it=K,ee&&ie)t:{for(se=ee,M=ie,N=0,O=se;O;O=ps(O))N++;for(O=0,K=M;K;K=ps(K))O++;for(;0<N-O;)se=ps(se),N--;for(;0<O-N;)M=ps(M),O--;for(;N--;){if(se===M||M!==null&&se===M.alternate)break t;se=ps(se),M=ps(M)}se=null}else se=null;ee!==null&&Od(G,H,ee,se,!1),ie!==null&&it!==null&&Od(G,it,ie,se,!0)}}e:{if(H=j?gs(j):window,ee=H.nodeName&&H.nodeName.toLowerCase(),ee==="select"||ee==="input"&&H.type==="file")var oe=by;else if(gd(H))if(vd)oe=zy;else{oe=jy;var ue=Oy}else(ee=H.nodeName)&&ee.toLowerCase()==="input"&&(H.type==="checkbox"||H.type==="radio")&&(oe=Fy);if(oe&&(oe=oe(t,j))){yd(G,oe,o,Q);break e}ue&&ue(t,H,j),t==="focusout"&&(ue=H._wrapperState)&&ue.controlled&&H.type==="number"&&ot(H,"number",H.value)}switch(ue=j?gs(j):window,t){case"focusin":(gd(ue)||ue.contentEditable==="true")&&(ds=ue,xu=j,Ao=null);break;case"focusout":Ao=xu=ds=null;break;case"mousedown":Vu=!0;break;case"contextmenu":case"mouseup":case"dragend":Vu=!1,Rd(G,o,Q);break;case"selectionchange":if(Hy)break;case"keydown":case"keyup":Rd(G,o,Q)}var ce;if(Cu)e:{switch(t){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else hs?pd(t,o)&&(fe="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(fe="onCompositionStart");fe&&(hd&&o.locale!=="ko"&&(hs||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&hs&&(ce=Da()):(Yt=Q,ss="value"in Yt?Yt.value:Yt.textContent,hs=!0)),ue=Ba(j,fe),0<ue.length&&(fe=new m(fe,t,null,o,Q),G.push({event:fe,listeners:ue}),ce?fe.data=ce:(ce=md(o),ce!==null&&(fe.data=ce)))),(ce=xy?Vy(t,o):Dy(t,o))&&(j=Ba(j,"onBeforeInput"),0<j.length&&(Q=new m("onBeforeInput","beforeinput",null,o,Q),G.push({event:Q,listeners:j}),Q.data=ce))}Md(G,r)})}function ko(t,r,o){return{instance:t,listener:r,currentTarget:o}}function Ba(t,r){for(var o=r+"Capture",u=[];t!==null;){var h=t,f=h.stateNode;h.tag===5&&f!==null&&(h=f,f=hi(t,o),f!=null&&u.unshift(ko(t,f,h)),f=hi(t,r),f!=null&&u.push(ko(t,f,h))),t=t.return}return u}function ps(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Od(t,r,o,u,h){for(var f=r._reactName,v=[];o!==null&&o!==u;){var E=o,R=E.alternate,j=E.stateNode;if(R!==null&&R===u)break;E.tag===5&&j!==null&&(E=j,h?(R=hi(o,f),R!=null&&v.unshift(ko(o,R,E))):h||(R=hi(o,f),R!=null&&v.push(ko(o,R,E)))),o=o.return}v.length!==0&&t.push({event:r,listeners:v})}var qy=/\r\n?/g,Gy=/\u0000|\uFFFD/g;function jd(t){return(typeof t=="string"?t:""+t).replace(qy,`
`).replace(Gy,"")}function Ha(t,r,o){if(r=jd(r),jd(t)!==r&&o)throw Error(n(425))}function Wa(){}var ju=null,Fu=null;function zu(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Uu=typeof setTimeout=="function"?setTimeout:void 0,Ky=typeof clearTimeout=="function"?clearTimeout:void 0,Fd=typeof Promise=="function"?Promise:void 0,Xy=typeof queueMicrotask=="function"?queueMicrotask:typeof Fd<"u"?function(t){return Fd.resolve(null).then(t).catch(Jy)}:Uu;function Jy(t){setTimeout(function(){throw t})}function Bu(t,r){var o=r,u=0;do{var h=o.nextSibling;if(t.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(u===0){t.removeChild(h),Vr(r);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=h}while(o);Vr(r)}function br(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function zd(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var ms=Math.random().toString(36).slice(2),Fn="__reactFiber$"+ms,Po="__reactProps$"+ms,lr="__reactContainer$"+ms,Hu="__reactEvents$"+ms,Yy="__reactListeners$"+ms,Zy="__reactHandles$"+ms;function Ii(t){var r=t[Fn];if(r)return r;for(var o=t.parentNode;o;){if(r=o[lr]||o[Fn]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=zd(t);t!==null;){if(o=t[Fn])return o;t=zd(t)}return r}t=o,o=t.parentNode}return null}function No(t){return t=t[Fn]||t[lr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function gs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function $a(t){return t[Po]||null}var Wu=[],ys=-1;function Or(t){return{current:t}}function Qe(t){0>ys||(t.current=Wu[ys],Wu[ys]=null,ys--)}function He(t,r){ys++,Wu[ys]=t.current,t.current=r}var jr={},xt=Or(jr),Ut=Or(!1),Ai=jr;function vs(t,r){var o=t.type.contextTypes;if(!o)return jr;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var h={},f;for(f in o)h[f]=r[f];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=h),h}function Bt(t){return t=t.childContextTypes,t!=null}function Qa(){Qe(Ut),Qe(xt)}function Ud(t,r,o){if(xt.current!==jr)throw Error(n(168));He(xt,r),He(Ut,o)}function Bd(t,r,o){var u=t.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var h in u)if(!(h in r))throw Error(n(108,be(t)||"Unknown",h));return ne({},o,u)}function qa(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||jr,Ai=xt.current,He(xt,t),He(Ut,Ut.current),!0}function Hd(t,r,o){var u=t.stateNode;if(!u)throw Error(n(169));o?(t=Bd(t,r,Ai),u.__reactInternalMemoizedMergedChildContext=t,Qe(Ut),Qe(xt),He(xt,t)):Qe(Ut),He(Ut,o)}var ur=null,Ga=!1,$u=!1;function Wd(t){ur===null?ur=[t]:ur.push(t)}function ev(t){Ga=!0,Wd(t)}function Fr(){if(!$u&&ur!==null){$u=!0;var t=0,r=Ce;try{var o=ur;for(Ce=1;t<o.length;t++){var u=o[t];do u=u(!0);while(u!==null)}ur=null,Ga=!1}catch(h){throw ur!==null&&(ur=ur.slice(t+1)),so(Yi,Fr),h}finally{Ce=r,$u=!1}}return null}var _s=[],ws=0,Ka=null,Xa=0,ln=[],un=0,Ri=null,cr=1,hr="";function Ci(t,r){_s[ws++]=Xa,_s[ws++]=Ka,Ka=t,Xa=r}function $d(t,r,o){ln[un++]=cr,ln[un++]=hr,ln[un++]=Ri,Ri=t;var u=cr;t=hr;var h=32-Xt(u)-1;u&=~(1<<h),o+=1;var f=32-Xt(r)+h;if(30<f){var v=h-h%5;f=(u&(1<<v)-1).toString(32),u>>=v,h-=v,cr=1<<32-Xt(r)+h|o<<h|u,hr=f+t}else cr=1<<f|o<<h|u,hr=t}function Qu(t){t.return!==null&&(Ci(t,1),$d(t,1,0))}function qu(t){for(;t===Ka;)Ka=_s[--ws],_s[ws]=null,Xa=_s[--ws],_s[ws]=null;for(;t===Ri;)Ri=ln[--un],ln[un]=null,hr=ln[--un],ln[un]=null,cr=ln[--un],ln[un]=null}var tn=null,nn=null,Ke=!1,wn=null;function Qd(t,r){var o=fn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function qd(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,tn=t,nn=br(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,tn=t,nn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=Ri!==null?{id:cr,overflow:hr}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=fn(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,tn=t,nn=null,!0):!1;default:return!1}}function Gu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ku(t){if(Ke){var r=nn;if(r){var o=r;if(!qd(t,r)){if(Gu(t))throw Error(n(418));r=br(o.nextSibling);var u=tn;r&&qd(t,r)?Qd(u,o):(t.flags=t.flags&-4097|2,Ke=!1,tn=t)}}else{if(Gu(t))throw Error(n(418));t.flags=t.flags&-4097|2,Ke=!1,tn=t}}}function Gd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tn=t}function Ja(t){if(t!==tn)return!1;if(!Ke)return Gd(t),Ke=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!zu(t.type,t.memoizedProps)),r&&(r=nn)){if(Gu(t))throw Kd(),Error(n(418));for(;r;)Qd(t,r),r=br(r.nextSibling)}if(Gd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){nn=br(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}nn=null}}else nn=tn?br(t.stateNode.nextSibling):null;return!0}function Kd(){for(var t=nn;t;)t=br(t.nextSibling)}function Es(){nn=tn=null,Ke=!1}function Xu(t){wn===null?wn=[t]:wn.push(t)}var tv=De.ReactCurrentBatchConfig;function xo(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var u=o.stateNode}if(!u)throw Error(n(147,t));var h=u,f=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===f?r.ref:(r=function(v){var E=h.refs;v===null?delete E[f]:E[f]=v},r._stringRef=f,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function Ya(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function Xd(t){var r=t._init;return r(t._payload)}function Jd(t){function r(M,N){if(t){var O=M.deletions;O===null?(M.deletions=[N],M.flags|=16):O.push(N)}}function o(M,N){if(!t)return null;for(;N!==null;)r(M,N),N=N.sibling;return null}function u(M,N){for(M=new Map;N!==null;)N.key!==null?M.set(N.key,N):M.set(N.index,N),N=N.sibling;return M}function h(M,N){return M=qr(M,N),M.index=0,M.sibling=null,M}function f(M,N,O){return M.index=O,t?(O=M.alternate,O!==null?(O=O.index,O<N?(M.flags|=2,N):O):(M.flags|=2,N)):(M.flags|=1048576,N)}function v(M){return t&&M.alternate===null&&(M.flags|=2),M}function E(M,N,O,K){return N===null||N.tag!==6?(N=Uc(O,M.mode,K),N.return=M,N):(N=h(N,O),N.return=M,N)}function R(M,N,O,K){var oe=O.type;return oe===P?Q(M,N,O.props.children,K,O.key):N!==null&&(N.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===Pt&&Xd(oe)===N.type)?(K=h(N,O.props),K.ref=xo(M,N,O),K.return=M,K):(K=Tl(O.type,O.key,O.props,null,M.mode,K),K.ref=xo(M,N,O),K.return=M,K)}function j(M,N,O,K){return N===null||N.tag!==4||N.stateNode.containerInfo!==O.containerInfo||N.stateNode.implementation!==O.implementation?(N=Bc(O,M.mode,K),N.return=M,N):(N=h(N,O.children||[]),N.return=M,N)}function Q(M,N,O,K,oe){return N===null||N.tag!==7?(N=Mi(O,M.mode,K,oe),N.return=M,N):(N=h(N,O),N.return=M,N)}function G(M,N,O){if(typeof N=="string"&&N!==""||typeof N=="number")return N=Uc(""+N,M.mode,O),N.return=M,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Ue:return O=Tl(N.type,N.key,N.props,null,M.mode,O),O.ref=xo(M,null,N),O.return=M,O;case ke:return N=Bc(N,M.mode,O),N.return=M,N;case Pt:var K=N._init;return G(M,K(N._payload),O)}if(nt(N)||le(N))return N=Mi(N,M.mode,O,null),N.return=M,N;Ya(M,N)}return null}function H(M,N,O,K){var oe=N!==null?N.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return oe!==null?null:E(M,N,""+O,K);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Ue:return O.key===oe?R(M,N,O,K):null;case ke:return O.key===oe?j(M,N,O,K):null;case Pt:return oe=O._init,H(M,N,oe(O._payload),K)}if(nt(O)||le(O))return oe!==null?null:Q(M,N,O,K,null);Ya(M,O)}return null}function ee(M,N,O,K,oe){if(typeof K=="string"&&K!==""||typeof K=="number")return M=M.get(O)||null,E(N,M,""+K,oe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Ue:return M=M.get(K.key===null?O:K.key)||null,R(N,M,K,oe);case ke:return M=M.get(K.key===null?O:K.key)||null,j(N,M,K,oe);case Pt:var ue=K._init;return ee(M,N,O,ue(K._payload),oe)}if(nt(K)||le(K))return M=M.get(O)||null,Q(N,M,K,oe,null);Ya(N,K)}return null}function ie(M,N,O,K){for(var oe=null,ue=null,ce=N,fe=N=0,wt=null;ce!==null&&fe<O.length;fe++){ce.index>fe?(wt=ce,ce=null):wt=ce.sibling;var Le=H(M,ce,O[fe],K);if(Le===null){ce===null&&(ce=wt);break}t&&ce&&Le.alternate===null&&r(M,ce),N=f(Le,N,fe),ue===null?oe=Le:ue.sibling=Le,ue=Le,ce=wt}if(fe===O.length)return o(M,ce),Ke&&Ci(M,fe),oe;if(ce===null){for(;fe<O.length;fe++)ce=G(M,O[fe],K),ce!==null&&(N=f(ce,N,fe),ue===null?oe=ce:ue.sibling=ce,ue=ce);return Ke&&Ci(M,fe),oe}for(ce=u(M,ce);fe<O.length;fe++)wt=ee(ce,M,fe,O[fe],K),wt!==null&&(t&&wt.alternate!==null&&ce.delete(wt.key===null?fe:wt.key),N=f(wt,N,fe),ue===null?oe=wt:ue.sibling=wt,ue=wt);return t&&ce.forEach(function(Gr){return r(M,Gr)}),Ke&&Ci(M,fe),oe}function se(M,N,O,K){var oe=le(O);if(typeof oe!="function")throw Error(n(150));if(O=oe.call(O),O==null)throw Error(n(151));for(var ue=oe=null,ce=N,fe=N=0,wt=null,Le=O.next();ce!==null&&!Le.done;fe++,Le=O.next()){ce.index>fe?(wt=ce,ce=null):wt=ce.sibling;var Gr=H(M,ce,Le.value,K);if(Gr===null){ce===null&&(ce=wt);break}t&&ce&&Gr.alternate===null&&r(M,ce),N=f(Gr,N,fe),ue===null?oe=Gr:ue.sibling=Gr,ue=Gr,ce=wt}if(Le.done)return o(M,ce),Ke&&Ci(M,fe),oe;if(ce===null){for(;!Le.done;fe++,Le=O.next())Le=G(M,Le.value,K),Le!==null&&(N=f(Le,N,fe),ue===null?oe=Le:ue.sibling=Le,ue=Le);return Ke&&Ci(M,fe),oe}for(ce=u(M,ce);!Le.done;fe++,Le=O.next())Le=ee(ce,M,fe,Le.value,K),Le!==null&&(t&&Le.alternate!==null&&ce.delete(Le.key===null?fe:Le.key),N=f(Le,N,fe),ue===null?oe=Le:ue.sibling=Le,ue=Le);return t&&ce.forEach(function(Lv){return r(M,Lv)}),Ke&&Ci(M,fe),oe}function it(M,N,O,K){if(typeof O=="object"&&O!==null&&O.type===P&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case Ue:e:{for(var oe=O.key,ue=N;ue!==null;){if(ue.key===oe){if(oe=O.type,oe===P){if(ue.tag===7){o(M,ue.sibling),N=h(ue,O.props.children),N.return=M,M=N;break e}}else if(ue.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===Pt&&Xd(oe)===ue.type){o(M,ue.sibling),N=h(ue,O.props),N.ref=xo(M,ue,O),N.return=M,M=N;break e}o(M,ue);break}else r(M,ue);ue=ue.sibling}O.type===P?(N=Mi(O.props.children,M.mode,K,O.key),N.return=M,M=N):(K=Tl(O.type,O.key,O.props,null,M.mode,K),K.ref=xo(M,N,O),K.return=M,M=K)}return v(M);case ke:e:{for(ue=O.key;N!==null;){if(N.key===ue)if(N.tag===4&&N.stateNode.containerInfo===O.containerInfo&&N.stateNode.implementation===O.implementation){o(M,N.sibling),N=h(N,O.children||[]),N.return=M,M=N;break e}else{o(M,N);break}else r(M,N);N=N.sibling}N=Bc(O,M.mode,K),N.return=M,M=N}return v(M);case Pt:return ue=O._init,it(M,N,ue(O._payload),K)}if(nt(O))return ie(M,N,O,K);if(le(O))return se(M,N,O,K);Ya(M,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,N!==null&&N.tag===6?(o(M,N.sibling),N=h(N,O),N.return=M,M=N):(o(M,N),N=Uc(O,M.mode,K),N.return=M,M=N),v(M)):o(M,N)}return it}var Ts=Jd(!0),Yd=Jd(!1),Za=Or(null),el=null,Ss=null,Ju=null;function Yu(){Ju=Ss=el=null}function Zu(t){var r=Za.current;Qe(Za),t._currentValue=r}function ec(t,r,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===o)break;t=t.return}}function Is(t,r){el=t,Ju=Ss=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&r)!==0&&(Ht=!0),t.firstContext=null)}function cn(t){var r=t._currentValue;if(Ju!==t)if(t={context:t,memoizedValue:r,next:null},Ss===null){if(el===null)throw Error(n(308));Ss=t,el.dependencies={lanes:0,firstContext:t}}else Ss=Ss.next=t;return r}var ki=null;function tc(t){ki===null?ki=[t]:ki.push(t)}function Zd(t,r,o,u){var h=r.interleaved;return h===null?(o.next=o,tc(r)):(o.next=h.next,h.next=o),r.interleaved=o,dr(t,u)}function dr(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var zr=!1;function nc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ef(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function fr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Ur(t,r,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(Ve&2)!==0){var h=u.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),u.pending=r,dr(t,o)}return h=u.interleaved,h===null?(r.next=r,tc(u)):(r.next=h.next,h.next=r),u.interleaved=r,dr(t,o)}function tl(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,ho(t,o)}}function tf(t,r){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,f=null;if(o=o.firstBaseUpdate,o!==null){do{var v={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};f===null?h=f=v:f=f.next=v,o=o.next}while(o!==null);f===null?h=f=r:f=f.next=r}else h=f=r;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:u.shared,effects:u.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function nl(t,r,o,u){var h=t.updateQueue;zr=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,j=R.next;R.next=null,v===null?f=j:v.next=j,v=R;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==v&&(E===null?Q.firstBaseUpdate=j:E.next=j,Q.lastBaseUpdate=R))}if(f!==null){var G=h.baseState;v=0,Q=j=R=null,E=f;do{var H=E.lane,ee=E.eventTime;if((u&H)===H){Q!==null&&(Q=Q.next={eventTime:ee,lane:0,tag:E.tag,payload:E.payload,callback:E.callback,next:null});e:{var ie=t,se=E;switch(H=r,ee=o,se.tag){case 1:if(ie=se.payload,typeof ie=="function"){G=ie.call(ee,G,H);break e}G=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=se.payload,H=typeof ie=="function"?ie.call(ee,G,H):ie,H==null)break e;G=ne({},G,H);break e;case 2:zr=!0}}E.callback!==null&&E.lane!==0&&(t.flags|=64,H=h.effects,H===null?h.effects=[E]:H.push(E))}else ee={eventTime:ee,lane:H,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(j=Q=ee,R=G):Q=Q.next=ee,v|=H;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);if(Q===null&&(R=G),h.baseState=R,h.firstBaseUpdate=j,h.lastBaseUpdate=Q,r=h.shared.interleaved,r!==null){h=r;do v|=h.lane,h=h.next;while(h!==r)}else f===null&&(h.shared.lanes=0);xi|=v,t.lanes=v,t.memoizedState=G}}function nf(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var u=t[r],h=u.callback;if(h!==null){if(u.callback=null,u=o,typeof h!="function")throw Error(n(191,h));h.call(u)}}}var Vo={},zn=Or(Vo),Do=Or(Vo),Lo=Or(Vo);function Pi(t){if(t===Vo)throw Error(n(174));return t}function rc(t,r){switch(He(Lo,r),He(Do,t),He(zn,Vo),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:Qi(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=Qi(r,t)}Qe(zn),He(zn,r)}function As(){Qe(zn),Qe(Do),Qe(Lo)}function rf(t){Pi(Lo.current);var r=Pi(zn.current),o=Qi(r,t.type);r!==o&&(He(Do,t),He(zn,o))}function ic(t){Do.current===t&&(Qe(zn),Qe(Do))}var Xe=Or(0);function rl(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var sc=[];function oc(){for(var t=0;t<sc.length;t++)sc[t]._workInProgressVersionPrimary=null;sc.length=0}var il=De.ReactCurrentDispatcher,ac=De.ReactCurrentBatchConfig,Ni=0,Je=null,dt=null,vt=null,sl=!1,Mo=!1,bo=0,nv=0;function Vt(){throw Error(n(321))}function lc(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!_n(t[o],r[o]))return!1;return!0}function uc(t,r,o,u,h,f){if(Ni=f,Je=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,il.current=t===null||t.memoizedState===null?ov:av,t=o(u,h),Mo){f=0;do{if(Mo=!1,bo=0,25<=f)throw Error(n(301));f+=1,vt=dt=null,r.updateQueue=null,il.current=lv,t=o(u,h)}while(Mo)}if(il.current=ll,r=dt!==null&&dt.next!==null,Ni=0,vt=dt=Je=null,sl=!1,r)throw Error(n(300));return t}function cc(){var t=bo!==0;return bo=0,t}function Un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Je.memoizedState=vt=t:vt=vt.next=t,vt}function hn(){if(dt===null){var t=Je.alternate;t=t!==null?t.memoizedState:null}else t=dt.next;var r=vt===null?Je.memoizedState:vt.next;if(r!==null)vt=r,dt=t;else{if(t===null)throw Error(n(310));dt=t,t={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},vt===null?Je.memoizedState=vt=t:vt=vt.next=t}return vt}function Oo(t,r){return typeof r=="function"?r(t):r}function hc(t){var r=hn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=dt,h=u.baseQueue,f=o.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}u.baseQueue=h=f,o.pending=null}if(h!==null){f=h.next,u=u.baseState;var E=v=null,R=null,j=f;do{var Q=j.lane;if((Ni&Q)===Q)R!==null&&(R=R.next={lane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),u=j.hasEagerState?j.eagerState:t(u,j.action);else{var G={lane:Q,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null};R===null?(E=R=G,v=u):R=R.next=G,Je.lanes|=Q,xi|=Q}j=j.next}while(j!==null&&j!==f);R===null?v=u:R.next=E,_n(u,r.memoizedState)||(Ht=!0),r.memoizedState=u,r.baseState=v,r.baseQueue=R,o.lastRenderedState=u}if(t=o.interleaved,t!==null){h=t;do f=h.lane,Je.lanes|=f,xi|=f,h=h.next;while(h!==t)}else h===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function dc(t){var r=hn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=o.dispatch,h=o.pending,f=r.memoizedState;if(h!==null){o.pending=null;var v=h=h.next;do f=t(f,v.action),v=v.next;while(v!==h);_n(f,r.memoizedState)||(Ht=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),o.lastRenderedState=f}return[f,u]}function sf(){}function of(t,r){var o=Je,u=hn(),h=r(),f=!_n(u.memoizedState,h);if(f&&(u.memoizedState=h,Ht=!0),u=u.queue,fc(uf.bind(null,o,u,t),[t]),u.getSnapshot!==r||f||vt!==null&&vt.memoizedState.tag&1){if(o.flags|=2048,jo(9,lf.bind(null,o,u,h,r),void 0,null),_t===null)throw Error(n(349));(Ni&30)!==0||af(o,r,h)}return h}function af(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=Je.updateQueue,r===null?(r={lastEffect:null,stores:null},Je.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function lf(t,r,o,u){r.value=o,r.getSnapshot=u,cf(r)&&hf(t)}function uf(t,r,o){return o(function(){cf(r)&&hf(t)})}function cf(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!_n(t,o)}catch{return!0}}function hf(t){var r=dr(t,1);r!==null&&In(r,t,1,-1)}function df(t){var r=Un();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oo,lastRenderedState:t},r.queue=t,t=t.dispatch=sv.bind(null,Je,t),[r.memoizedState,t]}function jo(t,r,o,u){return t={tag:t,create:r,destroy:o,deps:u,next:null},r=Je.updateQueue,r===null?(r={lastEffect:null,stores:null},Je.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,r.lastEffect=t)),t}function ff(){return hn().memoizedState}function ol(t,r,o,u){var h=Un();Je.flags|=t,h.memoizedState=jo(1|r,o,void 0,u===void 0?null:u)}function al(t,r,o,u){var h=hn();u=u===void 0?null:u;var f=void 0;if(dt!==null){var v=dt.memoizedState;if(f=v.destroy,u!==null&&lc(u,v.deps)){h.memoizedState=jo(r,o,f,u);return}}Je.flags|=t,h.memoizedState=jo(1|r,o,f,u)}function pf(t,r){return ol(8390656,8,t,r)}function fc(t,r){return al(2048,8,t,r)}function mf(t,r){return al(4,2,t,r)}function gf(t,r){return al(4,4,t,r)}function yf(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function vf(t,r,o){return o=o!=null?o.concat([t]):null,al(4,4,yf.bind(null,r,t),o)}function pc(){}function _f(t,r){var o=hn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&lc(r,u[1])?u[0]:(o.memoizedState=[t,r],t)}function wf(t,r){var o=hn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&lc(r,u[1])?u[0]:(t=t(),o.memoizedState=[t,r],t)}function Ef(t,r,o){return(Ni&21)===0?(t.baseState&&(t.baseState=!1,Ht=!0),t.memoizedState=o):(_n(o,r)||(o=uo(),Je.lanes|=o,xi|=o,t.baseState=!0),r)}function rv(t,r){var o=Ce;Ce=o!==0&&4>o?o:4,t(!0);var u=ac.transition;ac.transition={};try{t(!1),r()}finally{Ce=o,ac.transition=u}}function Tf(){return hn().memoizedState}function iv(t,r,o){var u=$r(t);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},Sf(t))If(r,o);else if(o=Zd(t,r,o,u),o!==null){var h=zt();In(o,t,u,h),Af(o,r,u)}}function sv(t,r,o){var u=$r(t),h={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(Sf(t))If(r,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var v=r.lastRenderedState,E=f(v,o);if(h.hasEagerState=!0,h.eagerState=E,_n(E,v)){var R=r.interleaved;R===null?(h.next=h,tc(r)):(h.next=R.next,R.next=h),r.interleaved=h;return}}catch{}finally{}o=Zd(t,r,h,u),o!==null&&(h=zt(),In(o,t,u,h),Af(o,r,u))}}function Sf(t){var r=t.alternate;return t===Je||r!==null&&r===Je}function If(t,r){Mo=sl=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function Af(t,r,o){if((o&4194240)!==0){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,ho(t,o)}}var ll={readContext:cn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},ov={readContext:cn,useCallback:function(t,r){return Un().memoizedState=[t,r===void 0?null:r],t},useContext:cn,useEffect:pf,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,ol(4194308,4,yf.bind(null,r,t),o)},useLayoutEffect:function(t,r){return ol(4194308,4,t,r)},useInsertionEffect:function(t,r){return ol(4,2,t,r)},useMemo:function(t,r){var o=Un();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var u=Un();return r=o!==void 0?o(r):r,u.memoizedState=u.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},u.queue=t,t=t.dispatch=iv.bind(null,Je,t),[u.memoizedState,t]},useRef:function(t){var r=Un();return t={current:t},r.memoizedState=t},useState:df,useDebugValue:pc,useDeferredValue:function(t){return Un().memoizedState=t},useTransition:function(){var t=df(!1),r=t[0];return t=rv.bind(null,t[1]),Un().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var u=Je,h=Un();if(Ke){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),_t===null)throw Error(n(349));(Ni&30)!==0||af(u,r,o)}h.memoizedState=o;var f={value:o,getSnapshot:r};return h.queue=f,pf(uf.bind(null,u,f,t),[t]),u.flags|=2048,jo(9,lf.bind(null,u,f,o,r),void 0,null),o},useId:function(){var t=Un(),r=_t.identifierPrefix;if(Ke){var o=hr,u=cr;o=(u&~(1<<32-Xt(u)-1)).toString(32)+o,r=":"+r+"R"+o,o=bo++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=nv++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},av={readContext:cn,useCallback:_f,useContext:cn,useEffect:fc,useImperativeHandle:vf,useInsertionEffect:mf,useLayoutEffect:gf,useMemo:wf,useReducer:hc,useRef:ff,useState:function(){return hc(Oo)},useDebugValue:pc,useDeferredValue:function(t){var r=hn();return Ef(r,dt.memoizedState,t)},useTransition:function(){var t=hc(Oo)[0],r=hn().memoizedState;return[t,r]},useMutableSource:sf,useSyncExternalStore:of,useId:Tf,unstable_isNewReconciler:!1},lv={readContext:cn,useCallback:_f,useContext:cn,useEffect:fc,useImperativeHandle:vf,useInsertionEffect:mf,useLayoutEffect:gf,useMemo:wf,useReducer:dc,useRef:ff,useState:function(){return dc(Oo)},useDebugValue:pc,useDeferredValue:function(t){var r=hn();return dt===null?r.memoizedState=t:Ef(r,dt.memoizedState,t)},useTransition:function(){var t=dc(Oo)[0],r=hn().memoizedState;return[t,r]},useMutableSource:sf,useSyncExternalStore:of,useId:Tf,unstable_isNewReconciler:!1};function En(t,r){if(t&&t.defaultProps){r=ne({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function mc(t,r,o,u){r=t.memoizedState,o=o(u,r),o=o==null?r:ne({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var ul={isMounted:function(t){return(t=t._reactInternals)?yn(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var u=zt(),h=$r(t),f=fr(u,h);f.payload=r,o!=null&&(f.callback=o),r=Ur(t,f,h),r!==null&&(In(r,t,h,u),tl(r,t,h))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var u=zt(),h=$r(t),f=fr(u,h);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=Ur(t,f,h),r!==null&&(In(r,t,h,u),tl(r,t,h))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=zt(),u=$r(t),h=fr(o,u);h.tag=2,r!=null&&(h.callback=r),r=Ur(t,h,u),r!==null&&(In(r,t,u,o),tl(r,t,u))}};function Rf(t,r,o,u,h,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,f,v):r.prototype&&r.prototype.isPureReactComponent?!Io(o,u)||!Io(h,f):!0}function Cf(t,r,o){var u=!1,h=jr,f=r.contextType;return typeof f=="object"&&f!==null?f=cn(f):(h=Bt(r)?Ai:xt.current,u=r.contextTypes,f=(u=u!=null)?vs(t,h):jr),r=new r(o,f),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=ul,t.stateNode=r,r._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=f),r}function kf(t,r,o,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==t&&ul.enqueueReplaceState(r,r.state,null)}function gc(t,r,o,u){var h=t.stateNode;h.props=o,h.state=t.memoizedState,h.refs={},nc(t);var f=r.contextType;typeof f=="object"&&f!==null?h.context=cn(f):(f=Bt(r)?Ai:xt.current,h.context=vs(t,f)),h.state=t.memoizedState,f=r.getDerivedStateFromProps,typeof f=="function"&&(mc(t,r,f,o),h.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(r=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),r!==h.state&&ul.enqueueReplaceState(h,h.state,null),nl(t,o,h,u),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308)}function Rs(t,r){try{var o="",u=r;do o+=Se(u),u=u.return;while(u);var h=o}catch(f){h=`
Error generating stack: `+f.message+`
`+f.stack}return{value:t,source:r,stack:h,digest:null}}function yc(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function vc(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var uv=typeof WeakMap=="function"?WeakMap:Map;function Pf(t,r,o){o=fr(-1,o),o.tag=3,o.payload={element:null};var u=r.value;return o.callback=function(){gl||(gl=!0,Dc=u),vc(t,r)},o}function Nf(t,r,o){o=fr(-1,o),o.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var h=r.value;o.payload=function(){return u(h)},o.callback=function(){vc(t,r)}}var f=t.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(o.callback=function(){vc(t,r),typeof u!="function"&&(Hr===null?Hr=new Set([this]):Hr.add(this));var v=r.stack;this.componentDidCatch(r.value,{componentStack:v!==null?v:""})}),o}function xf(t,r,o){var u=t.pingCache;if(u===null){u=t.pingCache=new uv;var h=new Set;u.set(r,h)}else h=u.get(r),h===void 0&&(h=new Set,u.set(r,h));h.has(o)||(h.add(o),t=Sv.bind(null,t,r,o),r.then(t,t))}function Vf(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function Df(t,r,o,u,h){return(t.mode&1)===0?(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=fr(-1,1),r.tag=2,Ur(o,r,1))),o.lanes|=1),t):(t.flags|=65536,t.lanes=h,t)}var cv=De.ReactCurrentOwner,Ht=!1;function Ft(t,r,o,u){r.child=t===null?Yd(r,null,o,u):Ts(r,t.child,o,u)}function Lf(t,r,o,u,h){o=o.render;var f=r.ref;return Is(r,h),u=uc(t,r,o,u,f,h),o=cc(),t!==null&&!Ht?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,pr(t,r,h)):(Ke&&o&&Qu(r),r.flags|=1,Ft(t,r,u,h),r.child)}function Mf(t,r,o,u,h){if(t===null){var f=o.type;return typeof f=="function"&&!zc(f)&&f.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=f,bf(t,r,f,u,h)):(t=Tl(o.type,null,u,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(f=t.child,(t.lanes&h)===0){var v=f.memoizedProps;if(o=o.compare,o=o!==null?o:Io,o(v,u)&&t.ref===r.ref)return pr(t,r,h)}return r.flags|=1,t=qr(f,u),t.ref=r.ref,t.return=r,r.child=t}function bf(t,r,o,u,h){if(t!==null){var f=t.memoizedProps;if(Io(f,u)&&t.ref===r.ref)if(Ht=!1,r.pendingProps=u=f,(t.lanes&h)!==0)(t.flags&131072)!==0&&(Ht=!0);else return r.lanes=t.lanes,pr(t,r,h)}return _c(t,r,o,u,h)}function Of(t,r,o){var u=r.pendingProps,h=u.children,f=t!==null?t.memoizedState:null;if(u.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(ks,rn),rn|=o;else{if((o&1073741824)===0)return t=f!==null?f.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,He(ks,rn),rn|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=f!==null?f.baseLanes:o,He(ks,rn),rn|=u}else f!==null?(u=f.baseLanes|o,r.memoizedState=null):u=o,He(ks,rn),rn|=u;return Ft(t,r,h,o),r.child}function jf(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function _c(t,r,o,u,h){var f=Bt(o)?Ai:xt.current;return f=vs(r,f),Is(r,h),o=uc(t,r,o,u,f,h),u=cc(),t!==null&&!Ht?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,pr(t,r,h)):(Ke&&u&&Qu(r),r.flags|=1,Ft(t,r,o,h),r.child)}function Ff(t,r,o,u,h){if(Bt(o)){var f=!0;qa(r)}else f=!1;if(Is(r,h),r.stateNode===null)hl(t,r),Cf(r,o,u),gc(r,o,u,h),u=!0;else if(t===null){var v=r.stateNode,E=r.memoizedProps;v.props=E;var R=v.context,j=o.contextType;typeof j=="object"&&j!==null?j=cn(j):(j=Bt(o)?Ai:xt.current,j=vs(r,j));var Q=o.getDerivedStateFromProps,G=typeof Q=="function"||typeof v.getSnapshotBeforeUpdate=="function";G||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(E!==u||R!==j)&&kf(r,v,u,j),zr=!1;var H=r.memoizedState;v.state=H,nl(r,u,v,h),R=r.memoizedState,E!==u||H!==R||Ut.current||zr?(typeof Q=="function"&&(mc(r,o,Q,u),R=r.memoizedState),(E=zr||Rf(r,o,E,u,H,R,j))?(G||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(r.flags|=4194308)):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=R),v.props=u,v.state=R,v.context=j,u=E):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{v=r.stateNode,ef(t,r),E=r.memoizedProps,j=r.type===r.elementType?E:En(r.type,E),v.props=j,G=r.pendingProps,H=v.context,R=o.contextType,typeof R=="object"&&R!==null?R=cn(R):(R=Bt(o)?Ai:xt.current,R=vs(r,R));var ee=o.getDerivedStateFromProps;(Q=typeof ee=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(E!==G||H!==R)&&kf(r,v,u,R),zr=!1,H=r.memoizedState,v.state=H,nl(r,u,v,h);var ie=r.memoizedState;E!==G||H!==ie||Ut.current||zr?(typeof ee=="function"&&(mc(r,o,ee,u),ie=r.memoizedState),(j=zr||Rf(r,o,j,u,H,ie,R)||!1)?(Q||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,ie,R),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,ie,R)),typeof v.componentDidUpdate=="function"&&(r.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof v.componentDidUpdate!="function"||E===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=ie),v.props=u,v.state=ie,v.context=R,u=j):(typeof v.componentDidUpdate!="function"||E===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),u=!1)}return wc(t,r,o,u,f,h)}function wc(t,r,o,u,h,f){jf(t,r);var v=(r.flags&128)!==0;if(!u&&!v)return h&&Hd(r,o,!1),pr(t,r,f);u=r.stateNode,cv.current=r;var E=v&&typeof o.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,t!==null&&v?(r.child=Ts(r,t.child,null,f),r.child=Ts(r,null,E,f)):Ft(t,r,E,f),r.memoizedState=u.state,h&&Hd(r,o,!0),r.child}function zf(t){var r=t.stateNode;r.pendingContext?Ud(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Ud(t,r.context,!1),rc(t,r.containerInfo)}function Uf(t,r,o,u,h){return Es(),Xu(h),r.flags|=256,Ft(t,r,o,u),r.child}var Ec={dehydrated:null,treeContext:null,retryLane:0};function Tc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Bf(t,r,o){var u=r.pendingProps,h=Xe.current,f=!1,v=(r.flags&128)!==0,E;if((E=v)||(E=t!==null&&t.memoizedState===null?!1:(h&2)!==0),E?(f=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(h|=1),He(Xe,h&1),t===null)return Ku(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((r.mode&1)===0?r.lanes=1:t.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(v=u.children,t=u.fallback,f?(u=r.mode,f=r.child,v={mode:"hidden",children:v},(u&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=v):f=Sl(v,u,0,null),t=Mi(t,u,o,null),f.return=r,t.return=r,f.sibling=t,r.child=f,r.child.memoizedState=Tc(o),r.memoizedState=Ec,t):Sc(r,v));if(h=t.memoizedState,h!==null&&(E=h.dehydrated,E!==null))return hv(t,r,v,u,E,h,o);if(f){f=u.fallback,v=r.mode,h=t.child,E=h.sibling;var R={mode:"hidden",children:u.children};return(v&1)===0&&r.child!==h?(u=r.child,u.childLanes=0,u.pendingProps=R,r.deletions=null):(u=qr(h,R),u.subtreeFlags=h.subtreeFlags&14680064),E!==null?f=qr(E,f):(f=Mi(f,v,o,null),f.flags|=2),f.return=r,u.return=r,u.sibling=f,r.child=u,u=f,f=r.child,v=t.child.memoizedState,v=v===null?Tc(o):{baseLanes:v.baseLanes|o,cachePool:null,transitions:v.transitions},f.memoizedState=v,f.childLanes=t.childLanes&~o,r.memoizedState=Ec,u}return f=t.child,t=f.sibling,u=qr(f,{mode:"visible",children:u.children}),(r.mode&1)===0&&(u.lanes=o),u.return=r,u.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=u,r.memoizedState=null,u}function Sc(t,r){return r=Sl({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function cl(t,r,o,u){return u!==null&&Xu(u),Ts(r,t.child,null,o),t=Sc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function hv(t,r,o,u,h,f,v){if(o)return r.flags&256?(r.flags&=-257,u=yc(Error(n(422))),cl(t,r,v,u)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(f=u.fallback,h=r.mode,u=Sl({mode:"visible",children:u.children},h,0,null),f=Mi(f,h,v,null),f.flags|=2,u.return=r,f.return=r,u.sibling=f,r.child=u,(r.mode&1)!==0&&Ts(r,t.child,null,v),r.child.memoizedState=Tc(v),r.memoizedState=Ec,f);if((r.mode&1)===0)return cl(t,r,v,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var E=u.dgst;return u=E,f=Error(n(419)),u=yc(f,u,void 0),cl(t,r,v,u)}if(E=(v&t.childLanes)!==0,Ht||E){if(u=_t,u!==null){switch(v&-v){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(u.suspendedLanes|v))!==0?0:h,h!==0&&h!==f.retryLane&&(f.retryLane=h,dr(t,h),In(u,t,h,-1))}return Fc(),u=yc(Error(n(421))),cl(t,r,v,u)}return h.data==="$?"?(r.flags|=128,r.child=t.child,r=Iv.bind(null,t),h._reactRetry=r,null):(t=f.treeContext,nn=br(h.nextSibling),tn=r,Ke=!0,wn=null,t!==null&&(ln[un++]=cr,ln[un++]=hr,ln[un++]=Ri,cr=t.id,hr=t.overflow,Ri=r),r=Sc(r,u.children),r.flags|=4096,r)}function Hf(t,r,o){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),ec(t.return,r,o)}function Ic(t,r,o,u,h){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(f.isBackwards=r,f.rendering=null,f.renderingStartTime=0,f.last=u,f.tail=o,f.tailMode=h)}function Wf(t,r,o){var u=r.pendingProps,h=u.revealOrder,f=u.tail;if(Ft(t,r,u.children,o),u=Xe.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Hf(t,o,r);else if(t.tag===19)Hf(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(He(Xe,u),(r.mode&1)===0)r.memoizedState=null;else switch(h){case"forwards":for(o=r.child,h=null;o!==null;)t=o.alternate,t!==null&&rl(t)===null&&(h=o),o=o.sibling;o=h,o===null?(h=r.child,r.child=null):(h=o.sibling,o.sibling=null),Ic(r,!1,h,o,f);break;case"backwards":for(o=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&rl(t)===null){r.child=h;break}t=h.sibling,h.sibling=o,o=h,h=t}Ic(r,!0,o,null,f);break;case"together":Ic(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function hl(t,r){(r.mode&1)===0&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function pr(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),xi|=r.lanes,(o&r.childLanes)===0)return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=qr(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=qr(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function dv(t,r,o){switch(r.tag){case 3:zf(r),Es();break;case 5:rf(r);break;case 1:Bt(r.type)&&qa(r);break;case 4:rc(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,h=r.memoizedProps.value;He(Za,u._currentValue),u._currentValue=h;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?(He(Xe,Xe.current&1),r.flags|=128,null):(o&r.child.childLanes)!==0?Bf(t,r,o):(He(Xe,Xe.current&1),t=pr(t,r,o),t!==null?t.sibling:null);He(Xe,Xe.current&1);break;case 19:if(u=(o&r.childLanes)!==0,(t.flags&128)!==0){if(u)return Wf(t,r,o);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),He(Xe,Xe.current),u)break;return null;case 22:case 23:return r.lanes=0,Of(t,r,o)}return pr(t,r,o)}var $f,Ac,Qf,qf;$f=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Ac=function(){},Qf=function(t,r,o,u){var h=t.memoizedProps;if(h!==u){t=r.stateNode,Pi(zn.current);var f=null;switch(o){case"input":h=Wi(t,h),u=Wi(t,u),f=[];break;case"select":h=ne({},h,{value:void 0}),u=ne({},u,{value:void 0}),f=[];break;case"textarea":h=Ys(t,h),u=Ys(t,u),f=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=Wa)}gn(o,u);var v;o=null;for(j in h)if(!u.hasOwnProperty(j)&&h.hasOwnProperty(j)&&h[j]!=null)if(j==="style"){var E=h[j];for(v in E)E.hasOwnProperty(v)&&(o||(o={}),o[v]="")}else j!=="dangerouslySetInnerHTML"&&j!=="children"&&j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(a.hasOwnProperty(j)?f||(f=[]):(f=f||[]).push(j,null));for(j in u){var R=u[j];if(E=h?.[j],u.hasOwnProperty(j)&&R!==E&&(R!=null||E!=null))if(j==="style")if(E){for(v in E)!E.hasOwnProperty(v)||R&&R.hasOwnProperty(v)||(o||(o={}),o[v]="");for(v in R)R.hasOwnProperty(v)&&E[v]!==R[v]&&(o||(o={}),o[v]=R[v])}else o||(f||(f=[]),f.push(j,o)),o=R;else j==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,E=E?E.__html:void 0,R!=null&&E!==R&&(f=f||[]).push(j,R)):j==="children"?typeof R!="string"&&typeof R!="number"||(f=f||[]).push(j,""+R):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&(a.hasOwnProperty(j)?(R!=null&&j==="onScroll"&&$e("scroll",t),f||E===R||(f=[])):(f=f||[]).push(j,R))}o&&(f=f||[]).push("style",o);var j=f;(r.updateQueue=j)&&(r.flags|=4)}},qf=function(t,r,o,u){o!==u&&(r.flags|=4)};function Fo(t,r){if(!Ke)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Dt(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(r)for(var h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=u,t.childLanes=o,r}function fv(t,r,o){var u=r.pendingProps;switch(qu(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(r),null;case 1:return Bt(r.type)&&Qa(),Dt(r),null;case 3:return u=r.stateNode,As(),Qe(Ut),Qe(xt),oc(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(Ja(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,wn!==null&&(bc(wn),wn=null))),Ac(t,r),Dt(r),null;case 5:ic(r);var h=Pi(Lo.current);if(o=r.type,t!==null&&r.stateNode!=null)Qf(t,r,o,u,h),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(n(166));return Dt(r),null}if(t=Pi(zn.current),Ja(r)){u=r.stateNode,o=r.type;var f=r.memoizedProps;switch(u[Fn]=r,u[Po]=f,t=(r.mode&1)!==0,o){case"dialog":$e("cancel",u),$e("close",u);break;case"iframe":case"object":case"embed":$e("load",u);break;case"video":case"audio":for(h=0;h<Ro.length;h++)$e(Ro[h],u);break;case"source":$e("error",u);break;case"img":case"image":case"link":$e("error",u),$e("load",u);break;case"details":$e("toggle",u);break;case"input":ma(u,f),$e("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!f.multiple},$e("invalid",u);break;case"textarea":Zs(u,f),$e("invalid",u)}gn(o,f),h=null;for(var v in f)if(f.hasOwnProperty(v)){var E=f[v];v==="children"?typeof E=="string"?u.textContent!==E&&(f.suppressHydrationWarning!==!0&&Ha(u.textContent,E,t),h=["children",E]):typeof E=="number"&&u.textContent!==""+E&&(f.suppressHydrationWarning!==!0&&Ha(u.textContent,E,t),h=["children",""+E]):a.hasOwnProperty(v)&&E!=null&&v==="onScroll"&&$e("scroll",u)}switch(o){case"input":Hi(u),Js(u,f,!0);break;case"textarea":Hi(u),wr(u);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(u.onclick=Wa)}u=h,r.updateQueue=u,u!==null&&(r.flags|=4)}else{v=h.nodeType===9?h:h.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=eo(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=v.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=v.createElement(o,{is:u.is}):(t=v.createElement(o),o==="select"&&(v=t,u.multiple?v.multiple=!0:u.size&&(v.size=u.size))):t=v.createElementNS(t,o),t[Fn]=r,t[Po]=u,$f(t,r,!1,!1),r.stateNode=t;e:{switch(v=Gi(o,u),o){case"dialog":$e("cancel",t),$e("close",t),h=u;break;case"iframe":case"object":case"embed":$e("load",t),h=u;break;case"video":case"audio":for(h=0;h<Ro.length;h++)$e(Ro[h],t);h=u;break;case"source":$e("error",t),h=u;break;case"img":case"image":case"link":$e("error",t),$e("load",t),h=u;break;case"details":$e("toggle",t),h=u;break;case"input":ma(t,u),h=Wi(t,u),$e("invalid",t);break;case"option":h=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},h=ne({},u,{value:void 0}),$e("invalid",t);break;case"textarea":Zs(t,u),h=Ys(t,u),$e("invalid",t);break;default:h=u}gn(o,h),E=h;for(f in E)if(E.hasOwnProperty(f)){var R=E[f];f==="style"?qi(t,R):f==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&ya(t,R)):f==="children"?typeof R=="string"?(o!=="textarea"||R!=="")&&ci(t,R):typeof R=="number"&&ci(t,""+R):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(a.hasOwnProperty(f)?R!=null&&f==="onScroll"&&$e("scroll",t):R!=null&&ve(t,f,R,v))}switch(o){case"input":Hi(t),Js(t,u,!1);break;case"textarea":Hi(t),wr(t);break;case"option":u.value!=null&&t.setAttribute("value",""+xe(u.value));break;case"select":t.multiple=!!u.multiple,f=u.value,f!=null?mn(t,!!u.multiple,f,!1):u.defaultValue!=null&&mn(t,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(t.onclick=Wa)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Dt(r),null;case 6:if(t&&r.stateNode!=null)qf(t,r,t.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(n(166));if(o=Pi(Lo.current),Pi(zn.current),Ja(r)){if(u=r.stateNode,o=r.memoizedProps,u[Fn]=r,(f=u.nodeValue!==o)&&(t=tn,t!==null))switch(t.tag){case 3:Ha(u.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ha(u.nodeValue,o,(t.mode&1)!==0)}f&&(r.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[Fn]=r,r.stateNode=u}return Dt(r),null;case 13:if(Qe(Xe),u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ke&&nn!==null&&(r.mode&1)!==0&&(r.flags&128)===0)Kd(),Es(),r.flags|=98560,f=!1;else if(f=Ja(r),u!==null&&u.dehydrated!==null){if(t===null){if(!f)throw Error(n(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(317));f[Fn]=r}else Es(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Dt(r),f=!1}else wn!==null&&(bc(wn),wn=null),f=!0;if(!f)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=o,r):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(r.child.flags|=8192,(r.mode&1)!==0&&(t===null||(Xe.current&1)!==0?ft===0&&(ft=3):Fc())),r.updateQueue!==null&&(r.flags|=4),Dt(r),null);case 4:return As(),Ac(t,r),t===null&&Co(r.stateNode.containerInfo),Dt(r),null;case 10:return Zu(r.type._context),Dt(r),null;case 17:return Bt(r.type)&&Qa(),Dt(r),null;case 19:if(Qe(Xe),f=r.memoizedState,f===null)return Dt(r),null;if(u=(r.flags&128)!==0,v=f.rendering,v===null)if(u)Fo(f,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(v=rl(t),v!==null){for(r.flags|=128,Fo(f,!1),u=v.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=o,o=r.child;o!==null;)f=o,t=u,f.flags&=14680066,v=f.alternate,v===null?(f.childLanes=0,f.lanes=t,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=v.childLanes,f.lanes=v.lanes,f.child=v.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=v.memoizedProps,f.memoizedState=v.memoizedState,f.updateQueue=v.updateQueue,f.type=v.type,t=v.dependencies,f.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return He(Xe,Xe.current&1|2),r.child}t=t.sibling}f.tail!==null&&We()>Ps&&(r.flags|=128,u=!0,Fo(f,!1),r.lanes=4194304)}else{if(!u)if(t=rl(v),t!==null){if(r.flags|=128,u=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),Fo(f,!0),f.tail===null&&f.tailMode==="hidden"&&!v.alternate&&!Ke)return Dt(r),null}else 2*We()-f.renderingStartTime>Ps&&o!==1073741824&&(r.flags|=128,u=!0,Fo(f,!1),r.lanes=4194304);f.isBackwards?(v.sibling=r.child,r.child=v):(o=f.last,o!==null?o.sibling=v:r.child=v,f.last=v)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=We(),r.sibling=null,o=Xe.current,He(Xe,u?o&1|2:o&1),r):(Dt(r),null);case 22:case 23:return jc(),u=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(r.flags|=8192),u&&(r.mode&1)!==0?(rn&1073741824)!==0&&(Dt(r),r.subtreeFlags&6&&(r.flags|=8192)):Dt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function pv(t,r){switch(qu(r),r.tag){case 1:return Bt(r.type)&&Qa(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return As(),Qe(Ut),Qe(xt),oc(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 5:return ic(r),null;case 13:if(Qe(Xe),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));Es()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Qe(Xe),null;case 4:return As(),null;case 10:return Zu(r.type._context),null;case 22:case 23:return jc(),null;case 24:return null;default:return null}}var dl=!1,Lt=!1,mv=typeof WeakSet=="function"?WeakSet:Set,re=null;function Cs(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){tt(t,r,u)}else o.current=null}function Rc(t,r,o){try{o()}catch(u){tt(t,r,u)}}var Gf=!1;function gv(t,r){if(ju=sr,t=Ad(),Nu(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,f=u.focusNode;u=u.focusOffset;try{o.nodeType,f.nodeType}catch{o=null;break e}var v=0,E=-1,R=-1,j=0,Q=0,G=t,H=null;t:for(;;){for(var ee;G!==o||h!==0&&G.nodeType!==3||(E=v+h),G!==f||u!==0&&G.nodeType!==3||(R=v+u),G.nodeType===3&&(v+=G.nodeValue.length),(ee=G.firstChild)!==null;)H=G,G=ee;for(;;){if(G===t)break t;if(H===o&&++j===h&&(E=v),H===f&&++Q===u&&(R=v),(ee=G.nextSibling)!==null)break;G=H,H=G.parentNode}G=ee}o=E===-1||R===-1?null:{start:E,end:R}}else o=null}o=o||{start:0,end:0}}else o=null;for(Fu={focusedElem:t,selectionRange:o},sr=!1,re=r;re!==null;)if(r=re,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,re=t;else for(;re!==null;){r=re;try{var ie=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ie!==null){var se=ie.memoizedProps,it=ie.memoizedState,M=r.stateNode,N=M.getSnapshotBeforeUpdate(r.elementType===r.type?se:En(r.type,se),it);M.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var O=r.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(K){tt(r,r.return,K)}if(t=r.sibling,t!==null){t.return=r.return,re=t;break}re=r.return}return ie=Gf,Gf=!1,ie}function zo(t,r,o){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&t)===t){var f=h.destroy;h.destroy=void 0,f!==void 0&&Rc(r,o,f)}h=h.next}while(h!==u)}}function fl(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var u=o.create;o.destroy=u()}o=o.next}while(o!==r)}}function Cc(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function Kf(t){var r=t.alternate;r!==null&&(t.alternate=null,Kf(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[Fn],delete r[Po],delete r[Hu],delete r[Yy],delete r[Zy])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Xf(t){return t.tag===5||t.tag===3||t.tag===4}function Jf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Xf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Wa));else if(u!==4&&(t=t.child,t!==null))for(kc(t,r,o),t=t.sibling;t!==null;)kc(t,r,o),t=t.sibling}function Pc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(Pc(t,r,o),t=t.sibling;t!==null;)Pc(t,r,o),t=t.sibling}var It=null,Tn=!1;function Br(t,r,o){for(o=o.child;o!==null;)Yf(t,r,o),o=o.sibling}function Yf(t,r,o){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(mi,o)}catch{}switch(o.tag){case 5:Lt||Cs(o,r);case 6:var u=It,h=Tn;It=null,Br(t,r,o),It=u,Tn=h,It!==null&&(Tn?(t=It,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):It.removeChild(o.stateNode));break;case 18:It!==null&&(Tn?(t=It,o=o.stateNode,t.nodeType===8?Bu(t.parentNode,o):t.nodeType===1&&Bu(t,o),Vr(t)):Bu(It,o.stateNode));break;case 4:u=It,h=Tn,It=o.stateNode.containerInfo,Tn=!0,Br(t,r,o),It=u,Tn=h;break;case 0:case 11:case 14:case 15:if(!Lt&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var f=h,v=f.destroy;f=f.tag,v!==void 0&&((f&2)!==0||(f&4)!==0)&&Rc(o,r,v),h=h.next}while(h!==u)}Br(t,r,o);break;case 1:if(!Lt&&(Cs(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(E){tt(o,r,E)}Br(t,r,o);break;case 21:Br(t,r,o);break;case 22:o.mode&1?(Lt=(u=Lt)||o.memoizedState!==null,Br(t,r,o),Lt=u):Br(t,r,o);break;default:Br(t,r,o)}}function Zf(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new mv),r.forEach(function(u){var h=Av.bind(null,t,u);o.has(u)||(o.add(u),u.then(h,h))})}}function Sn(t,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];try{var f=t,v=r,E=v;e:for(;E!==null;){switch(E.tag){case 5:It=E.stateNode,Tn=!1;break e;case 3:It=E.stateNode.containerInfo,Tn=!0;break e;case 4:It=E.stateNode.containerInfo,Tn=!0;break e}E=E.return}if(It===null)throw Error(n(160));Yf(f,v,h),It=null,Tn=!1;var R=h.alternate;R!==null&&(R.return=null),h.return=null}catch(j){tt(h,r,j)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)ep(r,t),r=r.sibling}function ep(t,r){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Sn(r,t),Bn(t),u&4){try{zo(3,t,t.return),fl(3,t)}catch(se){tt(t,t.return,se)}try{zo(5,t,t.return)}catch(se){tt(t,t.return,se)}}break;case 1:Sn(r,t),Bn(t),u&512&&o!==null&&Cs(o,o.return);break;case 5:if(Sn(r,t),Bn(t),u&512&&o!==null&&Cs(o,o.return),t.flags&32){var h=t.stateNode;try{ci(h,"")}catch(se){tt(t,t.return,se)}}if(u&4&&(h=t.stateNode,h!=null)){var f=t.memoizedProps,v=o!==null?o.memoizedProps:f,E=t.type,R=t.updateQueue;if(t.updateQueue=null,R!==null)try{E==="input"&&f.type==="radio"&&f.name!=null&&$i(h,f),Gi(E,v);var j=Gi(E,f);for(v=0;v<R.length;v+=2){var Q=R[v],G=R[v+1];Q==="style"?qi(h,G):Q==="dangerouslySetInnerHTML"?ya(h,G):Q==="children"?ci(h,G):ve(h,Q,G,j)}switch(E){case"input":ui(h,f);break;case"textarea":ga(h,f);break;case"select":var H=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!f.multiple;var ee=f.value;ee!=null?mn(h,!!f.multiple,ee,!1):H!==!!f.multiple&&(f.defaultValue!=null?mn(h,!!f.multiple,f.defaultValue,!0):mn(h,!!f.multiple,f.multiple?[]:"",!1))}h[Po]=f}catch(se){tt(t,t.return,se)}}break;case 6:if(Sn(r,t),Bn(t),u&4){if(t.stateNode===null)throw Error(n(162));h=t.stateNode,f=t.memoizedProps;try{h.nodeValue=f}catch(se){tt(t,t.return,se)}}break;case 3:if(Sn(r,t),Bn(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Vr(r.containerInfo)}catch(se){tt(t,t.return,se)}break;case 4:Sn(r,t),Bn(t);break;case 13:Sn(r,t),Bn(t),h=t.child,h.flags&8192&&(f=h.memoizedState!==null,h.stateNode.isHidden=f,!f||h.alternate!==null&&h.alternate.memoizedState!==null||(Vc=We())),u&4&&Zf(t);break;case 22:if(Q=o!==null&&o.memoizedState!==null,t.mode&1?(Lt=(j=Lt)||Q,Sn(r,t),Lt=j):Sn(r,t),Bn(t),u&8192){if(j=t.memoizedState!==null,(t.stateNode.isHidden=j)&&!Q&&(t.mode&1)!==0)for(re=t,Q=t.child;Q!==null;){for(G=re=Q;re!==null;){switch(H=re,ee=H.child,H.tag){case 0:case 11:case 14:case 15:zo(4,H,H.return);break;case 1:Cs(H,H.return);var ie=H.stateNode;if(typeof ie.componentWillUnmount=="function"){u=H,o=H.return;try{r=u,ie.props=r.memoizedProps,ie.state=r.memoizedState,ie.componentWillUnmount()}catch(se){tt(u,o,se)}}break;case 5:Cs(H,H.return);break;case 22:if(H.memoizedState!==null){rp(G);continue}}ee!==null?(ee.return=H,re=ee):rp(G)}Q=Q.sibling}e:for(Q=null,G=t;;){if(G.tag===5){if(Q===null){Q=G;try{h=G.stateNode,j?(f=h.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(E=G.stateNode,R=G.memoizedProps.style,v=R!=null&&R.hasOwnProperty("display")?R.display:null,E.style.display=Sr("display",v))}catch(se){tt(t,t.return,se)}}}else if(G.tag===6){if(Q===null)try{G.stateNode.nodeValue=j?"":G.memoizedProps}catch(se){tt(t,t.return,se)}}else if((G.tag!==22&&G.tag!==23||G.memoizedState===null||G===t)&&G.child!==null){G.child.return=G,G=G.child;continue}if(G===t)break e;for(;G.sibling===null;){if(G.return===null||G.return===t)break e;Q===G&&(Q=null),G=G.return}Q===G&&(Q=null),G.sibling.return=G.return,G=G.sibling}}break;case 19:Sn(r,t),Bn(t),u&4&&Zf(t);break;case 21:break;default:Sn(r,t),Bn(t)}}function Bn(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(Xf(o)){var u=o;break e}o=o.return}throw Error(n(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(ci(h,""),u.flags&=-33);var f=Jf(t);Pc(t,f,h);break;case 3:case 4:var v=u.stateNode.containerInfo,E=Jf(t);kc(t,E,v);break;default:throw Error(n(161))}}catch(R){tt(t,t.return,R)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function yv(t,r,o){re=t,tp(t)}function tp(t,r,o){for(var u=(t.mode&1)!==0;re!==null;){var h=re,f=h.child;if(h.tag===22&&u){var v=h.memoizedState!==null||dl;if(!v){var E=h.alternate,R=E!==null&&E.memoizedState!==null||Lt;E=dl;var j=Lt;if(dl=v,(Lt=R)&&!j)for(re=h;re!==null;)v=re,R=v.child,v.tag===22&&v.memoizedState!==null?ip(h):R!==null?(R.return=v,re=R):ip(h);for(;f!==null;)re=f,tp(f),f=f.sibling;re=h,dl=E,Lt=j}np(t)}else(h.subtreeFlags&8772)!==0&&f!==null?(f.return=h,re=f):np(t)}}function np(t){for(;re!==null;){var r=re;if((r.flags&8772)!==0){var o=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:Lt||fl(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!Lt)if(o===null)u.componentDidMount();else{var h=r.elementType===r.type?o.memoizedProps:En(r.type,o.memoizedProps);u.componentDidUpdate(h,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var f=r.updateQueue;f!==null&&nf(r,f,u);break;case 3:var v=r.updateQueue;if(v!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}nf(r,v,o)}break;case 5:var E=r.stateNode;if(o===null&&r.flags&4){o=E;var R=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&o.focus();break;case"img":R.src&&(o.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var j=r.alternate;if(j!==null){var Q=j.memoizedState;if(Q!==null){var G=Q.dehydrated;G!==null&&Vr(G)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Lt||r.flags&512&&Cc(r)}catch(H){tt(r,r.return,H)}}if(r===t){re=null;break}if(o=r.sibling,o!==null){o.return=r.return,re=o;break}re=r.return}}function rp(t){for(;re!==null;){var r=re;if(r===t){re=null;break}var o=r.sibling;if(o!==null){o.return=r.return,re=o;break}re=r.return}}function ip(t){for(;re!==null;){var r=re;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{fl(4,r)}catch(R){tt(r,o,R)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var h=r.return;try{u.componentDidMount()}catch(R){tt(r,h,R)}}var f=r.return;try{Cc(r)}catch(R){tt(r,f,R)}break;case 5:var v=r.return;try{Cc(r)}catch(R){tt(r,v,R)}}}catch(R){tt(r,r.return,R)}if(r===t){re=null;break}var E=r.sibling;if(E!==null){E.return=r.return,re=E;break}re=r.return}}var vv=Math.ceil,pl=De.ReactCurrentDispatcher,Nc=De.ReactCurrentOwner,dn=De.ReactCurrentBatchConfig,Ve=0,_t=null,lt=null,At=0,rn=0,ks=Or(0),ft=0,Uo=null,xi=0,ml=0,xc=0,Bo=null,Wt=null,Vc=0,Ps=1/0,mr=null,gl=!1,Dc=null,Hr=null,yl=!1,Wr=null,vl=0,Ho=0,Lc=null,_l=-1,wl=0;function zt(){return(Ve&6)!==0?We():_l!==-1?_l:_l=We()}function $r(t){return(t.mode&1)===0?1:(Ve&2)!==0&&At!==0?At&-At:tv.transition!==null?(wl===0&&(wl=uo()),wl):(t=Ce,t!==0||(t=window.event,t=t===void 0?16:is(t.type)),t)}function In(t,r,o,u){if(50<Ho)throw Ho=0,Lc=null,Error(n(185));_i(t,o,u),((Ve&2)===0||t!==_t)&&(t===_t&&((Ve&2)===0&&(ml|=o),ft===4&&Qr(t,At)),$t(t,u),o===1&&Ve===0&&(r.mode&1)===0&&(Ps=We()+500,Ga&&Fr()))}function $t(t,r){var o=t.callbackNode;vi(t,r);var u=nr(t,t===_t?At:0);if(u===0)o!==null&&Ji(o),t.callbackNode=null,t.callbackPriority=0;else if(r=u&-u,t.callbackPriority!==r){if(o!=null&&Ji(o),r===1)t.tag===0?ev(op.bind(null,t)):Wd(op.bind(null,t)),Xy(function(){(Ve&6)===0&&Fr()}),o=null;else{switch(Pn(u)){case 1:o=Yi;break;case 4:o=oo;break;case 16:o=pi;break;case 536870912:o=Zi;break;default:o=pi}o=pp(o,sp.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function sp(t,r){if(_l=-1,wl=0,(Ve&6)!==0)throw Error(n(327));var o=t.callbackNode;if(Ns()&&t.callbackNode!==o)return null;var u=nr(t,t===_t?At:0);if(u===0)return null;if((u&30)!==0||(u&t.expiredLanes)!==0||r)r=El(t,u);else{r=u;var h=Ve;Ve|=2;var f=lp();(_t!==t||At!==r)&&(mr=null,Ps=We()+500,Di(t,r));do try{Ev();break}catch(E){ap(t,E)}while(!0);Yu(),pl.current=f,Ve=h,lt!==null?r=0:(_t=null,At=0,r=ft)}if(r!==0){if(r===2&&(h=lo(t),h!==0&&(u=h,r=Mc(t,h))),r===1)throw o=Uo,Di(t,0),Qr(t,u),$t(t,We()),o;if(r===6)Qr(t,u);else{if(h=t.current.alternate,(u&30)===0&&!_v(h)&&(r=El(t,u),r===2&&(f=lo(t),f!==0&&(u=f,r=Mc(t,f))),r===1))throw o=Uo,Di(t,0),Qr(t,u),$t(t,We()),o;switch(t.finishedWork=h,t.finishedLanes=u,r){case 0:case 1:throw Error(n(345));case 2:Li(t,Wt,mr);break;case 3:if(Qr(t,u),(u&130023424)===u&&(r=Vc+500-We(),10<r)){if(nr(t,0)!==0)break;if(h=t.suspendedLanes,(h&u)!==u){zt(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=Uu(Li.bind(null,t,Wt,mr),r);break}Li(t,Wt,mr);break;case 4:if(Qr(t,u),(u&4194240)===u)break;for(r=t.eventTimes,h=-1;0<u;){var v=31-Xt(u);f=1<<v,v=r[v],v>h&&(h=v),u&=~f}if(u=h,u=We()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*vv(u/1960))-u,10<u){t.timeoutHandle=Uu(Li.bind(null,t,Wt,mr),u);break}Li(t,Wt,mr);break;case 5:Li(t,Wt,mr);break;default:throw Error(n(329))}}}return $t(t,We()),t.callbackNode===o?sp.bind(null,t):null}function Mc(t,r){var o=Bo;return t.current.memoizedState.isDehydrated&&(Di(t,r).flags|=256),t=El(t,r),t!==2&&(r=Wt,Wt=o,r!==null&&bc(r)),t}function bc(t){Wt===null?Wt=t:Wt.push.apply(Wt,t)}function _v(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var h=o[u],f=h.getSnapshot;h=h.value;try{if(!_n(f(),h))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Qr(t,r){for(r&=~xc,r&=~ml,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-Xt(r),u=1<<o;t[o]=-1,r&=~u}}function op(t){if((Ve&6)!==0)throw Error(n(327));Ns();var r=nr(t,0);if((r&1)===0)return $t(t,We()),null;var o=El(t,r);if(t.tag!==0&&o===2){var u=lo(t);u!==0&&(r=u,o=Mc(t,u))}if(o===1)throw o=Uo,Di(t,0),Qr(t,r),$t(t,We()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Li(t,Wt,mr),$t(t,We()),null}function Oc(t,r){var o=Ve;Ve|=1;try{return t(r)}finally{Ve=o,Ve===0&&(Ps=We()+500,Ga&&Fr())}}function Vi(t){Wr!==null&&Wr.tag===0&&(Ve&6)===0&&Ns();var r=Ve;Ve|=1;var o=dn.transition,u=Ce;try{if(dn.transition=null,Ce=1,t)return t()}finally{Ce=u,dn.transition=o,Ve=r,(Ve&6)===0&&Fr()}}function jc(){rn=ks.current,Qe(ks)}function Di(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,Ky(o)),lt!==null)for(o=lt.return;o!==null;){var u=o;switch(qu(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Qa();break;case 3:As(),Qe(Ut),Qe(xt),oc();break;case 5:ic(u);break;case 4:As();break;case 13:Qe(Xe);break;case 19:Qe(Xe);break;case 10:Zu(u.type._context);break;case 22:case 23:jc()}o=o.return}if(_t=t,lt=t=qr(t.current,null),At=rn=r,ft=0,Uo=null,xc=ml=xi=0,Wt=Bo=null,ki!==null){for(r=0;r<ki.length;r++)if(o=ki[r],u=o.interleaved,u!==null){o.interleaved=null;var h=u.next,f=o.pending;if(f!==null){var v=f.next;f.next=h,u.next=v}o.pending=u}ki=null}return t}function ap(t,r){do{var o=lt;try{if(Yu(),il.current=ll,sl){for(var u=Je.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}sl=!1}if(Ni=0,vt=dt=Je=null,Mo=!1,bo=0,Nc.current=null,o===null||o.return===null){ft=1,Uo=r,lt=null;break}e:{var f=t,v=o.return,E=o,R=r;if(r=At,E.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var j=R,Q=E,G=Q.tag;if((Q.mode&1)===0&&(G===0||G===11||G===15)){var H=Q.alternate;H?(Q.updateQueue=H.updateQueue,Q.memoizedState=H.memoizedState,Q.lanes=H.lanes):(Q.updateQueue=null,Q.memoizedState=null)}var ee=Vf(v);if(ee!==null){ee.flags&=-257,Df(ee,v,E,f,r),ee.mode&1&&xf(f,j,r),r=ee,R=j;var ie=r.updateQueue;if(ie===null){var se=new Set;se.add(R),r.updateQueue=se}else ie.add(R);break e}else{if((r&1)===0){xf(f,j,r),Fc();break e}R=Error(n(426))}}else if(Ke&&E.mode&1){var it=Vf(v);if(it!==null){(it.flags&65536)===0&&(it.flags|=256),Df(it,v,E,f,r),Xu(Rs(R,E));break e}}f=R=Rs(R,E),ft!==4&&(ft=2),Bo===null?Bo=[f]:Bo.push(f),f=v;do{switch(f.tag){case 3:f.flags|=65536,r&=-r,f.lanes|=r;var M=Pf(f,R,r);tf(f,M);break e;case 1:E=R;var N=f.type,O=f.stateNode;if((f.flags&128)===0&&(typeof N.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Hr===null||!Hr.has(O)))){f.flags|=65536,r&=-r,f.lanes|=r;var K=Nf(f,E,r);tf(f,K);break e}}f=f.return}while(f!==null)}cp(o)}catch(oe){r=oe,lt===o&&o!==null&&(lt=o=o.return);continue}break}while(!0)}function lp(){var t=pl.current;return pl.current=ll,t===null?ll:t}function Fc(){(ft===0||ft===3||ft===2)&&(ft=4),_t===null||(xi&268435455)===0&&(ml&268435455)===0||Qr(_t,At)}function El(t,r){var o=Ve;Ve|=2;var u=lp();(_t!==t||At!==r)&&(mr=null,Di(t,r));do try{wv();break}catch(h){ap(t,h)}while(!0);if(Yu(),Ve=o,pl.current=u,lt!==null)throw Error(n(261));return _t=null,At=0,ft}function wv(){for(;lt!==null;)up(lt)}function Ev(){for(;lt!==null&&!fi();)up(lt)}function up(t){var r=fp(t.alternate,t,rn);t.memoizedProps=t.pendingProps,r===null?cp(t):lt=r,Nc.current=null}function cp(t){var r=t;do{var o=r.alternate;if(t=r.return,(r.flags&32768)===0){if(o=fv(o,r,rn),o!==null){lt=o;return}}else{if(o=pv(o,r),o!==null){o.flags&=32767,lt=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ft=6,lt=null;return}}if(r=r.sibling,r!==null){lt=r;return}lt=r=t}while(r!==null);ft===0&&(ft=5)}function Li(t,r,o){var u=Ce,h=dn.transition;try{dn.transition=null,Ce=1,Tv(t,r,o,u)}finally{dn.transition=h,Ce=u}return null}function Tv(t,r,o,u){do Ns();while(Wr!==null);if((Ve&6)!==0)throw Error(n(327));o=t.finishedWork;var h=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var f=o.lanes|o.childLanes;if(Au(t,f),t===_t&&(lt=_t=null,At=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||yl||(yl=!0,pp(pi,function(){return Ns(),null})),f=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||f){f=dn.transition,dn.transition=null;var v=Ce;Ce=1;var E=Ve;Ve|=4,Nc.current=null,gv(t,o),ep(o,t),By(Fu),sr=!!ju,Fu=ju=null,t.current=o,yv(o),tr(),Ve=E,Ce=v,dn.transition=f}else t.current=o;if(yl&&(yl=!1,Wr=t,vl=h),f=t.pendingLanes,f===0&&(Hr=null),ka(o.stateNode),$t(t,We()),r!==null)for(u=t.onRecoverableError,o=0;o<r.length;o++)h=r[o],u(h.value,{componentStack:h.stack,digest:h.digest});if(gl)throw gl=!1,t=Dc,Dc=null,t;return(vl&1)!==0&&t.tag!==0&&Ns(),f=t.pendingLanes,(f&1)!==0?t===Lc?Ho++:(Ho=0,Lc=t):Ho=0,Fr(),null}function Ns(){if(Wr!==null){var t=Pn(vl),r=dn.transition,o=Ce;try{if(dn.transition=null,Ce=16>t?16:t,Wr===null)var u=!1;else{if(t=Wr,Wr=null,vl=0,(Ve&6)!==0)throw Error(n(331));var h=Ve;for(Ve|=4,re=t.current;re!==null;){var f=re,v=f.child;if((re.flags&16)!==0){var E=f.deletions;if(E!==null){for(var R=0;R<E.length;R++){var j=E[R];for(re=j;re!==null;){var Q=re;switch(Q.tag){case 0:case 11:case 15:zo(8,Q,f)}var G=Q.child;if(G!==null)G.return=Q,re=G;else for(;re!==null;){Q=re;var H=Q.sibling,ee=Q.return;if(Kf(Q),Q===j){re=null;break}if(H!==null){H.return=ee,re=H;break}re=ee}}}var ie=f.alternate;if(ie!==null){var se=ie.child;if(se!==null){ie.child=null;do{var it=se.sibling;se.sibling=null,se=it}while(se!==null)}}re=f}}if((f.subtreeFlags&2064)!==0&&v!==null)v.return=f,re=v;else e:for(;re!==null;){if(f=re,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:zo(9,f,f.return)}var M=f.sibling;if(M!==null){M.return=f.return,re=M;break e}re=f.return}}var N=t.current;for(re=N;re!==null;){v=re;var O=v.child;if((v.subtreeFlags&2064)!==0&&O!==null)O.return=v,re=O;else e:for(v=N;re!==null;){if(E=re,(E.flags&2048)!==0)try{switch(E.tag){case 0:case 11:case 15:fl(9,E)}}catch(oe){tt(E,E.return,oe)}if(E===v){re=null;break e}var K=E.sibling;if(K!==null){K.return=E.return,re=K;break e}re=E.return}}if(Ve=h,Fr(),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(mi,t)}catch{}u=!0}return u}finally{Ce=o,dn.transition=r}}return!1}function hp(t,r,o){r=Rs(o,r),r=Pf(t,r,1),t=Ur(t,r,1),r=zt(),t!==null&&(_i(t,1,r),$t(t,r))}function tt(t,r,o){if(t.tag===3)hp(t,t,o);else for(;r!==null;){if(r.tag===3){hp(r,t,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Hr===null||!Hr.has(u))){t=Rs(o,t),t=Nf(r,t,1),r=Ur(r,t,1),t=zt(),r!==null&&(_i(r,1,t),$t(r,t));break}}r=r.return}}function Sv(t,r,o){var u=t.pingCache;u!==null&&u.delete(r),r=zt(),t.pingedLanes|=t.suspendedLanes&o,_t===t&&(At&o)===o&&(ft===4||ft===3&&(At&130023424)===At&&500>We()-Vc?Di(t,0):xc|=o),$t(t,r)}function dp(t,r){r===0&&((t.mode&1)===0?r=1:(r=Pr,Pr<<=1,(Pr&130023424)===0&&(Pr=4194304)));var o=zt();t=dr(t,r),t!==null&&(_i(t,r,o),$t(t,o))}function Iv(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),dp(t,o)}function Av(t,r){var o=0;switch(t.tag){case 13:var u=t.stateNode,h=t.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(r),dp(t,o)}var fp;fp=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||Ut.current)Ht=!0;else{if((t.lanes&o)===0&&(r.flags&128)===0)return Ht=!1,dv(t,r,o);Ht=(t.flags&131072)!==0}else Ht=!1,Ke&&(r.flags&1048576)!==0&&$d(r,Xa,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;hl(t,r),t=r.pendingProps;var h=vs(r,xt.current);Is(r,o),h=uc(null,r,u,t,h,o);var f=cc();return r.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Bt(u)?(f=!0,qa(r)):f=!1,r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,nc(r),h.updater=ul,r.stateNode=h,h._reactInternals=r,gc(r,u,t,o),r=wc(null,r,u,!0,f,o)):(r.tag=0,Ke&&f&&Qu(r),Ft(null,r,h,o),r=r.child),r;case 16:u=r.elementType;e:{switch(hl(t,r),t=r.pendingProps,h=u._init,u=h(u._payload),r.type=u,h=r.tag=Cv(u),t=En(u,t),h){case 0:r=_c(null,r,u,t,o);break e;case 1:r=Ff(null,r,u,t,o);break e;case 11:r=Lf(null,r,u,t,o);break e;case 14:r=Mf(null,r,u,En(u.type,t),o);break e}throw Error(n(306,u,""))}return r;case 0:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:En(u,h),_c(t,r,u,h,o);case 1:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:En(u,h),Ff(t,r,u,h,o);case 3:e:{if(zf(r),t===null)throw Error(n(387));u=r.pendingProps,f=r.memoizedState,h=f.element,ef(t,r),nl(r,u,null,o);var v=r.memoizedState;if(u=v.element,f.isDehydrated)if(f={element:u,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){h=Rs(Error(n(423)),r),r=Uf(t,r,u,o,h);break e}else if(u!==h){h=Rs(Error(n(424)),r),r=Uf(t,r,u,o,h);break e}else for(nn=br(r.stateNode.containerInfo.firstChild),tn=r,Ke=!0,wn=null,o=Yd(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Es(),u===h){r=pr(t,r,o);break e}Ft(t,r,u,o)}r=r.child}return r;case 5:return rf(r),t===null&&Ku(r),u=r.type,h=r.pendingProps,f=t!==null?t.memoizedProps:null,v=h.children,zu(u,h)?v=null:f!==null&&zu(u,f)&&(r.flags|=32),jf(t,r),Ft(t,r,v,o),r.child;case 6:return t===null&&Ku(r),null;case 13:return Bf(t,r,o);case 4:return rc(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=Ts(r,null,u,o):Ft(t,r,u,o),r.child;case 11:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:En(u,h),Lf(t,r,u,h,o);case 7:return Ft(t,r,r.pendingProps,o),r.child;case 8:return Ft(t,r,r.pendingProps.children,o),r.child;case 12:return Ft(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(u=r.type._context,h=r.pendingProps,f=r.memoizedProps,v=h.value,He(Za,u._currentValue),u._currentValue=v,f!==null)if(_n(f.value,v)){if(f.children===h.children&&!Ut.current){r=pr(t,r,o);break e}}else for(f=r.child,f!==null&&(f.return=r);f!==null;){var E=f.dependencies;if(E!==null){v=f.child;for(var R=E.firstContext;R!==null;){if(R.context===u){if(f.tag===1){R=fr(-1,o&-o),R.tag=2;var j=f.updateQueue;if(j!==null){j=j.shared;var Q=j.pending;Q===null?R.next=R:(R.next=Q.next,Q.next=R),j.pending=R}}f.lanes|=o,R=f.alternate,R!==null&&(R.lanes|=o),ec(f.return,o,r),E.lanes|=o;break}R=R.next}}else if(f.tag===10)v=f.type===r.type?null:f.child;else if(f.tag===18){if(v=f.return,v===null)throw Error(n(341));v.lanes|=o,E=v.alternate,E!==null&&(E.lanes|=o),ec(v,o,r),v=f.sibling}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===r){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}Ft(t,r,h.children,o),r=r.child}return r;case 9:return h=r.type,u=r.pendingProps.children,Is(r,o),h=cn(h),u=u(h),r.flags|=1,Ft(t,r,u,o),r.child;case 14:return u=r.type,h=En(u,r.pendingProps),h=En(u.type,h),Mf(t,r,u,h,o);case 15:return bf(t,r,r.type,r.pendingProps,o);case 17:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:En(u,h),hl(t,r),r.tag=1,Bt(u)?(t=!0,qa(r)):t=!1,Is(r,o),Cf(r,u,h),gc(r,u,h,o),wc(null,r,u,!0,t,o);case 19:return Wf(t,r,o);case 22:return Of(t,r,o)}throw Error(n(156,r.tag))};function pp(t,r){return so(t,r)}function Rv(t,r,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,r,o,u){return new Rv(t,r,o,u)}function zc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Cv(t){if(typeof t=="function")return zc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===L)return 11;if(t===yt)return 14}return 2}function qr(t,r){var o=t.alternate;return o===null?(o=fn(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function Tl(t,r,o,u,h,f){var v=2;if(u=t,typeof t=="function")zc(t)&&(v=1);else if(typeof t=="string")v=5;else e:switch(t){case P:return Mi(o.children,h,f,r);case T:v=8,h|=8;break;case A:return t=fn(12,o,r,h|2),t.elementType=A,t.lanes=f,t;case I:return t=fn(13,o,r,h),t.elementType=I,t.lanes=f,t;case Be:return t=fn(19,o,r,h),t.elementType=Be,t.lanes=f,t;case Ge:return Sl(o,h,f,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case x:v=10;break e;case k:v=9;break e;case L:v=11;break e;case yt:v=14;break e;case Pt:v=16,u=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=fn(v,o,r,h),r.elementType=t,r.type=u,r.lanes=f,r}function Mi(t,r,o,u){return t=fn(7,t,u,r),t.lanes=o,t}function Sl(t,r,o,u){return t=fn(22,t,u,r),t.elementType=Ge,t.lanes=o,t.stateNode={isHidden:!1},t}function Uc(t,r,o){return t=fn(6,t,null,r),t.lanes=o,t}function Bc(t,r,o){return r=fn(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function kv(t,r,o,u,h){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=co(0),this.expirationTimes=co(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=co(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Hc(t,r,o,u,h,f,v,E,R){return t=new kv(t,r,o,E,R),r===1?(r=1,f===!0&&(r|=8)):r=0,f=fn(3,null,null,r),t.current=f,f.stateNode=t,f.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},nc(f),t}function Pv(t,r,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ke,key:u==null?null:""+u,children:t,containerInfo:r,implementation:o}}function mp(t){if(!t)return jr;t=t._reactInternals;e:{if(yn(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Bt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(Bt(o))return Bd(t,o,r)}return r}function gp(t,r,o,u,h,f,v,E,R){return t=Hc(o,u,!0,t,h,f,v,E,R),t.context=mp(null),o=t.current,u=zt(),h=$r(o),f=fr(u,h),f.callback=r??null,Ur(o,f,h),t.current.lanes=h,_i(t,h,u),$t(t,u),t}function Il(t,r,o,u){var h=r.current,f=zt(),v=$r(h);return o=mp(o),r.context===null?r.context=o:r.pendingContext=o,r=fr(f,v),r.payload={element:t},u=u===void 0?null:u,u!==null&&(r.callback=u),t=Ur(h,r,v),t!==null&&(In(t,h,v,f),tl(t,h,v)),v}function Al(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function yp(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function Wc(t,r){yp(t,r),(t=t.alternate)&&yp(t,r)}function Nv(){return null}var vp=typeof reportError=="function"?reportError:function(t){console.error(t)};function $c(t){this._internalRoot=t}Rl.prototype.render=$c.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));Il(t,r,null,null)},Rl.prototype.unmount=$c.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Vi(function(){Il(null,t,null,null)}),r[lr]=null}};function Rl(t){this._internalRoot=t}Rl.prototype.unstable_scheduleHydration=function(t){if(t){var r=mo();t={blockedOn:null,target:t,priority:r};for(var o=0;o<Jt.length&&r!==0&&r<Jt[o].priority;o++);Jt.splice(o,0,t),o===0&&ns(t)}};function Qc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Cl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function _p(){}function xv(t,r,o,u,h){if(h){if(typeof u=="function"){var f=u;u=function(){var j=Al(v);f.call(j)}}var v=gp(r,u,t,0,null,!1,!1,"",_p);return t._reactRootContainer=v,t[lr]=v.current,Co(t.nodeType===8?t.parentNode:t),Vi(),v}for(;h=t.lastChild;)t.removeChild(h);if(typeof u=="function"){var E=u;u=function(){var j=Al(R);E.call(j)}}var R=Hc(t,0,!1,null,null,!1,!1,"",_p);return t._reactRootContainer=R,t[lr]=R.current,Co(t.nodeType===8?t.parentNode:t),Vi(function(){Il(r,R,o,u)}),R}function kl(t,r,o,u,h){var f=o._reactRootContainer;if(f){var v=f;if(typeof h=="function"){var E=h;h=function(){var R=Al(v);E.call(R)}}Il(r,v,t,h)}else v=xv(o,r,t,h,u);return Al(v)}fo=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=Me(r.pendingLanes);o!==0&&(ho(r,o|1),$t(r,We()),(Ve&6)===0&&(Ps=We()+500,Fr()))}break;case 13:Vi(function(){var u=dr(t,1);if(u!==null){var h=zt();In(u,t,1,h)}}),Wc(t,1)}},es=function(t){if(t.tag===13){var r=dr(t,134217728);if(r!==null){var o=zt();In(r,t,134217728,o)}Wc(t,134217728)}},po=function(t){if(t.tag===13){var r=$r(t),o=dr(t,r);if(o!==null){var u=zt();In(o,t,r,u)}Wc(t,r)}},mo=function(){return Ce},go=function(t,r){var o=Ce;try{return Ce=t,r()}finally{Ce=o}},Yn=function(t,r,o){switch(r){case"input":if(ui(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==t&&u.form===t.form){var h=$a(u);if(!h)throw Error(n(90));Xs(u),ui(u,h)}}}break;case"textarea":ga(t,o);break;case"select":r=o.value,r!=null&&mn(t,!!o.multiple,r,!1)}},_a=Oc,wa=Vi;var Vv={usingClientEntryPoint:!1,Events:[No,gs,$a,Ar,Rr,Oc]},Wo={findFiberByHostInstance:Ii,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Dv={bundleType:Wo.bundleType,version:Wo.version,rendererPackageName:Wo.rendererPackageName,rendererConfig:Wo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:De.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ca(t),t===null?null:t.stateNode},findFiberByHostInstance:Wo.findFiberByHostInstance||Nv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pl.isDisabled&&Pl.supportsFiber)try{mi=Pl.inject(Dv),Kt=Pl}catch{}}return Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vv,Qt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qc(r))throw Error(n(200));return Pv(t,r,null,o)},Qt.createRoot=function(t,r){if(!Qc(t))throw Error(n(299));var o=!1,u="",h=vp;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),r=Hc(t,1,!1,null,null,o,!1,u,h),t[lr]=r.current,Co(t.nodeType===8?t.parentNode:t),new $c(r)},Qt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=Ca(r),t=t===null?null:t.stateNode,t},Qt.flushSync=function(t){return Vi(t)},Qt.hydrate=function(t,r,o){if(!Cl(r))throw Error(n(200));return kl(null,t,r,!0,o)},Qt.hydrateRoot=function(t,r,o){if(!Qc(t))throw Error(n(405));var u=o!=null&&o.hydratedSources||null,h=!1,f="",v=vp;if(o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(v=o.onRecoverableError)),r=gp(r,null,t,1,o??null,h,!1,f,v),t[lr]=r.current,Co(t),u)for(t=0;t<u.length;t++)o=u[t],h=o._getVersion,h=h(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,h]:r.mutableSourceEagerHydrationData.push(o,h);return new Rl(r)},Qt.render=function(t,r,o){if(!Cl(r))throw Error(n(200));return kl(null,t,r,!1,o)},Qt.unmountComponentAtNode=function(t){if(!Cl(t))throw Error(n(40));return t._reactRootContainer?(Vi(function(){kl(null,null,t,!1,function(){t._reactRootContainer=null,t[lr]=null})}),!0):!1},Qt.unstable_batchedUpdates=Oc,Qt.unstable_renderSubtreeIntoContainer=function(t,r,o,u){if(!Cl(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return kl(t,r,o,!1,u)},Qt.version="18.3.1-next-f1338f8080-20240426",Qt}var Cp;function Uv(){if(Cp)return Kc.exports;Cp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Kc.exports=zv(),Kc.exports}var kp;function Bv(){if(kp)return Nl;kp=1;var i=Uv();return Nl.createRoot=i.createRoot,Nl.hydrateRoot=i.hydrateRoot,Nl}var Hv=Bv();const Wv=()=>{};var Pp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},$v=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const a=i[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const c=i[n++];e[s++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=i[n++],d=i[n++],g=i[n++],y=((a&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const c=i[n++],d=i[n++];e[s++]=String.fromCharCode((a&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Fm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const c=i[a],d=a+1<i.length,g=d?i[a+1]:0,y=a+2<i.length,_=y?i[a+2]:0,S=c>>2,C=(c&3)<<4|g>>4;let V=(g&15)<<2|_>>6,z=_&63;y||(z=64,d||(V=64)),s.push(n[S],n[C],n[V],n[z])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(jm(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):$v(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const c=n[i.charAt(a++)],g=a<i.length?n[i.charAt(a)]:0;++a;const _=a<i.length?n[i.charAt(a)]:64;++a;const C=a<i.length?n[i.charAt(a)]:64;if(++a,c==null||g==null||_==null||C==null)throw new Qv;const V=c<<2|g>>4;if(s.push(V),_!==64){const z=g<<4&240|_>>2;if(s.push(z),C!==64){const Z=_<<6&192|C;s.push(Z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Qv extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qv=function(i){const e=jm(i);return Fm.encodeByteArray(e,!0)},Bl=function(i){return qv(i).replace(/\./g,"")},Gv=function(i){try{return Fm.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv=()=>Kv().__FIREBASE_DEFAULTS__,Jv=()=>{if(typeof process>"u"||typeof Pp>"u")return;const i=Pp.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},Yv=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Gv(i[1]);return e&&JSON.parse(e)},xh=()=>{try{return Wv()||Xv()||Jv()||Yv()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Zv=i=>xh()?.emulatorHosts?.[i],e_=i=>{const e=Zv(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},zm=()=>xh()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function n_(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Bl(JSON.stringify(n)),Bl(JSON.stringify(d)),""].join(".")}const Xo={};function i_(){const i={prod:[],emulator:[]};for(const e of Object.keys(Xo))Xo[e]?i.emulator.push(e):i.prod.push(e);return i}function s_(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let Np=!1;function o_(i,e){if(typeof window>"u"||typeof document>"u"||!Vh(window.location.host)||Xo[i]===e||Xo[i]||Np)return;Xo[i]=e;function n(V){return`__firebase__banner__${V}`}const s="__firebase__banner",c=i_().prod.length>0;function d(){const V=document.getElementById(s);V&&V.remove()}function g(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function y(V,z){V.setAttribute("width","24"),V.setAttribute("id",z),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function _(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{Np=!0,d()},V}function S(V,z){V.setAttribute("id",z),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function C(){const V=s_(s),z=n("text"),Z=document.getElementById(z)||document.createElement("span"),J=n("learnmore"),q=document.getElementById(J)||document.createElement("a"),Ee=n("preprendIcon"),ye=document.getElementById(Ee)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const ve=V.element;g(ve),S(q,J);const De=_();y(ye,Ee),ve.append(ye,Z,q,De),document.body.appendChild(ve)}c?(Z.innerText="Preview backend disconnected.",ye.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ye.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a_(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function l_(){const i=xh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function u_(){return!l_()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function c_(){try{return typeof indexedDB=="object"}catch{return!1}}function h_(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_="FirebaseError";class $s extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=d_,Object.setPrototypeOf(this,$s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Um.prototype.create)}}class Um{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,c=this.errors[e],d=c?f_(c,s):"Error",g=`${this.serviceName}: ${d} (${a}).`;return new $s(a,g,s)}}function f_(i,e){return i.replace(p_,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const p_=/\{\$([^}]+)}/g;function Hl(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const c=i[a],d=e[a];if(xp(c)&&xp(d)){if(!Hl(c,d))return!1}else if(c!==d)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function xp(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(i){return i&&i._delegate?i._delegate:i}class ta{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new t_;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(y_(e))try{this.getOrInitializeService({instanceIdentifier:bi})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:a});s.resolve(c)}catch{}}}}clearInstance(e=bi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=bi){return this.instances.has(e)}getOptions(e=bi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const c=this.instances.get(s);return c&&e(c,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:g_(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=bi){return this.component?this.component.multipleInstances?e:bi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function g_(i){return i===bi?void 0:i}function y_(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new m_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ne||(Ne={}));const __={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},w_=Ne.INFO,E_={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},T_=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=E_[e];if(a)console[a](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bm{constructor(e){this.name=e,this._logLevel=w_,this._logHandler=T_,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?__[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const S_=(i,e)=>e.some(n=>i instanceof n);let Vp,Dp;function I_(){return Vp||(Vp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function A_(){return Dp||(Dp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Hm=new WeakMap,ah=new WeakMap,Wm=new WeakMap,Yc=new WeakMap,Dh=new WeakMap;function R_(i){const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("success",c),i.removeEventListener("error",d)},c=()=>{n(Xr(i.result)),a()},d=()=>{s(i.error),a()};i.addEventListener("success",c),i.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&Hm.set(n,i)}).catch(()=>{}),Dh.set(e,i),e}function C_(i){if(ah.has(i))return;const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",d),i.removeEventListener("abort",d)},c=()=>{n(),a()},d=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",c),i.addEventListener("error",d),i.addEventListener("abort",d)});ah.set(i,e)}let lh={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return ah.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Wm.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function k_(i){lh=i(lh)}function P_(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Zc(this),e,...n);return Wm.set(s,e.sort?e.sort():[e]),Xr(s)}:A_().includes(i)?function(...e){return i.apply(Zc(this),e),Xr(Hm.get(this))}:function(...e){return Xr(i.apply(Zc(this),e))}}function N_(i){return typeof i=="function"?P_(i):(i instanceof IDBTransaction&&C_(i),S_(i,I_())?new Proxy(i,lh):i)}function Xr(i){if(i instanceof IDBRequest)return R_(i);if(Yc.has(i))return Yc.get(i);const e=N_(i);return e!==i&&(Yc.set(i,e),Dh.set(e,i)),e}const Zc=i=>Dh.get(i);function x_(i,e,{blocked:n,upgrade:s,blocking:a,terminated:c}={}){const d=indexedDB.open(i,e),g=Xr(d);return s&&d.addEventListener("upgradeneeded",y=>{s(Xr(d.result),y.oldVersion,y.newVersion,Xr(d.transaction),y)}),n&&d.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),a&&y.addEventListener("versionchange",_=>a(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const V_=["get","getKey","getAll","getAllKeys","count"],D_=["put","add","delete","clear"],eh=new Map;function Lp(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(eh.get(e))return eh.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=D_.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||V_.includes(n)))return;const c=async function(d,...g){const y=this.transaction(d,a?"readwrite":"readonly");let _=y.store;return s&&(_=_.index(g.shift())),(await Promise.all([_[n](...g),a&&y.done]))[0]};return eh.set(e,c),c}k_(i=>({...i,get:(e,n,s)=>Lp(e,n)||i.get(e,n,s),has:(e,n)=>!!Lp(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(M_(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function M_(i){return i.getComponent()?.type==="VERSION"}const uh="@firebase/app",Mp="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr=new Bm("@firebase/app"),b_="@firebase/app-compat",O_="@firebase/analytics-compat",j_="@firebase/analytics",F_="@firebase/app-check-compat",z_="@firebase/app-check",U_="@firebase/auth",B_="@firebase/auth-compat",H_="@firebase/database",W_="@firebase/data-connect",$_="@firebase/database-compat",Q_="@firebase/functions",q_="@firebase/functions-compat",G_="@firebase/installations",K_="@firebase/installations-compat",X_="@firebase/messaging",J_="@firebase/messaging-compat",Y_="@firebase/performance",Z_="@firebase/performance-compat",ew="@firebase/remote-config",tw="@firebase/remote-config-compat",nw="@firebase/storage",rw="@firebase/storage-compat",iw="@firebase/firestore",sw="@firebase/ai",ow="@firebase/firestore-compat",aw="firebase",lw="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch="[DEFAULT]",uw={[uh]:"fire-core",[b_]:"fire-core-compat",[j_]:"fire-analytics",[O_]:"fire-analytics-compat",[z_]:"fire-app-check",[F_]:"fire-app-check-compat",[U_]:"fire-auth",[B_]:"fire-auth-compat",[H_]:"fire-rtdb",[W_]:"fire-data-connect",[$_]:"fire-rtdb-compat",[Q_]:"fire-fn",[q_]:"fire-fn-compat",[G_]:"fire-iid",[K_]:"fire-iid-compat",[X_]:"fire-fcm",[J_]:"fire-fcm-compat",[Y_]:"fire-perf",[Z_]:"fire-perf-compat",[ew]:"fire-rc",[tw]:"fire-rc-compat",[nw]:"fire-gcs",[rw]:"fire-gcs-compat",[iw]:"fire-fst",[ow]:"fire-fst-compat",[sw]:"fire-vertex","fire-js":"fire-js",[aw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl=new Map,cw=new Map,hh=new Map;function bp(i,e){try{i.container.addComponent(e)}catch(n){gr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function $l(i){const e=i.name;if(hh.has(e))return gr.debug(`There were multiple attempts to register component ${e}.`),!1;hh.set(e,i);for(const n of Wl.values())bp(n,i);for(const n of cw.values())bp(n,i);return!0}function hw(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function dw(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jr=new Um("app","Firebase",fw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ta("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw=lw;function $m(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:ch,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Jr.create("bad-app-name",{appName:String(a)});if(n||(n=zm()),!n)throw Jr.create("no-options");const c=Wl.get(a);if(c){if(Hl(n,c.options)&&Hl(s,c.config))return c;throw Jr.create("duplicate-app",{appName:a})}const d=new v_(a);for(const y of hh.values())d.addComponent(y);const g=new pw(n,s,d);return Wl.set(a,g),g}function gw(i=ch){const e=Wl.get(i);if(!e&&i===ch&&zm())return $m();if(!e)throw Jr.create("no-app",{appName:i});return e}function Ms(i,e,n){let s=uw[i]??i;n&&(s+=`-${n}`);const a=s.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const d=[`Unable to register library "${s}" with version "${e}":`];a&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gr.warn(d.join(" "));return}$l(new ta(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw="firebase-heartbeat-database",vw=1,na="firebase-heartbeat-store";let th=null;function Qm(){return th||(th=x_(yw,vw,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(na)}catch(n){console.warn(n)}}}}).catch(i=>{throw Jr.create("idb-open",{originalErrorMessage:i.message})})),th}async function _w(i){try{const n=(await Qm()).transaction(na),s=await n.objectStore(na).get(qm(i));return await n.done,s}catch(e){if(e instanceof $s)gr.warn(e.message);else{const n=Jr.create("idb-get",{originalErrorMessage:e?.message});gr.warn(n.message)}}}async function Op(i,e){try{const s=(await Qm()).transaction(na,"readwrite");await s.objectStore(na).put(e,qm(i)),await s.done}catch(n){if(n instanceof $s)gr.warn(n.message);else{const s=Jr.create("idb-set",{originalErrorMessage:n?.message});gr.warn(s.message)}}}function qm(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww=1024,Ew=30;class Tw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Iw(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=jp();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>Ew){const a=Aw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){gr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=jp(),{heartbeatsToSend:n,unsentEntries:s}=Sw(this._heartbeatsCache.heartbeats),a=Bl(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return gr.warn(e),""}}}function jp(){return new Date().toISOString().substring(0,10)}function Sw(i,e=ww){const n=[];let s=i.slice();for(const a of i){const c=n.find(d=>d.agent===a.agent);if(c){if(c.dates.push(a.date),Fp(n)>e){c.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Fp(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Iw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return c_()?h_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await _w(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Op(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Op(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Fp(i){return Bl(JSON.stringify({version:2,heartbeats:i})).length}function Aw(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(i){$l(new ta("platform-logger",e=>new L_(e),"PRIVATE")),$l(new ta("heartbeat",e=>new Tw(e),"PRIVATE")),Ms(uh,Mp,i),Ms(uh,Mp,"esm2020"),Ms("fire-js","")}Rw("");var zp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yr,Gm;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,T){function A(){}A.prototype=T.prototype,P.F=T.prototype,P.prototype=new A,P.prototype.constructor=P,P.D=function(x,k,L){for(var I=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)I[Be-2]=arguments[Be];return T.prototype[k].apply(x,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(P,T,A){A||(A=0);const x=Array(16);if(typeof T=="string")for(var k=0;k<16;++k)x[k]=T.charCodeAt(A++)|T.charCodeAt(A++)<<8|T.charCodeAt(A++)<<16|T.charCodeAt(A++)<<24;else for(k=0;k<16;++k)x[k]=T[A++]|T[A++]<<8|T[A++]<<16|T[A++]<<24;T=P.g[0],A=P.g[1],k=P.g[2];let L=P.g[3],I;I=T+(L^A&(k^L))+x[0]+3614090360&4294967295,T=A+(I<<7&4294967295|I>>>25),I=L+(k^T&(A^k))+x[1]+3905402710&4294967295,L=T+(I<<12&4294967295|I>>>20),I=k+(A^L&(T^A))+x[2]+606105819&4294967295,k=L+(I<<17&4294967295|I>>>15),I=A+(T^k&(L^T))+x[3]+3250441966&4294967295,A=k+(I<<22&4294967295|I>>>10),I=T+(L^A&(k^L))+x[4]+4118548399&4294967295,T=A+(I<<7&4294967295|I>>>25),I=L+(k^T&(A^k))+x[5]+1200080426&4294967295,L=T+(I<<12&4294967295|I>>>20),I=k+(A^L&(T^A))+x[6]+2821735955&4294967295,k=L+(I<<17&4294967295|I>>>15),I=A+(T^k&(L^T))+x[7]+4249261313&4294967295,A=k+(I<<22&4294967295|I>>>10),I=T+(L^A&(k^L))+x[8]+1770035416&4294967295,T=A+(I<<7&4294967295|I>>>25),I=L+(k^T&(A^k))+x[9]+2336552879&4294967295,L=T+(I<<12&4294967295|I>>>20),I=k+(A^L&(T^A))+x[10]+4294925233&4294967295,k=L+(I<<17&4294967295|I>>>15),I=A+(T^k&(L^T))+x[11]+2304563134&4294967295,A=k+(I<<22&4294967295|I>>>10),I=T+(L^A&(k^L))+x[12]+1804603682&4294967295,T=A+(I<<7&4294967295|I>>>25),I=L+(k^T&(A^k))+x[13]+4254626195&4294967295,L=T+(I<<12&4294967295|I>>>20),I=k+(A^L&(T^A))+x[14]+2792965006&4294967295,k=L+(I<<17&4294967295|I>>>15),I=A+(T^k&(L^T))+x[15]+1236535329&4294967295,A=k+(I<<22&4294967295|I>>>10),I=T+(k^L&(A^k))+x[1]+4129170786&4294967295,T=A+(I<<5&4294967295|I>>>27),I=L+(A^k&(T^A))+x[6]+3225465664&4294967295,L=T+(I<<9&4294967295|I>>>23),I=k+(T^A&(L^T))+x[11]+643717713&4294967295,k=L+(I<<14&4294967295|I>>>18),I=A+(L^T&(k^L))+x[0]+3921069994&4294967295,A=k+(I<<20&4294967295|I>>>12),I=T+(k^L&(A^k))+x[5]+3593408605&4294967295,T=A+(I<<5&4294967295|I>>>27),I=L+(A^k&(T^A))+x[10]+38016083&4294967295,L=T+(I<<9&4294967295|I>>>23),I=k+(T^A&(L^T))+x[15]+3634488961&4294967295,k=L+(I<<14&4294967295|I>>>18),I=A+(L^T&(k^L))+x[4]+3889429448&4294967295,A=k+(I<<20&4294967295|I>>>12),I=T+(k^L&(A^k))+x[9]+568446438&4294967295,T=A+(I<<5&4294967295|I>>>27),I=L+(A^k&(T^A))+x[14]+3275163606&4294967295,L=T+(I<<9&4294967295|I>>>23),I=k+(T^A&(L^T))+x[3]+4107603335&4294967295,k=L+(I<<14&4294967295|I>>>18),I=A+(L^T&(k^L))+x[8]+1163531501&4294967295,A=k+(I<<20&4294967295|I>>>12),I=T+(k^L&(A^k))+x[13]+2850285829&4294967295,T=A+(I<<5&4294967295|I>>>27),I=L+(A^k&(T^A))+x[2]+4243563512&4294967295,L=T+(I<<9&4294967295|I>>>23),I=k+(T^A&(L^T))+x[7]+1735328473&4294967295,k=L+(I<<14&4294967295|I>>>18),I=A+(L^T&(k^L))+x[12]+2368359562&4294967295,A=k+(I<<20&4294967295|I>>>12),I=T+(A^k^L)+x[5]+4294588738&4294967295,T=A+(I<<4&4294967295|I>>>28),I=L+(T^A^k)+x[8]+2272392833&4294967295,L=T+(I<<11&4294967295|I>>>21),I=k+(L^T^A)+x[11]+1839030562&4294967295,k=L+(I<<16&4294967295|I>>>16),I=A+(k^L^T)+x[14]+4259657740&4294967295,A=k+(I<<23&4294967295|I>>>9),I=T+(A^k^L)+x[1]+2763975236&4294967295,T=A+(I<<4&4294967295|I>>>28),I=L+(T^A^k)+x[4]+1272893353&4294967295,L=T+(I<<11&4294967295|I>>>21),I=k+(L^T^A)+x[7]+4139469664&4294967295,k=L+(I<<16&4294967295|I>>>16),I=A+(k^L^T)+x[10]+3200236656&4294967295,A=k+(I<<23&4294967295|I>>>9),I=T+(A^k^L)+x[13]+681279174&4294967295,T=A+(I<<4&4294967295|I>>>28),I=L+(T^A^k)+x[0]+3936430074&4294967295,L=T+(I<<11&4294967295|I>>>21),I=k+(L^T^A)+x[3]+3572445317&4294967295,k=L+(I<<16&4294967295|I>>>16),I=A+(k^L^T)+x[6]+76029189&4294967295,A=k+(I<<23&4294967295|I>>>9),I=T+(A^k^L)+x[9]+3654602809&4294967295,T=A+(I<<4&4294967295|I>>>28),I=L+(T^A^k)+x[12]+3873151461&4294967295,L=T+(I<<11&4294967295|I>>>21),I=k+(L^T^A)+x[15]+530742520&4294967295,k=L+(I<<16&4294967295|I>>>16),I=A+(k^L^T)+x[2]+3299628645&4294967295,A=k+(I<<23&4294967295|I>>>9),I=T+(k^(A|~L))+x[0]+4096336452&4294967295,T=A+(I<<6&4294967295|I>>>26),I=L+(A^(T|~k))+x[7]+1126891415&4294967295,L=T+(I<<10&4294967295|I>>>22),I=k+(T^(L|~A))+x[14]+2878612391&4294967295,k=L+(I<<15&4294967295|I>>>17),I=A+(L^(k|~T))+x[5]+4237533241&4294967295,A=k+(I<<21&4294967295|I>>>11),I=T+(k^(A|~L))+x[12]+1700485571&4294967295,T=A+(I<<6&4294967295|I>>>26),I=L+(A^(T|~k))+x[3]+2399980690&4294967295,L=T+(I<<10&4294967295|I>>>22),I=k+(T^(L|~A))+x[10]+4293915773&4294967295,k=L+(I<<15&4294967295|I>>>17),I=A+(L^(k|~T))+x[1]+2240044497&4294967295,A=k+(I<<21&4294967295|I>>>11),I=T+(k^(A|~L))+x[8]+1873313359&4294967295,T=A+(I<<6&4294967295|I>>>26),I=L+(A^(T|~k))+x[15]+4264355552&4294967295,L=T+(I<<10&4294967295|I>>>22),I=k+(T^(L|~A))+x[6]+2734768916&4294967295,k=L+(I<<15&4294967295|I>>>17),I=A+(L^(k|~T))+x[13]+1309151649&4294967295,A=k+(I<<21&4294967295|I>>>11),I=T+(k^(A|~L))+x[4]+4149444226&4294967295,T=A+(I<<6&4294967295|I>>>26),I=L+(A^(T|~k))+x[11]+3174756917&4294967295,L=T+(I<<10&4294967295|I>>>22),I=k+(T^(L|~A))+x[2]+718787259&4294967295,k=L+(I<<15&4294967295|I>>>17),I=A+(L^(k|~T))+x[9]+3951481745&4294967295,P.g[0]=P.g[0]+T&4294967295,P.g[1]=P.g[1]+(k+(I<<21&4294967295|I>>>11))&4294967295,P.g[2]=P.g[2]+k&4294967295,P.g[3]=P.g[3]+L&4294967295}s.prototype.v=function(P,T){T===void 0&&(T=P.length);const A=T-this.blockSize,x=this.C;let k=this.h,L=0;for(;L<T;){if(k==0)for(;L<=A;)a(this,P,L),L+=this.blockSize;if(typeof P=="string"){for(;L<T;)if(x[k++]=P.charCodeAt(L++),k==this.blockSize){a(this,x),k=0;break}}else for(;L<T;)if(x[k++]=P[L++],k==this.blockSize){a(this,x),k=0;break}}this.h=k,this.o+=T},s.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var T=1;T<P.length-8;++T)P[T]=0;T=this.o*8;for(var A=P.length-8;A<P.length;++A)P[A]=T&255,T/=256;for(this.v(P),P=Array(16),T=0,A=0;A<4;++A)for(let x=0;x<32;x+=8)P[T++]=this.g[A]>>>x&255;return P};function c(P,T){var A=g;return Object.prototype.hasOwnProperty.call(A,P)?A[P]:A[P]=T(P)}function d(P,T){this.h=T;const A=[];let x=!0;for(let k=P.length-1;k>=0;k--){const L=P[k]|0;x&&L==T||(A[k]=L,x=!1)}this.g=A}var g={};function y(P){return-128<=P&&P<128?c(P,function(T){return new d([T|0],T<0?-1:0)}):new d([P|0],P<0?-1:0)}function _(P){if(isNaN(P)||!isFinite(P))return C;if(P<0)return q(_(-P));const T=[];let A=1;for(let x=0;P>=A;x++)T[x]=P/A|0,A*=4294967296;return new d(T,0)}function S(P,T){if(P.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(P.charAt(0)=="-")return q(S(P.substring(1),T));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=_(Math.pow(T,8));let x=C;for(let L=0;L<P.length;L+=8){var k=Math.min(8,P.length-L);const I=parseInt(P.substring(L,L+k),T);k<8?(k=_(Math.pow(T,k)),x=x.j(k).add(_(I))):(x=x.j(A),x=x.add(_(I)))}return x}var C=y(0),V=y(1),z=y(16777216);i=d.prototype,i.m=function(){if(J(this))return-q(this).m();let P=0,T=1;for(let A=0;A<this.g.length;A++){const x=this.i(A);P+=(x>=0?x:4294967296+x)*T,T*=4294967296}return P},i.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(Z(this))return"0";if(J(this))return"-"+q(this).toString(P);const T=_(Math.pow(P,6));var A=this;let x="";for(;;){const k=De(A,T).g;A=Ee(A,k.j(T));let L=((A.g.length>0?A.g[0]:A.h)>>>0).toString(P);if(A=k,Z(A))return L+x;for(;L.length<6;)L="0"+L;x=L+x}},i.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function Z(P){if(P.h!=0)return!1;for(let T=0;T<P.g.length;T++)if(P.g[T]!=0)return!1;return!0}function J(P){return P.h==-1}i.l=function(P){return P=Ee(this,P),J(P)?-1:Z(P)?0:1};function q(P){const T=P.g.length,A=[];for(let x=0;x<T;x++)A[x]=~P.g[x];return new d(A,~P.h).add(V)}i.abs=function(){return J(this)?q(this):this},i.add=function(P){const T=Math.max(this.g.length,P.g.length),A=[];let x=0;for(let k=0;k<=T;k++){let L=x+(this.i(k)&65535)+(P.i(k)&65535),I=(L>>>16)+(this.i(k)>>>16)+(P.i(k)>>>16);x=I>>>16,L&=65535,I&=65535,A[k]=I<<16|L}return new d(A,A[A.length-1]&-2147483648?-1:0)};function Ee(P,T){return P.add(q(T))}i.j=function(P){if(Z(this)||Z(P))return C;if(J(this))return J(P)?q(this).j(q(P)):q(q(this).j(P));if(J(P))return q(this.j(q(P)));if(this.l(z)<0&&P.l(z)<0)return _(this.m()*P.m());const T=this.g.length+P.g.length,A=[];for(var x=0;x<2*T;x++)A[x]=0;for(x=0;x<this.g.length;x++)for(let k=0;k<P.g.length;k++){const L=this.i(x)>>>16,I=this.i(x)&65535,Be=P.i(k)>>>16,yt=P.i(k)&65535;A[2*x+2*k]+=I*yt,ye(A,2*x+2*k),A[2*x+2*k+1]+=L*yt,ye(A,2*x+2*k+1),A[2*x+2*k+1]+=I*Be,ye(A,2*x+2*k+1),A[2*x+2*k+2]+=L*Be,ye(A,2*x+2*k+2)}for(P=0;P<T;P++)A[P]=A[2*P+1]<<16|A[2*P];for(P=T;P<2*T;P++)A[P]=0;return new d(A,0)};function ye(P,T){for(;(P[T]&65535)!=P[T];)P[T+1]+=P[T]>>>16,P[T]&=65535,T++}function ve(P,T){this.g=P,this.h=T}function De(P,T){if(Z(T))throw Error("division by zero");if(Z(P))return new ve(C,C);if(J(P))return T=De(q(P),T),new ve(q(T.g),q(T.h));if(J(T))return T=De(P,q(T)),new ve(q(T.g),T.h);if(P.g.length>30){if(J(P)||J(T))throw Error("slowDivide_ only works with positive integers.");for(var A=V,x=T;x.l(P)<=0;)A=Ue(A),x=Ue(x);var k=ke(A,1),L=ke(x,1);for(x=ke(x,2),A=ke(A,2);!Z(x);){var I=L.add(x);I.l(P)<=0&&(k=k.add(A),L=I),x=ke(x,1),A=ke(A,1)}return T=Ee(P,k.j(T)),new ve(k,T)}for(k=C;P.l(T)>=0;){for(A=Math.max(1,Math.floor(P.m()/T.m())),x=Math.ceil(Math.log(A)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),L=_(A),I=L.j(T);J(I)||I.l(P)>0;)A-=x,L=_(A),I=L.j(T);Z(L)&&(L=V),k=k.add(L),P=Ee(P,I)}return new ve(k,P)}i.B=function(P){return De(this,P).h},i.and=function(P){const T=Math.max(this.g.length,P.g.length),A=[];for(let x=0;x<T;x++)A[x]=this.i(x)&P.i(x);return new d(A,this.h&P.h)},i.or=function(P){const T=Math.max(this.g.length,P.g.length),A=[];for(let x=0;x<T;x++)A[x]=this.i(x)|P.i(x);return new d(A,this.h|P.h)},i.xor=function(P){const T=Math.max(this.g.length,P.g.length),A=[];for(let x=0;x<T;x++)A[x]=this.i(x)^P.i(x);return new d(A,this.h^P.h)};function Ue(P){const T=P.g.length+1,A=[];for(let x=0;x<T;x++)A[x]=P.i(x)<<1|P.i(x-1)>>>31;return new d(A,P.h)}function ke(P,T){const A=T>>5;T%=32;const x=P.g.length-A,k=[];for(let L=0;L<x;L++)k[L]=T>0?P.i(L+A)>>>T|P.i(L+A+1)<<32-T:P.i(L+A);return new d(k,P.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Gm=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=S,Yr=d}).apply(typeof zp<"u"?zp:typeof self<"u"?self:typeof window<"u"?window:{});var xl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Km,Qo,Xm,bl,dh,Jm,Ym,Zm;(function(){var i,e=Object.defineProperty;function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof xl=="object"&&xl];for(var p=0;p<l.length;++p){var m=l[p];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var s=n(this);function a(l,p){if(p)e:{var m=s;l=l.split(".");for(var w=0;w<l.length-1;w++){var b=l[w];if(!(b in m))break e;m=m[b]}l=l[l.length-1],w=m[l],p=p(w),p!=w&&p!=null&&e(m,l,{configurable:!0,writable:!0,value:p})}}a("Symbol.dispose",function(l){return l||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(l){return l||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(l){return l||function(p){var m=[],w;for(w in p)Object.prototype.hasOwnProperty.call(p,w)&&m.push([w,p[w]]);return m}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function g(l){var p=typeof l;return p=="object"&&l!=null||p=="function"}function y(l,p,m){return l.call.apply(l.bind,arguments)}function _(l,p,m){return _=y,_.apply(null,arguments)}function S(l,p){var m=Array.prototype.slice.call(arguments,1);return function(){var w=m.slice();return w.push.apply(w,arguments),l.apply(this,w)}}function C(l,p){function m(){}m.prototype=p.prototype,l.Z=p.prototype,l.prototype=new m,l.prototype.constructor=l,l.Ob=function(w,b,F){for(var X=Array(arguments.length-2),me=2;me<arguments.length;me++)X[me-2]=arguments[me];return p.prototype[b].apply(w,X)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?l=>l&&AsyncContext.Snapshot.wrap(l):l=>l;function z(l){const p=l.length;if(p>0){const m=Array(p);for(let w=0;w<p;w++)m[w]=l[w];return m}return[]}function Z(l,p){for(let w=1;w<arguments.length;w++){const b=arguments[w];var m=typeof b;if(m=m!="object"?m:b?Array.isArray(b)?"array":m:"null",m=="array"||m=="object"&&typeof b.length=="number"){m=l.length||0;const F=b.length||0;l.length=m+F;for(let X=0;X<F;X++)l[m+X]=b[X]}else l.push(b)}}class J{constructor(p,m){this.i=p,this.j=m,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function q(l){d.setTimeout(()=>{throw l},0)}function Ee(){var l=P;let p=null;return l.g&&(p=l.g,l.g=l.g.next,l.g||(l.h=null),p.next=null),p}class ye{constructor(){this.h=this.g=null}add(p,m){const w=ve.get();w.set(p,m),this.h?this.h.next=w:this.g=w,this.h=w}}var ve=new J(()=>new De,l=>l.reset());class De{constructor(){this.next=this.g=this.h=null}set(p,m){this.h=p,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let Ue,ke=!1,P=new ye,T=()=>{const l=Promise.resolve(void 0);Ue=()=>{l.then(A)}};function A(){for(var l;l=Ee();){try{l.h.call(l.g)}catch(m){q(m)}var p=ve;p.j(l),p.h<100&&(p.h++,l.next=p.g,p.g=l)}ke=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(l,p){this.type=l,this.g=this.target=p,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var L=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var l=!1,p=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const m=()=>{};d.addEventListener("test",m,p),d.removeEventListener("test",m,p)}catch{}return l}();function I(l){return/^[\s\xa0]*$/.test(l)}function Be(l,p){k.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l&&this.init(l,p)}C(Be,k),Be.prototype.init=function(l,p){const m=this.type=l.type,w=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;this.target=l.target||l.srcElement,this.g=p,p=l.relatedTarget,p||(m=="mouseover"?p=l.fromElement:m=="mouseout"&&(p=l.toElement)),this.relatedTarget=p,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=l.pointerType,this.state=l.state,this.i=l,l.defaultPrevented&&Be.Z.h.call(this)},Be.prototype.h=function(){Be.Z.h.call(this);const l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var yt="closure_listenable_"+(Math.random()*1e6|0),Pt=0;function Ge(l,p,m,w,b){this.listener=l,this.proxy=null,this.src=p,this.type=m,this.capture=!!w,this.ha=b,this.key=++Pt,this.da=this.fa=!1}function Y(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function le(l,p,m){for(const w in l)p.call(m,l[w],w,l)}function ne(l,p){for(const m in l)p.call(void 0,l[m],m,l)}function D(l){const p={};for(const m in l)p[m]=l[m];return p}const B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _e(l,p){let m,w;for(let b=1;b<arguments.length;b++){w=arguments[b];for(m in w)l[m]=w[m];for(let F=0;F<B.length;F++)m=B[F],Object.prototype.hasOwnProperty.call(w,m)&&(l[m]=w[m])}}function we(l){this.src=l,this.g={},this.h=0}we.prototype.add=function(l,p,m,w,b){const F=l.toString();l=this.g[F],l||(l=this.g[F]=[],this.h++);const X=Ie(l,p,w,b);return X>-1?(p=l[X],m||(p.fa=!1)):(p=new Ge(p,this.src,F,!!w,b),p.fa=m,l.push(p)),p};function Se(l,p){const m=p.type;if(m in l.g){var w=l.g[m],b=Array.prototype.indexOf.call(w,p,void 0),F;(F=b>=0)&&Array.prototype.splice.call(w,b,1),F&&(Y(p),l.g[m].length==0&&(delete l.g[m],l.h--))}}function Ie(l,p,m,w){for(let b=0;b<l.length;++b){const F=l[b];if(!F.da&&F.listener==p&&F.capture==!!m&&F.ha==w)return b}return-1}var be="closure_lm_"+(Math.random()*1e6|0),xe={};function Fe(l,p,m,w,b){if(Array.isArray(p)){for(let F=0;F<p.length;F++)Fe(l,p[F],m,w,b);return null}return m=Js(m),l&&l[yt]?l.J(p,m,g(w)?!!w.capture:!1,b):jt(l,p,m,!1,w,b)}function jt(l,p,m,w,b,F){if(!p)throw Error("Invalid event type");const X=g(b)?!!b.capture:!!b;let me=$i(l);if(me||(l[be]=me=new we(l)),m=me.add(p,m,w,X,F),m.proxy)return m;if(w=Hi(),m.proxy=w,w.src=l,w.listener=m,l.addEventListener)L||(b=X),b===void 0&&(b=!1),l.addEventListener(p.toString(),w,b);else if(l.attachEvent)l.attachEvent(Wi(p.toString()),w);else if(l.addListener&&l.removeListener)l.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return m}function Hi(){function l(m){return p.call(l.src,l.listener,m)}const p=ma;return l}function Xs(l,p,m,w,b){if(Array.isArray(p))for(var F=0;F<p.length;F++)Xs(l,p[F],m,w,b);else w=g(w)?!!w.capture:!!w,m=Js(m),l&&l[yt]?(l=l.i,F=String(p).toString(),F in l.g&&(p=l.g[F],m=Ie(p,m,w,b),m>-1&&(Y(p[m]),Array.prototype.splice.call(p,m,1),p.length==0&&(delete l.g[F],l.h--)))):l&&(l=$i(l))&&(p=l.g[p.toString()],l=-1,p&&(l=Ie(p,m,w,b)),(m=l>-1?p[l]:null)&&_r(m))}function _r(l){if(typeof l!="number"&&l&&!l.da){var p=l.src;if(p&&p[yt])Se(p.i,l);else{var m=l.type,w=l.proxy;p.removeEventListener?p.removeEventListener(m,w,l.capture):p.detachEvent?p.detachEvent(Wi(m),w):p.addListener&&p.removeListener&&p.removeListener(w),(m=$i(p))?(Se(m,l),m.h==0&&(m.src=null,p[be]=null)):Y(l)}}}function Wi(l){return l in xe?xe[l]:xe[l]="on"+l}function ma(l,p){if(l.da)l=!0;else{p=new Be(p,this);const m=l.listener,w=l.ha||l.src;l.fa&&_r(l),l=m.call(w,p)}return l}function $i(l){return l=l[be],l instanceof we?l:null}var ui="__closure_events_fn_"+(Math.random()*1e9>>>0);function Js(l){return typeof l=="function"?l:(l[ui]||(l[ui]=function(p){return l.handleEvent(p)}),l[ui])}function ot(){x.call(this),this.i=new we(this),this.M=this,this.G=null}C(ot,x),ot.prototype[yt]=!0,ot.prototype.removeEventListener=function(l,p,m,w){Xs(this,l,p,m,w)};function nt(l,p){var m,w=l.G;if(w)for(m=[];w;w=w.G)m.push(w);if(l=l.M,w=p.type||p,typeof p=="string")p=new k(p,l);else if(p instanceof k)p.target=p.target||l;else{var b=p;p=new k(w,l),_e(p,b)}b=!0;let F,X;if(m)for(X=m.length-1;X>=0;X--)F=p.g=m[X],b=mn(F,w,!0,p)&&b;if(F=p.g=l,b=mn(F,w,!0,p)&&b,b=mn(F,w,!1,p)&&b,m)for(X=0;X<m.length;X++)F=p.g=m[X],b=mn(F,w,!1,p)&&b}ot.prototype.N=function(){if(ot.Z.N.call(this),this.i){var l=this.i;for(const p in l.g){const m=l.g[p];for(let w=0;w<m.length;w++)Y(m[w]);delete l.g[p],l.h--}}this.G=null},ot.prototype.J=function(l,p,m,w){return this.i.add(String(l),p,!1,m,w)},ot.prototype.K=function(l,p,m,w){return this.i.add(String(l),p,!0,m,w)};function mn(l,p,m,w){if(p=l.i.g[String(p)],!p)return!0;p=p.concat();let b=!0;for(let F=0;F<p.length;++F){const X=p[F];if(X&&!X.da&&X.capture==m){const me=X.listener,rt=X.ha||X.src;X.fa&&Se(l.i,X),b=me.call(rt,w)!==!1&&b}}return b&&!w.defaultPrevented}function Ys(l,p){if(typeof l!="function")if(l&&typeof l.handleEvent=="function")l=_(l.handleEvent,l);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:d.setTimeout(l,p||0)}function Zs(l){l.g=Ys(()=>{l.g=null,l.i&&(l.i=!1,Zs(l))},l.l);const p=l.h;l.h=null,l.m.apply(null,p)}class ga extends x{constructor(p,m){super(),this.m=p,this.l=m,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Zs(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wr(l){x.call(this),this.h=l,this.g={}}C(wr,x);var eo=[];function Qi(l){le(l.g,function(p,m){this.g.hasOwnProperty(m)&&_r(p)},l),l.g={}}wr.prototype.N=function(){wr.Z.N.call(this),Qi(this)},wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Er=d.JSON.stringify,ya=d.JSON.parse,ci=class{stringify(l){return d.JSON.stringify(l,void 0)}parse(l){return d.JSON.parse(l,void 0)}};function Tr(){}function va(){}var Sr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qi(){k.call(this,"d")}C(qi,k);function to(){k.call(this,"c")}C(to,k);var gn={},Gi=null;function Ir(){return Gi=Gi||new ot}gn.Ia="serverreachability";function Ki(l){k.call(this,gn.Ia,l)}C(Ki,k);function Yn(l){const p=Ir();nt(p,new Ki(p))}gn.STAT_EVENT="statevent";function Zn(l,p){k.call(this,gn.STAT_EVENT,l),this.stat=p}C(Zn,k);function et(l){const p=Ir();nt(p,new Zn(p,l))}gn.Ja="timingevent";function no(l,p){k.call(this,gn.Ja,l),this.size=p}C(no,k);function Ar(l,p){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){l()},p)}function Rr(){this.g=!0}Rr.prototype.ua=function(){this.g=!1};function _a(l,p,m,w,b,F){l.info(function(){if(l.g)if(F){var X="",me=F.split("&");for(let je=0;je<me.length;je++){var rt=me[je].split("=");if(rt.length>1){const at=rt[0];rt=rt[1];const en=at.split("_");X=en.length>=2&&en[1]=="type"?X+(at+"="+rt+"&"):X+(at+"=redacted&")}}}else X=null;else X=F;return"XMLHTTP REQ ("+w+") [attempt "+b+"]: "+p+`
`+m+`
`+X})}function wa(l,p,m,w,b,F,X){l.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+b+"]: "+p+`
`+m+`
`+F+" "+X})}function An(l,p,m,w){l.info(function(){return"XMLHTTP TEXT ("+p+"): "+hi(l,m)+(w?" "+w:"")})}function Ea(l,p){l.info(function(){return"TIMEOUT: "+p})}Rr.prototype.info=function(){};function hi(l,p){if(!l.g)return p;if(!p)return null;try{const F=JSON.parse(p);if(F){for(l=0;l<F.length;l++)if(Array.isArray(F[l])){var m=F[l];if(!(m.length<2)){var w=m[1];if(Array.isArray(w)&&!(w.length<1)){var b=w[0];if(b!="noop"&&b!="stop"&&b!="close")for(let X=1;X<w.length;X++)w[X]=""}}}}return Er(F)}catch{return p}}var Cr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},kr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ta;function er(){}C(er,Tr),er.prototype.g=function(){return new XMLHttpRequest},Ta=new er;function Rn(l){return encodeURIComponent(String(l))}function Xi(l){var p=1;l=l.split(":");const m=[];for(;p>0&&l.length;)m.push(l.shift()),p--;return l.length&&m.push(l.join(":")),m}function on(l,p,m,w){this.j=l,this.i=p,this.l=m,this.S=w||1,this.V=new wr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Sa}function Sa(){this.i=null,this.g="",this.h=!1}var Ia={},ro={};function yn(l,p,m){l.M=1,l.A=nr(an(p)),l.u=m,l.R=!0,io(l,null)}function io(l,p){l.F=Date.now(),di(l),l.B=an(l.A);var m=l.B,w=l.S;Array.isArray(w)||(w=[String(w)]),mo(m.i,"t",w),l.C=0,m=l.j.L,l.h=new Sa,l.g=La(l.j,m?p:null,!l.u),l.P>0&&(l.O=new ga(_(l.Y,l,l.g),l.P)),p=l.V,m=l.g,w=l.ba;var b="readystatechange";Array.isArray(b)||(b&&(eo[0]=b.toString()),b=eo);for(let F=0;F<b.length;F++){const X=Fe(m,b[F],w||p.handleEvent,!1,p.h||p);if(!X)break;p.g[X.key]=X}p=l.J?D(l.J):{},l.u?(l.v||(l.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.B,l.v,l.u,p)):(l.v="GET",l.g.ea(l.B,l.v,null,p)),Yn(),_a(l.i,l.v,l.B,l.l,l.S,l.u)}on.prototype.ba=function(l){l=l.target;const p=this.O;p&&Dn(l)==3?p.j():this.Y(l)},on.prototype.Y=function(l){try{if(l==this.g)e:{const me=Dn(this.g),rt=this.g.ya(),je=this.g.ca();if(!(me<3)&&(me!=3||this.g&&(this.h.h||this.g.la()||Va(this.g)))){this.K||me!=4||rt==7||(rt==8||je<=0?Yn(3):Yn(2)),Ji(this);var p=this.g.ca();this.X=p;var m=Aa(this);if(this.o=p==200,wa(this.i,this.v,this.B,this.l,this.S,me,p),this.o){if(this.U&&!this.L){t:{if(this.g){var w,b=this.g;if((w=b.g?b.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(w)){var F=w;break t}}F=null}if(l=F)An(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,We(this,l);else{this.o=!1,this.m=3,et(12),tr(this),fi(this);break e}}if(this.R){l=!0;let at;for(;!this.K&&this.C<m.length;)if(at=Ca(this,m),at==ro){me==4&&(this.m=4,et(14),l=!1),An(this.i,this.l,null,"[Incomplete Response]");break}else if(at==Ia){this.m=4,et(15),An(this.i,this.l,m,"[Invalid Chunk]"),l=!1;break}else An(this.i,this.l,at,null),We(this,at);if(Ra(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),me!=4||m.length!=0||this.h.h||(this.m=1,et(16),l=!1),this.o=this.o&&l,!l)An(this.i,this.l,m,"[Invalid Chunked Response]"),tr(this),fi(this);else if(m.length>0&&!this.W){this.W=!0;var X=this.j;X.g==this&&X.aa&&!X.P&&(X.j.info("Great, no buffering proxy detected. Bytes received: "+m.length),Ti(X),X.P=!0,et(11))}}else An(this.i,this.l,m,null),We(this,m);me==4&&tr(this),this.o&&!this.K&&(me==4?as(this.j,this):(this.o=!1,di(this)))}else yo(this.g),p==400&&m.indexOf("Unknown SID")>0?(this.m=3,et(12)):(this.m=0,et(13)),tr(this),fi(this)}}}catch{}finally{}};function Aa(l){if(!Ra(l))return l.g.la();const p=Va(l.g);if(p==="")return"";let m="";const w=p.length,b=Dn(l.g)==4;if(!l.h.i){if(typeof TextDecoder>"u")return tr(l),fi(l),"";l.h.i=new d.TextDecoder}for(let F=0;F<w;F++)l.h.h=!0,m+=l.h.i.decode(p[F],{stream:!(b&&F==w-1)});return p.length=0,l.h.g+=m,l.C=0,l.h.g}function Ra(l){return l.g?l.v=="GET"&&l.M!=2&&l.j.Aa:!1}function Ca(l,p){var m=l.C,w=p.indexOf(`
`,m);return w==-1?ro:(m=Number(p.substring(m,w)),isNaN(m)?Ia:(w+=1,w+m>p.length?ro:(p=p.slice(w,w+m),l.C=w+m,p)))}on.prototype.cancel=function(){this.K=!0,tr(this)};function di(l){l.T=Date.now()+l.H,so(l,l.H)}function so(l,p){if(l.D!=null)throw Error("WatchDog timer not null");l.D=Ar(_(l.aa,l),p)}function Ji(l){l.D&&(d.clearTimeout(l.D),l.D=null)}on.prototype.aa=function(){this.D=null;const l=Date.now();l-this.T>=0?(Ea(this.i,this.B),this.M!=2&&(Yn(),et(17)),tr(this),this.m=2,fi(this)):so(this,this.T-l)};function fi(l){l.j.I==0||l.K||as(l.j,l)}function tr(l){Ji(l);var p=l.O;p&&typeof p.dispose=="function"&&p.dispose(),l.O=null,Qi(l.V),l.g&&(p=l.g,l.g=null,p.abort(),p.dispose())}function We(l,p){try{var m=l.j;if(m.I!=0&&(m.g==l||ao(m.h,l))){if(!l.L&&ao(m.h,l)&&m.I==3){try{var w=m.Ba.g.parse(p)}catch{w=null}if(Array.isArray(w)&&w.length==3){var b=w;if(b[0]==0){e:if(!m.v){if(m.g)if(m.g.F+3e3<l.F)os(m),Yt(m);else break e;bn(m),et(18)}}else m.xa=b[1],0<m.xa-m.K&&b[2]<37500&&m.F&&m.A==0&&!m.C&&(m.C=Ar(_(m.Va,m),6e3));pi(m.h)<=1&&m.ta&&(m.ta=void 0)}else Zt(m,11)}else if((l.L||m.g==l)&&os(m),!I(p))for(b=m.Ba.g.parse(p),p=0;p<b.length;p++){let je=b[p];const at=je[0];if(!(at<=m.K))if(m.K=at,je=je[1],m.I==2)if(je[0]=="c"){m.M=je[1],m.ba=je[2];const en=je[3];en!=null&&(m.ka=en,m.j.info("VER="+m.ka));const ar=je[4];ar!=null&&(m.za=ar,m.j.info("SVER="+m.za));const On=je[5];On!=null&&typeof On=="number"&&On>0&&(w=1.5*On,m.O=w,m.j.info("backChannelRequestTimeoutMs_="+w)),w=m;const jn=l.g;if(jn){const cs=jn.g?jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(cs){var F=w.h;F.g||cs.indexOf("spdy")==-1&&cs.indexOf("quic")==-1&&cs.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Zi(F,F.h),F.h=null))}if(w.G){const wo=jn.g?jn.g.getResponseHeader("X-HTTP-Session-Id"):null;wo&&(w.wa=wo,Me(w.J,w.G,wo))}}m.I=3,m.l&&m.l.ra(),m.aa&&(m.T=Date.now()-l.F,m.j.info("Handshake RTT: "+m.T+"ms")),w=m;var X=l;if(w.na=_o(w,w.L?w.ba:null,w.W),X.L){mi(w.h,X);var me=X,rt=w.O;rt&&(me.H=rt),me.D&&(Ji(me),di(me)),w.g=X}else Nt(w);m.i.length>0&&or(m)}else je[0]!="stop"&&je[0]!="close"||Zt(m,7);else m.I==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?Zt(m,7):is(m):je[0]!="noop"&&m.l&&m.l.qa(je),m.A=0)}}Yn(4)}catch{}}var Iu=class{constructor(l,p){this.g=l,this.map=p}};function Yi(l){this.l=l||10,d.PerformanceNavigationTiming?(l=d.performance.getEntriesByType("navigation"),l=l.length>0&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function oo(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function pi(l){return l.h?1:l.g?l.g.size:0}function ao(l,p){return l.h?l.h==p:l.g?l.g.has(p):!1}function Zi(l,p){l.g?l.g.add(p):l.h=p}function mi(l,p){l.h&&l.h==p?l.h=null:l.g&&l.g.has(p)&&l.g.delete(p)}Yi.prototype.cancel=function(){if(this.i=Kt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Kt(l){if(l.h!=null)return l.i.concat(l.h.G);if(l.g!=null&&l.g.size!==0){let p=l.i;for(const m of l.g.values())p=p.concat(m.G);return p}return z(l.i)}var ka=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xt(l,p){if(l){l=l.split("&");for(let m=0;m<l.length;m++){const w=l[m].indexOf("=");let b,F=null;w>=0?(b=l[m].substring(0,w),F=l[m].substring(w+1)):b=l[m],p(b,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Cn(l){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;l instanceof Cn?(this.l=l.l,gi(this,l.j),this.o=l.o,this.g=l.g,kn(this,l.u),this.h=l.h,Pr(this,go(l.i)),this.m=l.m):l&&(p=String(l).match(ka))?(this.l=!1,gi(this,p[1]||"",!0),this.o=yi(p[2]||""),this.g=yi(p[3]||"",!0),kn(this,p[4]),this.h=yi(p[5]||"",!0),Pr(this,p[6]||"",!0),this.m=yi(p[7]||"")):(this.l=!1,this.i=new Ce(null,this.l))}Cn.prototype.toString=function(){const l=[];var p=this.j;p&&l.push(vi(p,uo,!0),":");var m=this.g;return(m||p=="file")&&(l.push("//"),(p=this.o)&&l.push(vi(p,uo,!0),"@"),l.push(Rn(m).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.u,m!=null&&l.push(":",String(m))),(m=this.h)&&(this.g&&m.charAt(0)!="/"&&l.push("/"),l.push(vi(m,m.charAt(0)=="/"?_i:co,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",vi(m,ho)),l.join("")},Cn.prototype.resolve=function(l){const p=an(this);let m=!!l.j;m?gi(p,l.j):m=!!l.o,m?p.o=l.o:m=!!l.g,m?p.g=l.g:m=l.u!=null;var w=l.h;if(m)kn(p,l.u);else if(m=!!l.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var b=p.h.lastIndexOf("/");b!=-1&&(w=p.h.slice(0,b+1)+w)}if(b=w,b==".."||b==".")w="";else if(b.indexOf("./")!=-1||b.indexOf("/.")!=-1){w=b.lastIndexOf("/",0)==0,b=b.split("/");const F=[];for(let X=0;X<b.length;){const me=b[X++];me=="."?w&&X==b.length&&F.push(""):me==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),w&&X==b.length&&F.push("")):(F.push(me),w=!0)}w=F.join("/")}else w=b}return m?p.h=w:m=l.i.toString()!=="",m?Pr(p,go(l.i)):m=!!l.m,m&&(p.m=l.m),p};function an(l){return new Cn(l)}function gi(l,p,m){l.j=m?yi(p,!0):p,l.j&&(l.j=l.j.replace(/:$/,""))}function kn(l,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);l.u=p}else l.u=null}function Pr(l,p,m){p instanceof Ce?(l.i=p,ts(l.i,l.l)):(m||(p=vi(p,Au)),l.i=new Ce(p,l.l))}function Me(l,p,m){l.i.set(p,m)}function nr(l){return Me(l,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),l}function yi(l,p){return l?p?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function vi(l,p,m){return typeof l=="string"?(l=encodeURI(l).replace(p,lo),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function lo(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var uo=/[#\/\?@]/g,co=/[#\?:]/g,_i=/[#\?]/g,Au=/[#\?@]/g,ho=/#/g;function Ce(l,p){this.h=this.g=null,this.i=l||null,this.j=!!p}function Pn(l){l.g||(l.g=new Map,l.h=0,l.i&&Xt(l.i,function(p,m){l.add(decodeURIComponent(p.replace(/\+/g," ")),m)}))}i=Ce.prototype,i.add=function(l,p){Pn(this),this.i=null,l=Nn(this,l);let m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(p),this.h+=1,this};function fo(l,p){Pn(l),p=Nn(l,p),l.g.has(p)&&(l.i=null,l.h-=l.g.get(p).length,l.g.delete(p))}function es(l,p){return Pn(l),p=Nn(l,p),l.g.has(p)}i.forEach=function(l,p){Pn(this),this.g.forEach(function(m,w){m.forEach(function(b){l.call(p,b,w,this)},this)},this)};function po(l,p){Pn(l);let m=[];if(typeof p=="string")es(l,p)&&(m=m.concat(l.g.get(Nn(l,p))));else for(l=Array.from(l.g.values()),p=0;p<l.length;p++)m=m.concat(l[p]);return m}i.set=function(l,p){return Pn(this),this.i=null,l=Nn(this,l),es(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[p]),this.h+=1,this},i.get=function(l,p){return l?(l=po(this,l),l.length>0?String(l[0]):p):p};function mo(l,p,m){fo(l,p),m.length>0&&(l.i=null,l.g.set(Nn(l,p),z(m)),l.h+=m.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],p=Array.from(this.g.keys());for(let w=0;w<p.length;w++){var m=p[w];const b=Rn(m);m=po(this,m);for(let F=0;F<m.length;F++){let X=b;m[F]!==""&&(X+="="+Rn(m[F])),l.push(X)}}return this.i=l.join("&")};function go(l){const p=new Ce;return p.i=l.i,l.g&&(p.g=new Map(l.g),p.h=l.h),p}function Nn(l,p){return p=String(p),l.j&&(p=p.toLowerCase()),p}function ts(l,p){p&&!l.j&&(Pn(l),l.i=null,l.g.forEach(function(m,w){const b=w.toLowerCase();w!=b&&(fo(this,w),mo(this,b,m))},l)),l.j=p}function xn(l,p){const m=new Rr;if(d.Image){const w=new Image;w.onload=S(Tt,m,"TestLoadImage: loaded",!0,p,w),w.onerror=S(Tt,m,"TestLoadImage: error",!1,p,w),w.onabort=S(Tt,m,"TestLoadImage: abort",!1,p,w),w.ontimeout=S(Tt,m,"TestLoadImage: timeout",!1,p,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=l}else p(!1)}function Vn(l,p){const m=new Rr,w=new AbortController,b=setTimeout(()=>{w.abort(),Tt(m,"TestPingServer: timeout",!1,p)},1e4);fetch(l,{signal:w.signal}).then(F=>{clearTimeout(b),F.ok?Tt(m,"TestPingServer: ok",!0,p):Tt(m,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(b),Tt(m,"TestPingServer: error",!1,p)})}function Tt(l,p,m,w,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),w(m)}catch{}}function wi(){this.g=new ci}function rr(l){this.i=l.Sb||null,this.h=l.ab||!1}C(rr,Tr),rr.prototype.g=function(){return new Jt(this.i,this.h)};function Jt(l,p){ot.call(this),this.H=l,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}C(Jt,ot),i=Jt.prototype,i.open=function(l,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=l,this.D=p,this.readyState=1,vn(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};l&&(p.body=l),(this.H||d).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Nr(this)),this.readyState=0},i.Pa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,vn(this)),this.g&&(this.readyState=3,vn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Pa(this)}else l.text().then(this.Oa.bind(this),this.ga.bind(this))};function Pa(l){l.j.read().then(l.Ma.bind(l)).catch(l.ga.bind(l))}i.Ma=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var p=l.value?l.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!l.done}))&&(this.response=this.responseText+=p)}l.done?Nr(this):vn(this),this.readyState==3&&Pa(this)}},i.Oa=function(l){this.g&&(this.response=this.responseText=l,Nr(this))},i.Na=function(l){this.g&&(this.response=l,Nr(this))},i.ga=function(){this.g&&Nr(this)};function Nr(l){l.readyState=4,l.l=null,l.j=null,l.B=null,vn(l)}i.setRequestHeader=function(l,p){this.A.append(l,p)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],p=this.h.entries();for(var m=p.next();!m.done;)m=m.value,l.push(m[0]+": "+m[1]),m=p.next();return l.join(`\r
`)};function vn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Jt.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Na(l){let p="";return le(l,function(m,w){p+=w,p+=":",p+=m,p+=`\r
`}),p}function ns(l,p,m){e:{for(w in m){var w=!1;break e}w=!0}w||(m=Na(m),typeof l=="string"?m!=null&&Rn(m):Me(l,p,m))}function ze(l){ot.call(this),this.headers=new Map,this.L=l||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}C(ze,ot);var xa=/^https?$/i,Ru=["POST","PUT"];i=ze.prototype,i.Fa=function(l){this.H=l},i.ea=function(l,p,m,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);p=p?p.toUpperCase():"GET",this.D=l,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ta.g(),this.g.onreadystatechange=V(_(this.Ca,this));try{this.B=!0,this.g.open(p,String(l),!0),this.B=!1}catch(F){xr(this,F);return}if(l=m||"",m=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var b in w)m.set(b,w[b]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const F of w.keys())m.set(F,w.get(F));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(m.keys()).find(F=>F.toLowerCase()=="content-type"),b=d.FormData&&l instanceof d.FormData,!(Array.prototype.indexOf.call(Ru,p,void 0)>=0)||w||b||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,X]of m)this.g.setRequestHeader(F,X);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(l),this.v=!1}catch(F){xr(this,F)}};function xr(l,p){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=p,l.o=5,Vr(l),sr(l)}function Vr(l){l.A||(l.A=!0,nt(l,"complete"),nt(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=l||7,nt(this,"complete"),nt(this,"abort"),sr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sr(this,!0)),ze.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?ir(this):this.Xa())},i.Xa=function(){ir(this)};function ir(l){if(l.h&&typeof c<"u"){if(l.v&&Dn(l)==4)setTimeout(l.Ca.bind(l),0);else if(nt(l,"readystatechange"),Dn(l)==4){l.h=!1;try{const F=l.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var m;if(!(m=p)){var w;if(w=F===0){let X=String(l.D).match(ka)[1]||null;!X&&d.self&&d.self.location&&(X=d.self.location.protocol.slice(0,-1)),w=!xa.test(X?X.toLowerCase():"")}m=w}if(m)nt(l,"complete"),nt(l,"success");else{l.o=6;try{var b=Dn(l)>2?l.g.statusText:""}catch{b=""}l.l=b+" ["+l.ca()+"]",Vr(l)}}finally{sr(l)}}}}function sr(l,p){if(l.g){l.m&&(clearTimeout(l.m),l.m=null);const m=l.g;l.g=null,p||nt(l,"ready");try{m.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Dn(l){return l.g?l.g.readyState:0}i.ca=function(){try{return Dn(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(l){if(this.g){var p=this.g.responseText;return l&&p.indexOf(l)==0&&(p=p.substring(l.length)),ya(p)}};function Va(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.F){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function yo(l){const p={};l=(l.g&&Dn(l)>=2&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<l.length;w++){if(I(l[w]))continue;var m=Xi(l[w]);const b=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const F=p[b]||[];p[b]=F,F.push(m)}ne(p,function(w){return w.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ln(l,p,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||p}function rs(l){this.za=0,this.i=[],this.j=new Rr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ln("failFast",!1,l),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ln("baseRetryDelayMs",5e3,l),this.Za=Ln("retryDelaySeedMs",1e4,l),this.Ta=Ln("forwardChannelMaxRetries",2,l),this.va=Ln("forwardChannelRequestTimeoutMs",2e4,l),this.ma=l&&l.xmlHttpFactory||void 0,this.Ua=l&&l.Rb||void 0,this.Aa=l&&l.useFetchStreams||!1,this.O=void 0,this.L=l&&l.supportsCrossDomainXhr||!1,this.M="",this.h=new Yi(l&&l.concurrentRequestLimit),this.Ba=new wi,this.S=l&&l.fastHandshake||!1,this.R=l&&l.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=l&&l.Pb||!1,l&&l.ua&&this.j.ua(),l&&l.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&l&&l.detectBufferingProxy||!1,this.ia=void 0,l&&l.longPollingTimeout&&l.longPollingTimeout>0&&(this.ia=l.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=rs.prototype,i.ka=8,i.I=1,i.connect=function(l,p,m,w){et(0),this.W=l,this.H=p||{},m&&w!==void 0&&(this.H.OSID=m,this.H.OAID=w),this.F=this.X,this.J=_o(this,null,this.W),or(this)};function is(l){if(ss(l),l.I==3){var p=l.V++,m=an(l.J);if(Me(m,"SID",l.M),Me(m,"RID",p),Me(m,"TYPE","terminate"),Mn(l,m),p=new on(l,l.j,p),p.M=2,p.A=nr(an(m)),m=!1,d.navigator&&d.navigator.sendBeacon)try{m=d.navigator.sendBeacon(p.A.toString(),"")}catch{}!m&&d.Image&&(new Image().src=p.A,m=!0),m||(p.g=La(p.j,null),p.g.ea(p.A)),p.F=Date.now(),di(p)}Si(l)}function Yt(l){l.g&&(Ti(l),l.g.cancel(),l.g=null)}function ss(l){Yt(l),l.v&&(d.clearTimeout(l.v),l.v=null),os(l),l.h.cancel(),l.m&&(typeof l.m=="number"&&d.clearTimeout(l.m),l.m=null)}function or(l){if(!oo(l.h)&&!l.m){l.m=!0;var p=l.Ea;Ue||T(),ke||(Ue(),ke=!0),P.add(p,l),l.D=0}}function Da(l,p){return pi(l.h)>=l.h.j-(l.m?1:0)?!1:l.m?(l.i=p.G.concat(l.i),!0):l.I==1||l.I==2||l.D>=(l.Sa?0:l.Ta)?!1:(l.m=Ar(_(l.Ea,l,p),ls(l,l.D)),l.D++,!0)}i.Ea=function(l){if(this.m)if(this.m=null,this.I==1){if(!l){this.V=Math.floor(Math.random()*1e5),l=this.V++;const b=new on(this,this.j,l);let F=this.o;if(this.U&&(F?(F=D(F),_e(F,this.U)):F=this.U),this.u!==null||this.R||(b.J=F,F=null),this.S)e:{for(var p=0,m=0;m<this.i.length;m++){t:{var w=this.i[m];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(p+=w,p>4096){p=m;break e}if(p===4096||m===this.i.length-1){p=m+1;break e}}p=1e3}else p=1e3;p=vo(this,b,p),m=an(this.J),Me(m,"RID",l),Me(m,"CVER",22),this.G&&Me(m,"X-HTTP-Session-Id",this.G),Mn(this,m),F&&(this.R?p="headers="+Rn(Na(F))+"&"+p:this.u&&ns(m,this.u,F)),Zi(this.h,b),this.Ra&&Me(m,"TYPE","init"),this.S?(Me(m,"$req",p),Me(m,"SID","null"),b.U=!0,yn(b,m,null)):yn(b,m,p),this.I=2}}else this.I==3&&(l?Ei(this,l):this.i.length==0||oo(this.h)||Ei(this))};function Ei(l,p){var m;p?m=p.l:m=l.V++;const w=an(l.J);Me(w,"SID",l.M),Me(w,"RID",m),Me(w,"AID",l.K),Mn(l,w),l.u&&l.o&&ns(w,l.u,l.o),m=new on(l,l.j,m,l.D+1),l.u===null&&(m.J=l.o),p&&(l.i=p.G.concat(l.i)),p=vo(l,m,1e3),m.H=Math.round(l.va*.5)+Math.round(l.va*.5*Math.random()),Zi(l.h,m),yn(m,w,p)}function Mn(l,p){l.H&&le(l.H,function(m,w){Me(p,w,m)}),l.l&&le({},function(m,w){Me(p,w,m)})}function vo(l,p,m){m=Math.min(l.i.length,m);const w=l.l?_(l.l.Ka,l.l,l):null;e:{var b=l.i;let me=-1;for(;;){const rt=["count="+m];me==-1?m>0?(me=b[0].g,rt.push("ofs="+me)):me=0:rt.push("ofs="+me);let je=!0;for(let at=0;at<m;at++){var F=b[at].g;const en=b[at].map;if(F-=me,F<0)me=Math.max(0,b[at].g-100),je=!1;else try{F="req"+F+"_"||"";try{var X=en instanceof Map?en:Object.entries(en);for(const[ar,On]of X){let jn=On;g(On)&&(jn=Er(On)),rt.push(F+ar+"="+encodeURIComponent(jn))}}catch(ar){throw rt.push(F+"type="+encodeURIComponent("_badmap")),ar}}catch{w&&w(en)}}if(je){X=rt.join("&");break e}}X=void 0}return l=l.i.splice(0,m),p.G=l,X}function Nt(l){if(!l.g&&!l.v){l.Y=1;var p=l.Da;Ue||T(),ke||(Ue(),ke=!0),P.add(p,l),l.A=0}}function bn(l){return l.g||l.v||l.A>=3?!1:(l.Y++,l.v=Ar(_(l.Da,l),ls(l,l.A)),l.A++,!0)}i.Da=function(){if(this.v=null,Dr(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var l=4*this.T;this.j.info("BP detection timer enabled: "+l),this.B=Ar(_(this.Wa,this),l)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,et(10),Yt(this),Dr(this))};function Ti(l){l.B!=null&&(d.clearTimeout(l.B),l.B=null)}function Dr(l){l.g=new on(l,l.j,"rpc",l.Y),l.u===null&&(l.g.J=l.o),l.g.P=0;var p=an(l.na);Me(p,"RID","rpc"),Me(p,"SID",l.M),Me(p,"AID",l.K),Me(p,"CI",l.F?"0":"1"),!l.F&&l.ia&&Me(p,"TO",l.ia),Me(p,"TYPE","xmlhttp"),Mn(l,p),l.u&&l.o&&ns(p,l.u,l.o),l.O&&(l.g.H=l.O);var m=l.g;l=l.ba,m.M=1,m.A=nr(an(p)),m.u=null,m.R=!0,io(m,l)}i.Va=function(){this.C!=null&&(this.C=null,Yt(this),bn(this),et(19))};function os(l){l.C!=null&&(d.clearTimeout(l.C),l.C=null)}function as(l,p){var m=null;if(l.g==p){os(l),Ti(l),l.g=null;var w=2}else if(ao(l.h,p))m=p.G,mi(l.h,p),w=1;else return;if(l.I!=0){if(p.o)if(w==1){m=p.u?p.u.length:0,p=Date.now()-p.F;var b=l.D;w=Ir(),nt(w,new no(w,m)),or(l)}else Nt(l);else if(b=p.m,b==3||b==0&&p.X>0||!(w==1&&Da(l,p)||w==2&&bn(l)))switch(m&&m.length>0&&(p=l.h,p.i=p.i.concat(m)),b){case 1:Zt(l,5);break;case 4:Zt(l,10);break;case 3:Zt(l,6);break;default:Zt(l,2)}}}function ls(l,p){let m=l.Qa+Math.floor(Math.random()*l.Za);return l.isActive()||(m*=2),m*p}function Zt(l,p){if(l.j.info("Error code "+p),p==2){var m=_(l.bb,l),w=l.Ua;const b=!w;w=new Cn(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||gi(w,"https"),nr(w),b?xn(w.toString(),m):Vn(w.toString(),m)}else et(2);l.I=0,l.l&&l.l.pa(p),Si(l),ss(l)}i.bb=function(l){l?(this.j.info("Successfully pinged google.com"),et(2)):(this.j.info("Failed to ping google.com"),et(1))};function Si(l){if(l.I=0,l.ja=[],l.l){const p=Kt(l.h);(p.length!=0||l.i.length!=0)&&(Z(l.ja,p),Z(l.ja,l.i),l.h.i.length=0,z(l.i),l.i.length=0),l.l.oa()}}function _o(l,p,m){var w=m instanceof Cn?an(m):new Cn(m);if(w.g!="")p&&(w.g=p+"."+w.g),kn(w,w.u);else{var b=d.location;w=b.protocol,p=p?p+"."+b.hostname:b.hostname,b=+b.port;const F=new Cn(null);w&&gi(F,w),p&&(F.g=p),b&&kn(F,b),m&&(F.h=m),w=F}return m=l.G,p=l.wa,m&&p&&Me(w,m,p),Me(w,"VER",l.ka),Mn(l,w),w}function La(l,p,m){if(p&&!l.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=l.Aa&&!l.ma?new ze(new rr({ab:m})):new ze(l.ma),p.Fa(l.L),p}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ma(){}i=Ma.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function us(){}us.prototype.g=function(l,p){return new St(l,p)};function St(l,p){ot.call(this),this.g=new rs(p),this.l=l,this.h=p&&p.messageUrlParams||null,l=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(l?l["X-WebChannel-Content-Type"]=p.messageContentType:l={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(l?l["X-WebChannel-Client-Profile"]=p.sa:l={"X-WebChannel-Client-Profile":p.sa}),this.g.U=l,(l=p&&p.Qb)&&!I(l)&&(this.g.u=l),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!I(p)&&(this.g.G=p,l=this.h,l!==null&&p in l&&(l=this.h,p in l&&delete l[p])),this.j=new Lr(this)}C(St,ot),St.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},St.prototype.close=function(){is(this.g)},St.prototype.o=function(l){var p=this.g;if(typeof l=="string"){var m={};m.__data__=l,l=m}else this.v&&(m={},m.__data__=Er(l),l=m);p.i.push(new Iu(p.Ya++,l)),p.I==3&&or(p)},St.prototype.N=function(){this.g.l=null,delete this.j,is(this.g),delete this.g,St.Z.N.call(this)};function ba(l){qi.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var p=l.__sm__;if(p){e:{for(const m in p){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,p=p!==null&&l in p?p[l]:void 0),this.data=p}else this.data=l}C(ba,qi);function Oa(){to.call(this),this.status=1}C(Oa,to);function Lr(l){this.g=l}C(Lr,Ma),Lr.prototype.ra=function(){nt(this.g,"a")},Lr.prototype.qa=function(l){nt(this.g,new ba(l))},Lr.prototype.pa=function(l){nt(this.g,new Oa)},Lr.prototype.oa=function(){nt(this.g,"b")},us.prototype.createWebChannel=us.prototype.g,St.prototype.send=St.prototype.o,St.prototype.open=St.prototype.m,St.prototype.close=St.prototype.close,Zm=function(){return new us},Ym=function(){return Ir()},Jm=gn,dh={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Cr.NO_ERROR=0,Cr.TIMEOUT=8,Cr.HTTP_ERROR=6,bl=Cr,kr.COMPLETE="complete",Xm=kr,va.EventType=Sr,Sr.OPEN="a",Sr.CLOSE="b",Sr.ERROR="c",Sr.MESSAGE="d",ot.prototype.listen=ot.prototype.J,Qo=va,ze.prototype.listenOnce=ze.prototype.K,ze.prototype.getLastError=ze.prototype.Ha,ze.prototype.getLastErrorCode=ze.prototype.ya,ze.prototype.getStatus=ze.prototype.ca,ze.prototype.getResponseJson=ze.prototype.La,ze.prototype.getResponseText=ze.prototype.la,ze.prototype.send=ze.prototype.ea,ze.prototype.setWithCredentials=ze.prototype.Fa,Km=ze}).apply(typeof xl<"u"?xl:typeof self<"u"?self:typeof window<"u"?window:{});const Up="@firebase/firestore",Bp="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bt.UNAUTHENTICATED=new bt(null),bt.GOOGLE_CREDENTIALS=new bt("google-credentials-uid"),bt.FIRST_PARTY=new bt("first-party-uid"),bt.MOCK_USER=new bt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qs="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi=new Bm("@firebase/firestore");function xs(){return Fi.logLevel}function te(i,...e){if(Fi.logLevel<=Ne.DEBUG){const n=e.map(Lh);Fi.debug(`Firestore (${Qs}): ${i}`,...n)}}function yr(i,...e){if(Fi.logLevel<=Ne.ERROR){const n=e.map(Lh);Fi.error(`Firestore (${Qs}): ${i}`,...n)}}function js(i,...e){if(Fi.logLevel<=Ne.WARN){const n=e.map(Lh);Fi.warn(`Firestore (${Qs}): ${i}`,...n)}}function Lh(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,eg(i,s,n)}function eg(i,e,n){let s=`FIRESTORE (${Qs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw yr(s),new Error(s)}function Oe(i,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,i||eg(e,a,s)}function ge(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends $s{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Cw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(bt.UNAUTHENTICATED))}shutdown(){}}class kw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Pw{constructor(e){this.t=e,this.currentUser=bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Oe(this.o===void 0,42304);let s=this.i;const a=y=>this.i!==s?(s=this.i,n(y)):Promise.resolve();let c=new Zr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Zr,e.enqueueRetryable(()=>a(this.currentUser))};const d=()=>{const y=c;e.enqueueRetryable(async()=>{await y.promise,await a(this.currentUser)})},g=y=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(y=>g(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Zr)}},0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Oe(typeof s.accessToken=="string",31837,{l:s}),new tg(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Oe(e===null||typeof e=="string",2055,{h:e}),new bt(e)}}class Nw{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=bt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class xw{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new Nw(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Hp{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Vw{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,dw(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Oe(this.o===void 0,3512);const s=c=>{c.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,te("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?a(c):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Hp(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Oe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Hp(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=Dw(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<n&&(s+=e.charAt(a[c]%62))}return s}}function Ae(i,e){return i<e?-1:i>e?1:0}function fh(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const a=i.charAt(s),c=e.charAt(s);if(a!==c)return nh(a)===nh(c)?Ae(a,c):nh(a)?1:-1}return Ae(i.length,e.length)}const Lw=55296,Mw=57343;function nh(i){const e=i.charCodeAt(0);return e>=Lw&&e<=Mw}function Fs(i,e,n){return i.length===e.length&&i.every((s,a)=>n(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp="__name__";class Hn{constructor(e,n,s){n===void 0?n=0:n>e.length&&de(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&de(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Hn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Hn?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const c=Hn.compareSegments(e.get(a),n.get(a));if(c!==0)return c}return Ae(e.length,n.length)}static compareSegments(e,n){const s=Hn.isNumericId(e),a=Hn.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Hn.extractNumericId(e).compare(Hn.extractNumericId(n)):fh(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Yr.fromString(e.substring(4,e.length-2))}}class Ye extends Hn{construct(e,n,s){return new Ye(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ae($.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new Ye(n)}static emptyPath(){return new Ye([])}}const bw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ct extends Hn{construct(e,n,s){return new Ct(e,n,s)}static isValidIdentifier(e){return bw.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Wp}static keyField(){return new Ct([Wp])}static fromServerFormat(e){const n=[];let s="",a=0;const c=()=>{if(s.length===0)throw new ae($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;a<e.length;){const g=e[a];if(g==="\\"){if(a+1===e.length)throw new ae($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[a+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ae($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,a+=2}else g==="`"?(d=!d,a++):g!=="."||d?(s+=g,a++):(c(),a++)}if(c(),d)throw new ae($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ct(n)}static emptyPath(){return new Ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.path=e}static fromPath(e){return new he(Ye.fromString(e))}static fromName(e){return new he(Ye.fromString(e).popFirst(5))}static empty(){return new he(Ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new he(new Ye(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(i,e,n){if(!n)throw new ae($.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function jw(i,e,n,s){if(e===!0&&s===!0)throw new ae($.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function $p(i){if(!he.isDocumentKey(i))throw new ae($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function ng(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function bh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":de(12329,{type:typeof i})}function Wn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ae($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bh(i);throw new ae($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(i,e){const n={typeString:i};return e&&(n.value=e),n}function ca(i,e){if(!ng(i))throw new ae($.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const d=i[s];if(a&&typeof d!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(c!==void 0&&d!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new ae($.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp=-62135596800,qp=1e6;class qe{static now(){return qe.fromMillis(Date.now())}static fromDate(e){return qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*qp);return new qe(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Qp)throw new ae($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/qp}_compareTo(e){return this.seconds===e.seconds?Ae(this.nanoseconds,e.nanoseconds):Ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:qe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ca(e,qe._jsonSchema))return new qe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Qp;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}qe._jsonSchemaVersion="firestore/timestamp/1.0",qe._jsonSchema={type:ct("string",qe._jsonSchemaVersion),seconds:ct("number"),nanoseconds:ct("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{static fromTimestamp(e){return new pe(e)}static min(){return new pe(new qe(0,0))}static max(){return new pe(new qe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=-1;function Fw(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=pe.fromTimestamp(s===1e9?new qe(n+1,0):new qe(n,s));return new ti(a,he.empty(),e)}function zw(i){return new ti(i.readTime,i.key,ra)}class ti{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ti(pe.min(),he.empty(),ra)}static max(){return new ti(pe.max(),he.empty(),ra)}}function Uw(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=he.comparator(i.documentKey,e.documentKey),n!==0?n:Ae(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Hw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qs(i){if(i.code!==$.FAILED_PRECONDITION||i.message!==Bw)throw i;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&de(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,s)=>{n(e)})}static reject(e){return new U((n,s)=>{s(e)})}static waitFor(e){return new U((n,s)=>{let a=0,c=0,d=!1;e.forEach(g=>{++a,g.next(()=>{++c,d&&c===a&&n()},y=>s(y))}),d=!0,c===a&&n()})}static or(e){let n=U.resolve(!1);for(const s of e)n=n.next(a=>a?U.resolve(a):s());return n}static forEach(e,n){const s=[];return e.forEach((a,c)=>{s.push(n.call(this,a,c))}),this.waitFor(s)}static mapArray(e,n){return new U((s,a)=>{const c=e.length,d=new Array(c);let g=0;for(let y=0;y<c;y++){const _=y;n(e[_]).next(S=>{d[_]=S,++g,g===c&&s(d)},S=>a(S))}})}static doWhile(e,n){return new U((s,a)=>{const c=()=>{e()===!0?n().next(()=>{c()},a):s()};c()})}}function Ww(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Gs(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}iu.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh=-1;function su(i){return i==null}function Ql(i){return i===0&&1/i==-1/0}function $w(i){return typeof i=="number"&&Number.isInteger(i)&&!Ql(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg="";function Qw(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Gp(e)),e=qw(i.get(n),e);return Gp(e)}function qw(i,e){let n=e;const s=i.length;for(let a=0;a<s;a++){const c=i.charAt(a);switch(c){case"\0":n+="";break;case rg:n+="";break;default:n+=c}}return n}function Gp(i){return i+rg+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function ai(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function ig(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e,n){this.comparator=e,this.root=n||Rt.EMPTY}insert(e,n){return new Ze(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Rt.BLACK,null,null))}remove(e){return new Ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vl(this.root,e,this.comparator,!0)}}class Vl{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rt{constructor(e,n,s,a,c){this.key=e,this.value=n,this.color=s??Rt.RED,this.left=a??Rt.EMPTY,this.right=c??Rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,c){return new Rt(e??this.key,n??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,n,s),null):c===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Rt.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw de(43730,{key:this.key,value:this.value});if(this.right.isRed())throw de(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw de(27949);return e+(this.isRed()?0:1)}}Rt.EMPTY=null,Rt.RED=!0,Rt.BLACK=!1;Rt.EMPTY=new class{constructor(){this.size=0}get key(){throw de(57766)}get value(){throw de(16141)}get color(){throw de(16727)}get left(){throw de(29726)}get right(){throw de(36894)}copy(e,n,s,a,c){return this}insert(e,n,s){return new Rt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.comparator=e,this.data=new Ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Xp(this.data.getIterator())}getIteratorFrom(e){return new Xp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof gt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new gt(this.comparator);return n.data=e,n}}class Xp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new sn([])}unionWith(e){let n=new gt(Ct.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new sn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fs(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new sg("Invalid base64 string: "+c):c}}(e);return new kt(n)}static fromUint8Array(e){const n=function(a){let c="";for(let d=0;d<a.length;++d)c+=String.fromCharCode(a[d]);return c}(e);return new kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kt.EMPTY_BYTE_STRING=new kt("");const Gw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ni(i){if(Oe(!!i,39018),typeof i=="string"){let e=0;const n=Gw.exec(i);if(Oe(!!n,46558,{timestamp:i}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:st(i.seconds),nanos:st(i.nanos)}}function st(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ri(i){return typeof i=="string"?kt.fromBase64String(i):kt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og="server_timestamp",ag="__type__",lg="__previous_value__",ug="__local_write_time__";function jh(i){return(i?.mapValue?.fields||{})[ag]?.stringValue===og}function ou(i){const e=i.mapValue.fields[lg];return jh(e)?ou(e):e}function ia(i){const e=ni(i.mapValue.fields[ug].timestampValue);return new qe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e,n,s,a,c,d,g,y,_,S){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=S}}const ql="(default)";class sa{constructor(e,n){this.projectId=e,this.database=n||ql}static empty(){return new sa("","")}get isDefaultDatabase(){return this.database===ql}isEqual(e){return e instanceof sa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg="__type__",Xw="__max__",Dl={mapValue:{}},hg="__vector__",Gl="value";function ii(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?jh(i)?4:Yw(i)?9007199254740991:Jw(i)?10:11:de(28295,{value:i})}function Xn(i,e){if(i===e)return!0;const n=ii(i);if(n!==ii(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ia(i).isEqual(ia(e));case 3:return function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const d=ni(a.timestampValue),g=ni(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(a,c){return ri(a.bytesValue).isEqual(ri(c.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,c){return st(a.geoPointValue.latitude)===st(c.geoPointValue.latitude)&&st(a.geoPointValue.longitude)===st(c.geoPointValue.longitude)}(i,e);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return st(a.integerValue)===st(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const d=st(a.doubleValue),g=st(c.doubleValue);return d===g?Ql(d)===Ql(g):isNaN(d)&&isNaN(g)}return!1}(i,e);case 9:return Fs(i.arrayValue.values||[],e.arrayValue.values||[],Xn);case 10:case 11:return function(a,c){const d=a.mapValue.fields||{},g=c.mapValue.fields||{};if(Kp(d)!==Kp(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!Xn(d[y],g[y])))return!1;return!0}(i,e);default:return de(52216,{left:i})}}function oa(i,e){return(i.values||[]).find(n=>Xn(n,e))!==void 0}function zs(i,e){if(i===e)return 0;const n=ii(i),s=ii(e);if(n!==s)return Ae(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ae(i.booleanValue,e.booleanValue);case 2:return function(c,d){const g=st(c.integerValue||c.doubleValue),y=st(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1}(i,e);case 3:return Jp(i.timestampValue,e.timestampValue);case 4:return Jp(ia(i),ia(e));case 5:return fh(i.stringValue,e.stringValue);case 6:return function(c,d){const g=ri(c),y=ri(d);return g.compareTo(y)}(i.bytesValue,e.bytesValue);case 7:return function(c,d){const g=c.split("/"),y=d.split("/");for(let _=0;_<g.length&&_<y.length;_++){const S=Ae(g[_],y[_]);if(S!==0)return S}return Ae(g.length,y.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,d){const g=Ae(st(c.latitude),st(d.latitude));return g!==0?g:Ae(st(c.longitude),st(d.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return Yp(i.arrayValue,e.arrayValue);case 10:return function(c,d){const g=c.fields||{},y=d.fields||{},_=g[Gl]?.arrayValue,S=y[Gl]?.arrayValue,C=Ae(_?.values?.length||0,S?.values?.length||0);return C!==0?C:Yp(_,S)}(i.mapValue,e.mapValue);case 11:return function(c,d){if(c===Dl.mapValue&&d===Dl.mapValue)return 0;if(c===Dl.mapValue)return 1;if(d===Dl.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),_=d.fields||{},S=Object.keys(_);y.sort(),S.sort();for(let C=0;C<y.length&&C<S.length;++C){const V=fh(y[C],S[C]);if(V!==0)return V;const z=zs(g[y[C]],_[S[C]]);if(z!==0)return z}return Ae(y.length,S.length)}(i.mapValue,e.mapValue);default:throw de(23264,{he:n})}}function Jp(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ae(i,e);const n=ni(i),s=ni(e),a=Ae(n.seconds,s.seconds);return a!==0?a:Ae(n.nanos,s.nanos)}function Yp(i,e){const n=i.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const c=zs(n[a],s[a]);if(c)return c}return Ae(n.length,s.length)}function Us(i){return ph(i)}function ph(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=ni(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return ri(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return he.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",a=!0;for(const c of n.values||[])a?a=!1:s+=",",s+=ph(c);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let a="{",c=!0;for(const d of s)c?c=!1:a+=",",a+=`${d}:${ph(n.fields[d])}`;return a+"}"}(i.mapValue):de(61005,{value:i})}function Ol(i){switch(ii(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ou(i);return e?16+Ol(e):16;case 5:return 2*i.stringValue.length;case 6:return ri(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,c)=>a+Ol(c),0)}(i.arrayValue);case 10:case 11:return function(s){let a=0;return ai(s.fields,(c,d)=>{a+=c.length+Ol(d)}),a}(i.mapValue);default:throw de(13486,{value:i})}}function mh(i){return!!i&&"integerValue"in i}function Fh(i){return!!i&&"arrayValue"in i}function Zp(i){return!!i&&"nullValue"in i}function em(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function jl(i){return!!i&&"mapValue"in i}function Jw(i){return(i?.mapValue?.fields||{})[cg]?.stringValue===hg}function Jo(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return ai(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Jo(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Jo(i.arrayValue.values[n]);return e}return{...i}}function Yw(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===Xw}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.value=e}static empty(){return new Gt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!jl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jo(n)}setAll(e){let n=Ct.emptyPath(),s={},a=[];e.forEach((d,g)=>{if(!n.isImmediateParentOf(g)){const y=this.getFieldsMap(n);this.applyChanges(y,s,a),s={},a=[],n=g.popLast()}d?s[g.lastSegment()]=Jo(d):a.push(g.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,a)}delete(e){const n=this.field(e.popLast());jl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];jl(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){ai(n,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new Gt(Jo(this.value))}}function dg(i){const e=[];return ai(i.fields,(n,s)=>{const a=new Ct([n]);if(jl(s)){const c=dg(s.mapValue).fields;if(c.length===0)e.push(a);else for(const d of c)e.push(a.child(d))}else e.push(a)}),new sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,n,s,a,c,d,g){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Ot(e,0,pe.min(),pe.min(),pe.min(),Gt.empty(),0)}static newFoundDocument(e,n,s,a){return new Ot(e,1,n,pe.min(),s,a,0)}static newNoDocument(e,n){return new Ot(e,2,n,pe.min(),pe.min(),Gt.empty(),0)}static newUnknownDocument(e,n){return new Ot(e,3,n,pe.min(),pe.min(),Gt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ot&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ot(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,n){this.position=e,this.inclusive=n}}function tm(i,e,n){let s=0;for(let a=0;a<i.position.length;a++){const c=e[a],d=i.position[a];if(c.field.isKeyField()?s=he.comparator(he.fromName(d.referenceValue),n.key):s=zs(d,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function nm(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Xn(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,n="asc"){this.field=e,this.dir=n}}function Zw(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{}class mt extends fg{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new t0(e,n,s):n==="array-contains"?new i0(e,s):n==="in"?new s0(e,s):n==="not-in"?new o0(e,s):n==="array-contains-any"?new a0(e,s):new mt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new n0(e,s):new r0(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(zs(n,this.value)):n!==null&&ii(this.value)===ii(n)&&this.matchesComparison(zs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return de(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jn extends fg{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Jn(e,n)}matches(e){return pg(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function pg(i){return i.op==="and"}function mg(i){return e0(i)&&pg(i)}function e0(i){for(const e of i.filters)if(e instanceof Jn)return!1;return!0}function gh(i){if(i instanceof mt)return i.field.canonicalString()+i.op.toString()+Us(i.value);if(mg(i))return i.filters.map(e=>gh(e)).join(",");{const e=i.filters.map(n=>gh(n)).join(",");return`${i.op}(${e})`}}function gg(i,e){return i instanceof mt?function(s,a){return a instanceof mt&&s.op===a.op&&s.field.isEqual(a.field)&&Xn(s.value,a.value)}(i,e):i instanceof Jn?function(s,a){return a instanceof Jn&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((c,d,g)=>c&&gg(d,a.filters[g]),!0):!1}(i,e):void de(19439)}function yg(i){return i instanceof mt?function(n){return`${n.field.canonicalString()} ${n.op} ${Us(n.value)}`}(i):i instanceof Jn?function(n){return n.op.toString()+" {"+n.getFilters().map(yg).join(" ,")+"}"}(i):"Filter"}class t0 extends mt{constructor(e,n,s){super(e,n,s),this.key=he.fromName(s.referenceValue)}matches(e){const n=he.comparator(e.key,this.key);return this.matchesComparison(n)}}class n0 extends mt{constructor(e,n){super(e,"in",n),this.keys=vg("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class r0 extends mt{constructor(e,n){super(e,"not-in",n),this.keys=vg("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function vg(i,e){return(e.arrayValue?.values||[]).map(n=>he.fromName(n.referenceValue))}class i0 extends mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Fh(n)&&oa(n.arrayValue,this.value)}}class s0 extends mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&oa(this.value.arrayValue,n)}}class o0 extends mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(oa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!oa(this.value.arrayValue,n)}}class a0 extends mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Fh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>oa(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e,n=null,s=[],a=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function rm(i,e=null,n=[],s=[],a=null,c=null,d=null){return new l0(i,e,n,s,a,c,d)}function zh(i){const e=ge(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>gh(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),su(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Us(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Us(s)).join(",")),e.Te=n}return e.Te}function Uh(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!Zw(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!gg(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!nm(i.startAt,e.startAt)&&nm(i.endAt,e.endAt)}function yh(i){return he.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,n=null,s=[],a=[],c=null,d="F",g=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function u0(i,e,n,s,a,c,d,g){return new au(i,e,n,s,a,c,d,g)}function lu(i){return new au(i)}function im(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function c0(i){return i.collectionGroup!==null}function Yo(i){const e=ge(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new gt(Ct.comparator);return d.filters.forEach(y=>{y.getFlattenedFilters().forEach(_=>{_.isInequality()&&(g=g.add(_.field))})}),g})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Xl(c,s))}),n.has(Ct.keyField().canonicalString())||e.Ie.push(new Xl(Ct.keyField(),s))}return e.Ie}function $n(i){const e=ge(i);return e.Ee||(e.Ee=h0(e,Yo(i))),e.Ee}function h0(i,e){if(i.limitType==="F")return rm(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(a=>{const c=a.dir==="desc"?"asc":"desc";return new Xl(a.field,c)});const n=i.endAt?new Kl(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Kl(i.startAt.position,i.startAt.inclusive):null;return rm(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function vh(i,e,n){return new au(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function uu(i,e){return Uh($n(i),$n(e))&&i.limitType===e.limitType}function _g(i){return`${zh($n(i))}|lt:${i.limitType}`}function Vs(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(a=>yg(a)).join(", ")}]`),su(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(a=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(a)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(a=>Us(a)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(a=>Us(a)).join(",")),`Target(${s})`}($n(i))}; limitType=${i.limitType})`}function cu(i,e){return e.isFoundDocument()&&function(s,a){const c=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):he.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(i,e)&&function(s,a){for(const c of Yo(s))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0}(i,e)&&function(s,a){for(const c of s.filters)if(!c.matches(a))return!1;return!0}(i,e)&&function(s,a){return!(s.startAt&&!function(d,g,y){const _=tm(d,g,y);return d.inclusive?_<=0:_<0}(s.startAt,Yo(s),a)||s.endAt&&!function(d,g,y){const _=tm(d,g,y);return d.inclusive?_>=0:_>0}(s.endAt,Yo(s),a))}(i,e)}function d0(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function wg(i){return(e,n)=>{let s=!1;for(const a of Yo(i)){const c=f0(a,e,n);if(c!==0)return c;s=s||a.field.isKeyField()}return 0}}function f0(i,e,n){const s=i.field.isKeyField()?he.comparator(e.key,n.key):function(c,d,g){const y=d.data.field(c),_=g.data.field(c);return y!==null&&_!==null?zs(y,_):de(42886)}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return de(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,c]of s)if(this.equalsFn(a,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ai(this.inner,(n,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return ig(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0=new Ze(he.comparator);function vr(){return p0}const Eg=new Ze(he.comparator);function qo(...i){let e=Eg;for(const n of i)e=e.insert(n.key,n);return e}function Tg(i){let e=Eg;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Oi(){return Zo()}function Sg(){return Zo()}function Zo(){return new Ui(i=>i.toString(),(i,e)=>i.isEqual(e))}const m0=new Ze(he.comparator),g0=new gt(he.comparator);function Re(...i){let e=g0;for(const n of i)e=e.add(n);return e}const y0=new gt(Ae);function v0(){return y0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ql(e)?"-0":e}}function Ig(i){return{integerValue:""+i}}function _0(i,e){return $w(e)?Ig(e):Bh(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(){this._=void 0}}function w0(i,e,n){return i instanceof Jl?function(a,c){const d={fields:{[ag]:{stringValue:og},[ug]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&jh(c)&&(c=ou(c)),c&&(d.fields[lg]=c),{mapValue:d}}(n,e):i instanceof aa?Rg(i,e):i instanceof la?Cg(i,e):function(a,c){const d=Ag(a,c),g=sm(d)+sm(a.Ae);return mh(d)&&mh(a.Ae)?Ig(g):Bh(a.serializer,g)}(i,e)}function E0(i,e,n){return i instanceof aa?Rg(i,e):i instanceof la?Cg(i,e):n}function Ag(i,e){return i instanceof Yl?function(s){return mh(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class Jl extends hu{}class aa extends hu{constructor(e){super(),this.elements=e}}function Rg(i,e){const n=kg(e);for(const s of i.elements)n.some(a=>Xn(a,s))||n.push(s);return{arrayValue:{values:n}}}class la extends hu{constructor(e){super(),this.elements=e}}function Cg(i,e){let n=kg(e);for(const s of i.elements)n=n.filter(a=>!Xn(a,s));return{arrayValue:{values:n}}}class Yl extends hu{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function sm(i){return st(i.integerValue||i.doubleValue)}function kg(i){return Fh(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function T0(i,e){return i.field.isEqual(e.field)&&function(s,a){return s instanceof aa&&a instanceof aa||s instanceof la&&a instanceof la?Fs(s.elements,a.elements,Xn):s instanceof Yl&&a instanceof Yl?Xn(s.Ae,a.Ae):s instanceof Jl&&a instanceof Jl}(i.transform,e.transform)}class S0{constructor(e,n){this.version=e,this.transformResults=n}}class Qn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Qn}static exists(e){return new Qn(void 0,e)}static updateTime(e){return new Qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fl(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class du{}function Pg(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new xg(i.key,Qn.none()):new ha(i.key,i.data,Qn.none());{const n=i.data,s=Gt.empty();let a=new gt(Ct.comparator);for(let c of e.fields)if(!a.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?s.delete(c):s.set(c,d),a=a.add(c)}return new li(i.key,s,new sn(a.toArray()),Qn.none())}}function I0(i,e,n){i instanceof ha?function(a,c,d){const g=a.value.clone(),y=am(a.fieldTransforms,c,d.transformResults);g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(i,e,n):i instanceof li?function(a,c,d){if(!Fl(a.precondition,c))return void c.convertToUnknownDocument(d.version);const g=am(a.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(Ng(a)),y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()}(i,e,n):function(a,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,n)}function ea(i,e,n,s){return i instanceof ha?function(c,d,g,y){if(!Fl(c.precondition,d))return g;const _=c.value.clone(),S=lm(c.fieldTransforms,y,d);return _.setAll(S),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null}(i,e,n,s):i instanceof li?function(c,d,g,y){if(!Fl(c.precondition,d))return g;const _=lm(c.fieldTransforms,y,d),S=d.data;return S.setAll(Ng(c)),S.setAll(_),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(C=>C.field))}(i,e,n,s):function(c,d,g){return Fl(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(i,e,n)}function A0(i,e){let n=null;for(const s of i.fieldTransforms){const a=e.data.field(s.field),c=Ag(s.transform,a||null);c!=null&&(n===null&&(n=Gt.empty()),n.set(s.field,c))}return n||null}function om(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Fs(s,a,(c,d)=>T0(c,d))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class ha extends du{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class li extends du{constructor(e,n,s,a,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Ng(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function am(i,e,n){const s=new Map;Oe(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let a=0;a<n.length;a++){const c=i[a],d=c.transform,g=e.data.field(c.field);s.set(c.field,E0(d,g,n[a]))}return s}function lm(i,e,n){const s=new Map;for(const a of i){const c=a.transform,d=n.data.field(a.field);s.set(a.field,w0(c,d,e))}return s}class xg extends du{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class R0 extends du{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&I0(c,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=ea(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=ea(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Sg();return this.mutations.forEach(a=>{const c=e.get(a.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=n.has(a.key)?null:g;const y=Pg(d,g);y!==null&&s.set(a.key,y),d.isValidDocument()||d.convertToNoDocument(pe.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Re())}isEqual(e){return this.batchId===e.batchId&&Fs(this.mutations,e.mutations,(n,s)=>om(n,s))&&Fs(this.baseMutations,e.baseMutations,(n,s)=>om(n,s))}}class Hh{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){Oe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=function(){return m0}();const c=e.mutations;for(let d=0;d<c.length;d++)a=a.insert(c[d].key,s[d].version);return new Hh(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut,Pe;function N0(i){switch(i){case $.OK:return de(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return de(15467,{code:i})}}function Vg(i){if(i===void 0)return yr("GRPC error has no .code"),$.UNKNOWN;switch(i){case ut.OK:return $.OK;case ut.CANCELLED:return $.CANCELLED;case ut.UNKNOWN:return $.UNKNOWN;case ut.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case ut.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case ut.INTERNAL:return $.INTERNAL;case ut.UNAVAILABLE:return $.UNAVAILABLE;case ut.UNAUTHENTICATED:return $.UNAUTHENTICATED;case ut.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case ut.NOT_FOUND:return $.NOT_FOUND;case ut.ALREADY_EXISTS:return $.ALREADY_EXISTS;case ut.PERMISSION_DENIED:return $.PERMISSION_DENIED;case ut.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case ut.ABORTED:return $.ABORTED;case ut.OUT_OF_RANGE:return $.OUT_OF_RANGE;case ut.UNIMPLEMENTED:return $.UNIMPLEMENTED;case ut.DATA_LOSS:return $.DATA_LOSS;default:return de(39323,{code:i})}}(Pe=ut||(ut={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0=new Yr([4294967295,4294967295],0);function um(i){const e=x0().encode(i),n=new Gm;return n.update(e),new Uint8Array(n.digest())}function cm(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Yr([n,s],0),new Yr([a,c],0)]}class Wh{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Go(`Invalid padding: ${n}`);if(s<0)throw new Go(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Go(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Go(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Yr.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(Yr.fromNumber(s)));return a.compare(V0)===1&&(a=new Yr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=um(e),[s,a]=cm(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,a,c);if(!this.we(d))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Wh(c,a,n);return s.forEach(g=>d.insert(g)),d}insert(e){if(this.ge===0)return;const n=um(e),[s,a]=cm(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,a,c);this.Se(d)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Go extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n,s,a,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,da.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new fu(pe.min(),a,new Ze(Ae),vr(),Re())}}class da{constructor(e,n,s,a,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new da(s,n,Re(),Re(),Re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class Dg{constructor(e,n){this.targetId=e,this.Ce=n}}class Lg{constructor(e,n,s=kt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class hm{constructor(){this.ve=0,this.Fe=dm(),this.Me=kt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Re(),n=Re(),s=Re();return this.Fe.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:de(38017,{changeType:c})}}),new da(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=dm()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Oe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class D0{constructor(e){this.Ge=e,this.ze=new Map,this.je=vr(),this.Je=Ll(),this.He=Ll(),this.Ye=new Ze(Ae)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:de(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((s,a)=>{this.rt(a)&&n(a)})}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const c=a.target;if(yh(c))if(s===0){const d=new he(c.path);this.et(n,d,Ot.newNoDocument(d,pe.min()))}else Oe(s===1,20013,{expectedCount:s});else{const d=this._t(n);if(d!==s){const g=this.ut(e),y=g?this.ct(g,e,d):1;if(y!==0){this.it(n);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,_)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:c=0}=n;let d,g;try{d=ri(s).toUint8Array()}catch(y){if(y instanceof sg)return js("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new Wh(d,a,c)}catch(y){return js(y instanceof Go?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach(c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(n,c,null),a++)}),a}Tt(e){const n=new Map;this.ze.forEach((c,d)=>{const g=this.ot(d);if(g){if(c.current&&yh(g.target)){const y=new he(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Ot.newNoDocument(y,e))}c.Be&&(n.set(d,c.ke()),c.qe())}});let s=Re();this.He.forEach((c,d)=>{let g=!0;d.forEachWhile(y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(c))}),this.je.forEach((c,d)=>d.setReadTime(e));const a=new fu(e,n,this.Ye,this.je,s);return this.je=vr(),this.Je=Ll(),this.He=Ll(),this.Ye=new Ze(Ae),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new hm,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new gt(Ae),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new gt(Ae),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new hm),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ll(){return new Ze(he.comparator)}function dm(){return new Ze(he.comparator)}const L0={asc:"ASCENDING",desc:"DESCENDING"},M0={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},b0={and:"AND",or:"OR"};class O0{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function _h(i,e){return i.useProto3Json||su(e)?e:{value:e}}function Zl(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Mg(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function j0(i,e){return Zl(i,e.toTimestamp())}function qn(i){return Oe(!!i,49232),pe.fromTimestamp(function(n){const s=ni(n);return new qe(s.seconds,s.nanos)}(i))}function $h(i,e){return wh(i,e).canonicalString()}function wh(i,e){const n=function(a){return new Ye(["projects",a.projectId,"databases",a.database])}(i).child("documents");return e===void 0?n:n.child(e)}function bg(i){const e=Ye.fromString(i);return Oe(Ug(e),10190,{key:e.toString()}),e}function Eh(i,e){return $h(i.databaseId,e.path)}function rh(i,e){const n=bg(e);if(n.get(1)!==i.databaseId.projectId)throw new ae($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ae($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new he(jg(n))}function Og(i,e){return $h(i.databaseId,e)}function F0(i){const e=bg(i);return e.length===4?Ye.emptyPath():jg(e)}function Th(i){return new Ye(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function jg(i){return Oe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function fm(i,e,n){return{name:Eh(i,e),fields:n.value.mapValue.fields}}function z0(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:de(39313,{state:_})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],c=function(_,S){return _.useProto3Json?(Oe(S===void 0||typeof S=="string",58123),kt.fromBase64String(S||"")):(Oe(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),kt.fromUint8Array(S||new Uint8Array))}(i,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(_){const S=_.code===void 0?$.UNKNOWN:Vg(_.code);return new ae(S,_.message||"")}(d);n=new Lg(s,a,c,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=rh(i,s.document.name),c=qn(s.document.updateTime),d=s.document.createTime?qn(s.document.createTime):pe.min(),g=new Gt({mapValue:{fields:s.document.fields}}),y=Ot.newFoundDocument(a,c,d,g),_=s.targetIds||[],S=s.removedTargetIds||[];n=new zl(_,S,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=rh(i,s.document),c=s.readTime?qn(s.readTime):pe.min(),d=Ot.newNoDocument(a,c),g=s.removedTargetIds||[];n=new zl([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=rh(i,s.document),c=s.removedTargetIds||[];n=new zl([],c,a,null)}else{if(!("filter"in e))return de(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:c}=s,d=new P0(a,c),g=s.targetId;n=new Dg(g,d)}}return n}function U0(i,e){let n;if(e instanceof ha)n={update:fm(i,e.key,e.value)};else if(e instanceof xg)n={delete:Eh(i,e.key)};else if(e instanceof li)n={update:fm(i,e.key,e.data),updateMask:X0(e.fieldMask)};else{if(!(e instanceof R0))return de(16599,{Vt:e.type});n={verify:Eh(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(c,d){const g=d.transform;if(g instanceof Jl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof aa)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof la)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Yl)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw de(20930,{transform:d.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(a,c){return c.updateTime!==void 0?{updateTime:j0(a,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:de(27497)}(i,e.precondition)),n}function B0(i,e){return i&&i.length>0?(Oe(e!==void 0,14353),i.map(n=>function(a,c){let d=a.updateTime?qn(a.updateTime):qn(c);return d.isEqual(pe.min())&&(d=qn(c)),new S0(d,a.transformResults||[])}(n,e))):[]}function H0(i,e){return{documents:[Og(i,e.path)]}}function W0(i,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Og(i,a);const c=function(_){if(_.length!==0)return zg(Jn.create(_,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const d=function(_){if(_.length!==0)return _.map(S=>function(V){return{field:Ds(V.field),direction:q0(V.dir)}}(S))}(e.orderBy);d&&(n.structuredQuery.orderBy=d);const g=_h(i,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ft:n,parent:a}}function $0(i){let e=F0(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Oe(s===1,65062);const S=n.from[0];S.allDescendants?a=S.collectionId:e=e.child(S.collectionId)}let c=[];n.where&&(c=function(C){const V=Fg(C);return V instanceof Jn&&mg(V)?V.getFilters():[V]}(n.where));let d=[];n.orderBy&&(d=function(C){return C.map(V=>function(Z){return new Xl(Ls(Z.field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Z.direction))}(V))}(n.orderBy));let g=null;n.limit&&(g=function(C){let V;return V=typeof C=="object"?C.value:C,su(V)?null:V}(n.limit));let y=null;n.startAt&&(y=function(C){const V=!!C.before,z=C.values||[];return new Kl(z,V)}(n.startAt));let _=null;return n.endAt&&(_=function(C){const V=!C.before,z=C.values||[];return new Kl(z,V)}(n.endAt)),u0(e,a,d,c,g,"F",y,_)}function Q0(i,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return de(28987,{purpose:a})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Fg(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ls(n.unaryFilter.field);return mt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Ls(n.unaryFilter.field);return mt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ls(n.unaryFilter.field);return mt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ls(n.unaryFilter.field);return mt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return de(61313);default:return de(60726)}}(i):i.fieldFilter!==void 0?function(n){return mt.create(Ls(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return de(58110);default:return de(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Jn.create(n.compositeFilter.filters.map(s=>Fg(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return de(1026)}}(n.compositeFilter.op))}(i):de(30097,{filter:i})}function q0(i){return L0[i]}function G0(i){return M0[i]}function K0(i){return b0[i]}function Ds(i){return{fieldPath:i.canonicalString()}}function Ls(i){return Ct.fromServerFormat(i.fieldPath)}function zg(i){return i instanceof mt?function(n){if(n.op==="=="){if(em(n.value))return{unaryFilter:{field:Ds(n.field),op:"IS_NAN"}};if(Zp(n.value))return{unaryFilter:{field:Ds(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(em(n.value))return{unaryFilter:{field:Ds(n.field),op:"IS_NOT_NAN"}};if(Zp(n.value))return{unaryFilter:{field:Ds(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ds(n.field),op:G0(n.op),value:n.value}}}(i):i instanceof Jn?function(n){const s=n.getFilters().map(a=>zg(a));return s.length===1?s[0]:{compositeFilter:{op:K0(n.op),filters:s}}}(i):de(54877,{filter:i})}function X0(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Ug(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e,n,s,a,c=pe.min(),d=pe.min(),g=kt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new Kr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e){this.yt=e}}function Y0(i){const e=$0({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?vh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(){this.Cn=new eE}addToCollectionParentIndex(e,n){return this.Cn.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(ti.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(ti.min())}updateCollectionGroup(e,n,s){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class eE{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new gt(Ye.comparator),c=!a.has(s);return this.index[n]=a.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new gt(Ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Bg=41943040;class qt{static withCacheSize(e){return new qt(e,qt.DEFAULT_COLLECTION_PERCENTILE,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qt.DEFAULT_COLLECTION_PERCENTILE=10,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qt.DEFAULT=new qt(Bg,qt.DEFAULT_COLLECTION_PERCENTILE,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qt.DISABLED=new qt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Bs(0)}static cr(){return new Bs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm="LruGarbageCollector",tE=1048576;function gm([i,e],[n,s]){const a=Ae(i,n);return a===0?Ae(e,s):a}class nE{constructor(e){this.Ir=e,this.buffer=new gt(gm),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();gm(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class rE{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){te(mm,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Gs(n)?te(mm,"Ignoring IndexedDB error during garbage collection: ",n):await qs(n)}await this.Vr(3e5)})}}class iE{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return U.resolve(iu.ce);const s=new nE(n);return this.mr.forEachTarget(e,a=>s.Ar(a.sequenceNumber)).next(()=>this.mr.pr(e,a=>s.Ar(a))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(pm)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pm):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,c,d,g,y,_;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),a=this.params.maximumSequenceNumbersToCollect):a=C,d=Date.now(),this.nthSequenceNumber(e,a))).next(C=>(s=C,g=Date.now(),this.removeTargets(e,s,n))).next(C=>(c=C,y=Date.now(),this.removeOrphanedDocuments(e,s))).next(C=>(_=Date.now(),xs()<=Ne.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${a} in `+(g-d)+`ms
	Removed ${c} targets in `+(y-g)+`ms
	Removed ${C} documents in `+(_-y)+`ms
Total Duration: ${_-S}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:C})))}}function sE(i,e){return new iE(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(){this.changes=new Ui(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ot.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?U.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(s!==null&&ea(s.mutation,a,sn.empty(),qe.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Re()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Re()){const a=Oi();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,s).next(c=>{let d=qo();return c.forEach((g,y)=>{d=d.insert(g,y.overlayedDocument)}),d}))}getOverlayedDocuments(e,n){const s=Oi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Re()))}populateOverlays(e,n,s){const a=[];return s.forEach(c=>{n.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((d,g)=>{n.set(d,g)})})}computeViews(e,n,s,a){let c=vr();const d=Zo(),g=function(){return Zo()}();return n.forEach((y,_)=>{const S=s.get(_.key);a.has(_.key)&&(S===void 0||S.mutation instanceof li)?c=c.insert(_.key,_):S!==void 0?(d.set(_.key,S.mutation.getFieldMask()),ea(S.mutation,_,S.mutation.getFieldMask(),qe.now())):d.set(_.key,sn.empty())}),this.recalculateAndSaveOverlays(e,c).next(y=>(y.forEach((_,S)=>d.set(_,S)),n.forEach((_,S)=>g.set(_,new aE(S,d.get(_)??null))),g))}recalculateAndSaveOverlays(e,n){const s=Zo();let a=new Ze((d,g)=>d-g),c=Re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(d=>{for(const g of d)g.keys().forEach(y=>{const _=n.get(y);if(_===null)return;let S=s.get(y)||sn.empty();S=g.applyToLocalView(_,S),s.set(y,S);const C=(a.get(g.batchId)||Re()).add(y);a=a.insert(g.batchId,C)})}).next(()=>{const d=[],g=a.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),_=y.key,S=y.value,C=Sg();S.forEach(V=>{if(!c.has(V)){const z=Pg(n.get(V),s.get(V));z!==null&&C.set(V,z),c=c.add(V)}}),d.push(this.documentOverlayCache.saveOverlays(e,_,C))}return U.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,a){return function(d){return he.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):c0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next(c=>{const d=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-c.size):U.resolve(Oi());let g=ra,y=c;return d.next(_=>U.forEach(_,(S,C)=>(g<C.largestBatchId&&(g=C.largestBatchId),c.get(S)?U.resolve():this.remoteDocumentCache.getEntry(e,S).next(V=>{y=y.insert(S,V)}))).next(()=>this.populateOverlays(e,_,c)).next(()=>this.computeViews(e,y,_,Re())).next(S=>({batchId:g,changes:Tg(S)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new he(n)).next(s=>{let a=qo();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const c=n.collectionGroup;let d=qo();return this.indexManager.getCollectionParents(e,c).next(g=>U.forEach(g,y=>{const _=function(C,V){return new au(V,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)}(n,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,s,a).next(S=>{S.forEach((C,V)=>{d=d.insert(C,V)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,n,s,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,a))).next(d=>{c.forEach((y,_)=>{const S=_.getKey();d.get(S)===null&&(d=d.insert(S,Ot.newInvalidDocument(S)))});let g=qo();return d.forEach((y,_)=>{const S=c.get(y);S!==void 0&&ea(S.mutation,_,sn.empty(),qe.now()),cu(n,_)&&(g=g.insert(y,_))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return U.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:qn(a.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(a){return{name:a.name,query:Y0(a.bundledQuery),readTime:qn(a.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(){this.overlays=new Ze(he.comparator),this.qr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Oi();return U.forEach(n,a=>this.getOverlay(e,a).next(c=>{c!==null&&s.set(a,c)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((a,c)=>{this.St(e,n,c)}),U.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.qr.delete(s)),U.resolve()}getOverlaysForCollection(e,n,s){const a=Oi(),c=n.length+1,d=new he(n.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,_=y.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>s&&a.set(y.getKey(),y)}return U.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let c=new Ze((_,S)=>_-S);const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let S=c.get(_.largestBatchId);S===null&&(S=Oi(),c=c.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const g=Oi(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((_,S)=>g.set(_,S)),!(g.size()>=a)););return U.resolve(g)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const d=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new k0(n,s));let c=this.qr.get(n);c===void 0&&(c=Re(),this.qr.set(n,c)),this.qr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(){this.sessionToken=kt.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(){this.Qr=new gt(Et.$r),this.Ur=new gt(Et.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Et(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Gr(new Et(e,n))}zr(e,n){e.forEach(s=>this.removeReference(s,n))}jr(e){const n=new he(new Ye([])),s=new Et(n,e),a=new Et(n,e+1),c=[];return this.Ur.forEachInRange([s,a],d=>{this.Gr(d),c.push(d.key)}),c}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new he(new Ye([])),s=new Et(n,e),a=new Et(n,e+1);let c=Re();return this.Ur.forEachInRange([s,a],d=>{c=c.add(d.key)}),c}containsKey(e){const n=new Et(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Et{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return he.comparator(e.key,n.key)||Ae(e.Yr,n.Yr)}static Kr(e,n){return Ae(e.Yr,n.Yr)||he.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new gt(Et.$r)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new C0(c,n,s,a);this.mutationQueue.push(d);for(const g of a)this.Zr=this.Zr.add(new Et(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return U.resolve(d)}lookupMutationBatch(e,n){return U.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),c=a<0?0:a;return U.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?Oh:this.tr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Et(n,0),a=new Et(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,a],d=>{const g=this.Xr(d.Yr);c.push(g)}),U.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new gt(Ae);return n.forEach(a=>{const c=new Et(a,0),d=new Et(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],g=>{s=s.add(g.Yr)})}),U.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let c=s;he.isDocumentKey(c)||(c=c.child(""));const d=new Et(new he(c),0);let g=new gt(Ae);return this.Zr.forEachWhile(y=>{const _=y.key.path;return!!s.isPrefixOf(_)&&(_.length===a&&(g=g.add(y.Yr)),!0)},d),U.resolve(this.ti(g))}ti(e){const n=[];return e.forEach(s=>{const a=this.Xr(s);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){Oe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return U.forEach(n.mutations,a=>{const c=new Et(a.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,n){const s=new Et(n,0),a=this.Zr.firstAfterOrEqual(s);return U.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e){this.ri=e,this.docs=function(){return new Ze(he.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),c=a?a.size:0,d=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return U.resolve(s?s.document.mutableCopy():Ot.newInvalidDocument(n))}getEntries(e,n){let s=vr();return n.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():Ot.newInvalidDocument(a))}),U.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let c=vr();const d=n.path,g=new he(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:_,value:{document:S}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||Uw(zw(S),s)<=0||(a.has(S.key)||cu(n,S))&&(c=c.insert(S.key,S.mutableCopy()))}return U.resolve(c)}getAllFromCollectionGroup(e,n,s,a){de(9500)}ii(e,n){return U.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new pE(this)}getSize(e){return U.resolve(this.size)}}class pE extends oE{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)}),U.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(e){this.persistence=e,this.si=new Ui(n=>zh(n),Uh),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.oi=0,this._i=new Qh,this.targetCount=0,this.ai=Bs.ur()}forEachTarget(e,n){return this.si.forEach((s,a)=>n(a)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),U.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Bs(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Pr(n),U.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,s){let a=0;const c=[];return this.si.forEach((d,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),a++)}),U.waitFor(c).next(()=>a)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return U.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),U.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,c=[];return a&&n.forEach(d=>{c.push(a.markPotentiallyOrphaned(e,d))}),U.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return U.resolve(s)}containsKey(e,n){return U.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e,n){this.ui={},this.overlays={},this.ci=new iu(0),this.li=!1,this.li=!0,this.hi=new hE,this.referenceDelegate=e(this),this.Pi=new mE(this),this.indexManager=new Z0,this.remoteDocumentCache=function(a){return new fE(a)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new J0(n),this.Ii=new uE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new cE,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new dE(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){te("MemoryPersistence","Starting transaction:",e);const a=new gE(this.ci.next());return this.referenceDelegate.Ei(),s(a).next(c=>this.referenceDelegate.di(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Ai(e,n){return U.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,n)))}}class gE extends Hw{constructor(e){super(),this.currentSequenceNumber=e}}class qh{constructor(e){this.persistence=e,this.Ri=new Qh,this.Vi=null}static mi(e){return new qh(e)}get fi(){if(this.Vi)return this.Vi;throw de(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),U.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),U.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(a=>this.fi.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(c=>this.fi.add(c.toString()))}).next(()=>s.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.fi,s=>{const a=he.fromPath(s);return this.gi(e,a).next(c=>{c||n.removeEntry(a,pe.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return U.or([()=>U.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class eu{constructor(e,n){this.persistence=e,this.pi=new Ui(s=>Qw(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=sE(this,n)}static mi(e,n){return new eu(e,n)}Ei(){}di(e){return U.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(a=>s+a))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}pr(e,n){return U.forEach(this.pi,(s,a)=>this.br(e,s,a).next(c=>c?U.resolve():n(a)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.ii(e,d=>this.br(e,d,n).next(g=>{g||(s++,c.removeEntry(d,pe.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),U.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),U.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),U.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ol(e.data.value)),n}br(e,n,s){return U.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return U.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=Re(),a=Re();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new Gh(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return u_()?8:Ww(a_())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const c={result:null};return this.ys(e,n).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ws(e,n,a,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new yE;return this.Ss(e,n,d).next(g=>{if(c.result=g,this.Vs)return this.bs(e,n,d,g.size)})}).next(()=>c.result)}bs(e,n,s,a){return s.documentReadCount<this.fs?(xs()<=Ne.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",Vs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),U.resolve()):(xs()<=Ne.DEBUG&&te("QueryEngine","Query:",Vs(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(xs()<=Ne.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",Vs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$n(n))):U.resolve())}ys(e,n){if(im(n))return U.resolve(null);let s=$n(n);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=vh(n,null,"F"),s=$n(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const d=Re(...c);return this.ps.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,s).next(y=>{const _=this.Ds(n,g);return this.Cs(n,_,d,y.readTime)?this.ys(e,vh(n,null,"F")):this.vs(e,_,n,y)}))})))}ws(e,n,s,a){return im(n)||a.isEqual(pe.min())?U.resolve(null):this.ps.getDocuments(e,s).next(c=>{const d=this.Ds(n,c);return this.Cs(n,d,s,a)?U.resolve(null):(xs()<=Ne.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Vs(n)),this.vs(e,d,n,Fw(a,ra)).next(g=>g))})}Ds(e,n){let s=new gt(wg(e));return n.forEach((a,c)=>{cu(e,c)&&(s=s.add(c))}),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Ss(e,n,s){return xs()<=Ne.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",Vs(n)),this.ps.getDocumentsMatchingQuery(e,n,ti.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next(c=>(n.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kh="LocalStore",_E=3e8;class wE{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new Ze(Ae),this.xs=new Ui(c=>zh(c),Uh),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lE(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function EE(i,e,n,s){return new wE(i,e,n,s)}async function Wg(i,e){const n=ge(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],g=[];let y=Re();for(const _ of a){d.push(_.batchId);for(const S of _.mutations)y=y.add(S.key)}for(const _ of c){g.push(_.batchId);for(const S of _.mutations)y=y.add(S.key)}return n.localDocuments.getDocuments(s,y).next(_=>({Ls:_,removedBatchIds:d,addedBatchIds:g}))})})}function TE(i,e){const n=ge(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return function(g,y,_,S){const C=_.batch,V=C.keys();let z=U.resolve();return V.forEach(Z=>{z=z.next(()=>S.getEntry(y,Z)).next(J=>{const q=_.docVersions.get(Z);Oe(q!==null,48541),J.version.compareTo(q)<0&&(C.applyToRemoteDocument(J,_),J.isValidDocument()&&(J.setReadTime(_.commitVersion),S.addEntry(J)))})}),z.next(()=>g.mutationQueue.removeMutationBatch(y,C))}(n,s,e,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let y=Re();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(y=y.add(g.batch.mutations[_].key));return y}(e))).next(()=>n.localDocuments.getDocuments(s,a))})}function $g(i){const e=ge(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function SE(i,e){const n=ge(i),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const g=[];e.targetChanges.forEach((S,C)=>{const V=a.get(C);if(!V)return;g.push(n.Pi.removeMatchingKeys(c,S.removedDocuments,C).next(()=>n.Pi.addMatchingKeys(c,S.addedDocuments,C)));let z=V.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(C)!==null?z=z.withResumeToken(kt.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):S.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(S.resumeToken,s)),a=a.insert(C,z),function(J,q,Ee){return J.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=_E?!0:Ee.addedDocuments.size+Ee.modifiedDocuments.size+Ee.removedDocuments.size>0}(V,z,S)&&g.push(n.Pi.updateTargetData(c,z))});let y=vr(),_=Re();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,S))}),g.push(IE(c,d,e.documentUpdates).next(S=>{y=S.ks,_=S.qs})),!s.isEqual(pe.min())){const S=n.Pi.getLastRemoteSnapshotVersion(c).next(C=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s));g.push(S)}return U.waitFor(g).next(()=>d.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,y,_)).next(()=>y)}).then(c=>(n.Ms=a,c))}function IE(i,e,n){let s=Re(),a=Re();return n.forEach(c=>s=s.add(c)),e.getEntries(i,s).next(c=>{let d=vr();return n.forEach((g,y)=>{const _=c.get(g);y.isFoundDocument()!==_.isFoundDocument()&&(a=a.add(g)),y.isNoDocument()&&y.version.isEqual(pe.min())?(e.removeEntry(g,y.readTime),d=d.insert(g,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),d=d.insert(g,y)):te(Kh,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",y.version)}),{ks:d,qs:a}})}function AE(i,e){const n=ge(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Oh),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function RE(i,e){const n=ge(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.Pi.getTargetData(s,e).next(c=>c?(a=c,U.resolve(a)):n.Pi.allocateTargetId(s).next(d=>(a=new Kr(e,d,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s})}async function Sh(i,e,n){const s=ge(i),a=s.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,d=>s.persistence.referenceDelegate.removeTarget(d,a))}catch(d){if(!Gs(d))throw d;te(Kh,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function ym(i,e,n){const s=ge(i);let a=pe.min(),c=Re();return s.persistence.runTransaction("Execute query","readwrite",d=>function(y,_,S){const C=ge(y),V=C.xs.get(S);return V!==void 0?U.resolve(C.Ms.get(V)):C.Pi.getTargetData(_,S)}(s,d,$n(e)).next(g=>{if(g)return a=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,g.targetId).next(y=>{c=y})}).next(()=>s.Fs.getDocumentsMatchingQuery(d,e,n?a:pe.min(),n?c:Re())).next(g=>(CE(s,d0(e),g),{documents:g,Qs:c})))}function CE(i,e,n){let s=i.Os.get(e)||pe.min();n.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),i.Os.set(e,s)}class vm{constructor(){this.activeTargetIds=v0()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kE{constructor(){this.Mo=new vm,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new vm,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="ConnectivityMonitor";class wm{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){te(_m,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){te(_m,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ml=null;function Ih(){return Ml===null?Ml=function(){return 268435456+Math.round(2147483648*Math.random())}():Ml++,"0x"+Ml.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih="RestConnection",NE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xE{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===ql?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,c){const d=Ih(),g=this.zo(e,n.toUriEncodedString());te(ih,`Sending RPC '${e}' ${d}:`,g,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,a,c);const{host:_}=new URL(g),S=Vh(_);return this.Jo(e,g,y,s,S).then(C=>(te(ih,`Received RPC '${e}' ${d}: `,C),C),C=>{throw js(ih,`RPC '${e}' ${d} failed with error: `,C,"url: ",g,"request:",s),C})}Ho(e,n,s,a,c,d){return this.Go(e,n,s,a,c)}jo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,c)=>e[c]=a),s&&s.headers.forEach((a,c)=>e[c]=a)}zo(e,n){const s=NE[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mt="WebChannelConnection";class DE extends xE{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,c){const d=Ih();return new Promise((g,y)=>{const _=new Km;_.setWithCredentials(!0),_.listenOnce(Xm.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case bl.NO_ERROR:const C=_.getResponseJson();te(Mt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(C)),g(C);break;case bl.TIMEOUT:te(Mt,`RPC '${e}' ${d} timed out`),y(new ae($.DEADLINE_EXCEEDED,"Request time out"));break;case bl.HTTP_ERROR:const V=_.getStatus();if(te(Mt,`RPC '${e}' ${d} failed with status:`,V,"response text:",_.getResponseText()),V>0){let z=_.getResponseJson();Array.isArray(z)&&(z=z[0]);const Z=z?.error;if(Z&&Z.status&&Z.message){const J=function(Ee){const ye=Ee.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(ye)>=0?ye:$.UNKNOWN}(Z.status);y(new ae(J,Z.message))}else y(new ae($.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new ae($.UNAVAILABLE,"Connection failed."));break;default:de(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{te(Mt,`RPC '${e}' ${d} completed.`)}});const S=JSON.stringify(a);te(Mt,`RPC '${e}' ${d} sending request:`,a),_.send(n,"POST",S,s,15)})}T_(e,n,s){const a=Ih(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Zm(),g=Ym(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,s),y.encodeInitMessageHeaders=!0;const S=c.join("");te(Mt,`Creating RPC '${e}' stream ${a}: ${S}`,y);const C=d.createWebChannel(S,y);this.I_(C);let V=!1,z=!1;const Z=new VE({Yo:q=>{z?te(Mt,`Not sending because RPC '${e}' stream ${a} is closed:`,q):(V||(te(Mt,`Opening RPC '${e}' stream ${a} transport.`),C.open(),V=!0),te(Mt,`RPC '${e}' stream ${a} sending:`,q),C.send(q))},Zo:()=>C.close()}),J=(q,Ee,ye)=>{q.listen(Ee,ve=>{try{ye(ve)}catch(De){setTimeout(()=>{throw De},0)}})};return J(C,Qo.EventType.OPEN,()=>{z||(te(Mt,`RPC '${e}' stream ${a} transport opened.`),Z.o_())}),J(C,Qo.EventType.CLOSE,()=>{z||(z=!0,te(Mt,`RPC '${e}' stream ${a} transport closed`),Z.a_(),this.E_(C))}),J(C,Qo.EventType.ERROR,q=>{z||(z=!0,js(Mt,`RPC '${e}' stream ${a} transport errored. Name:`,q.name,"Message:",q.message),Z.a_(new ae($.UNAVAILABLE,"The operation could not be completed")))}),J(C,Qo.EventType.MESSAGE,q=>{if(!z){const Ee=q.data[0];Oe(!!Ee,16349);const ye=Ee,ve=ye?.error||ye[0]?.error;if(ve){te(Mt,`RPC '${e}' stream ${a} received error:`,ve);const De=ve.status;let Ue=function(T){const A=ut[T];if(A!==void 0)return Vg(A)}(De),ke=ve.message;Ue===void 0&&(Ue=$.INTERNAL,ke="Unknown error status: "+De+" with message "+ve.message),z=!0,Z.a_(new ae(Ue,ke)),C.close()}else te(Mt,`RPC '${e}' stream ${a} received:`,Ee),Z.u_(Ee)}}),J(g,Jm.STAT_EVENT,q=>{q.stat===dh.PROXY?te(Mt,`RPC '${e}' stream ${a} detected buffering proxy`):q.stat===dh.NOPROXY&&te(Mt,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{Z.__()},0),Z}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function sh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(i){return new O0(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e,n,s=1e3,a=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&te("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="PersistentStream";class qg{constructor(e,n,s,a,c,d,g,y){this.Mi=e,this.S_=s,this.b_=a,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Qg(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(yr(n.toString()),yr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.D_===n&&this.G_(s,a)},s=>{e(()=>{const a=new ae($.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)})})}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(a=>{s(()=>this.z_(a))}),this.stream.onMessage(a=>{s(()=>++this.F_==1?this.J_(a):this.onNext(a))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return te(Em,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(te(Em,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class LE extends qg{constructor(e,n,s,a,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,d),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=z0(this.serializer,e),s=function(c){if(!("targetChange"in c))return pe.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?pe.min():d.readTime?qn(d.readTime):pe.min()}(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Th(this.serializer),n.addTarget=function(c,d){let g;const y=d.target;if(g=yh(y)?{documents:H0(c,y)}:{query:W0(c,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=Mg(c,d.resumeToken);const _=_h(c,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(pe.min())>0){g.readTime=Zl(c,d.snapshotVersion.toTimestamp());const _=_h(c,d.expectedCount);_!==null&&(g.expectedCount=_)}return g}(this.serializer,e);const s=Q0(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Th(this.serializer),n.removeTarget=e,this.q_(n)}}class ME extends qg{constructor(e,n,s,a,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Oe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Oe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Oe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=B0(e.writeResults,e.commitTime),s=qn(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Th(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>U0(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{}class OE extends bE{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ae($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Go(e,wh(n,s),a,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ae($.UNKNOWN,c.toString())})}Ho(e,n,s,a,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Ho(e,wh(n,s),a,d,g,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ae($.UNKNOWN,d.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class jE{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(yr(n),this.aa=!1):te("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi="RemoteStore";class FE{constructor(e,n,s,a,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo(d=>{s.enqueueAndForget(async()=>{Bi(this)&&(te(zi,"Restarting streams for network reachability change."),await async function(y){const _=ge(y);_.Ea.add(4),await fa(_),_.Ra.set("Unknown"),_.Ea.delete(4),await mu(_)}(this))})}),this.Ra=new jE(s,a)}}async function mu(i){if(Bi(i))for(const e of i.da)await e(!0)}async function fa(i){for(const e of i.da)await e(!1)}function Gg(i,e){const n=ge(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Zh(n)?Yh(n):Ks(n).O_()&&Jh(n,e))}function Xh(i,e){const n=ge(i),s=Ks(n);n.Ia.delete(e),s.O_()&&Kg(n,e),n.Ia.size===0&&(s.O_()?s.L_():Bi(n)&&n.Ra.set("Unknown"))}function Jh(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pe.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ks(i).Y_(e)}function Kg(i,e){i.Va.Ue(e),Ks(i).Z_(e)}function Yh(i){i.Va=new D0({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Ks(i).start(),i.Ra.ua()}function Zh(i){return Bi(i)&&!Ks(i).x_()&&i.Ia.size>0}function Bi(i){return ge(i).Ea.size===0}function Xg(i){i.Va=void 0}async function zE(i){i.Ra.set("Online")}async function UE(i){i.Ia.forEach((e,n)=>{Jh(i,e)})}async function BE(i,e){Xg(i),Zh(i)?(i.Ra.ha(e),Yh(i)):i.Ra.set("Unknown")}async function HE(i,e,n){if(i.Ra.set("Online"),e instanceof Lg&&e.state===2&&e.cause)try{await async function(a,c){const d=c.cause;for(const g of c.targetIds)a.Ia.has(g)&&(await a.remoteSyncer.rejectListen(g,d),a.Ia.delete(g),a.Va.removeTarget(g))}(i,e)}catch(s){te(zi,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await tu(i,s)}else if(e instanceof zl?i.Va.Ze(e):e instanceof Dg?i.Va.st(e):i.Va.tt(e),!n.isEqual(pe.min()))try{const s=await $g(i.localStore);n.compareTo(s)>=0&&await function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const S=c.Ia.get(_);S&&c.Ia.set(_,S.withResumeToken(y.resumeToken,d))}}),g.targetMismatches.forEach((y,_)=>{const S=c.Ia.get(y);if(!S)return;c.Ia.set(y,S.withResumeToken(kt.EMPTY_BYTE_STRING,S.snapshotVersion)),Kg(c,y);const C=new Kr(S.target,y,_,S.sequenceNumber);Jh(c,C)}),c.remoteSyncer.applyRemoteEvent(g)}(i,n)}catch(s){te(zi,"Failed to raise snapshot:",s),await tu(i,s)}}async function tu(i,e,n){if(!Gs(e))throw e;i.Ea.add(1),await fa(i),i.Ra.set("Offline"),n||(n=()=>$g(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{te(zi,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await mu(i)})}function Jg(i,e){return e().catch(n=>tu(i,n,e))}async function gu(i){const e=ge(i),n=si(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Oh;for(;WE(e);)try{const a=await AE(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,$E(e,a)}catch(a){await tu(e,a)}Yg(e)&&Zg(e)}function WE(i){return Bi(i)&&i.Ta.length<10}function $E(i,e){i.Ta.push(e);const n=si(i);n.O_()&&n.X_&&n.ea(e.mutations)}function Yg(i){return Bi(i)&&!si(i).x_()&&i.Ta.length>0}function Zg(i){si(i).start()}async function QE(i){si(i).ra()}async function qE(i){const e=si(i);for(const n of i.Ta)e.ea(n.mutations)}async function GE(i,e,n){const s=i.Ta.shift(),a=Hh.from(s,e,n);await Jg(i,()=>i.remoteSyncer.applySuccessfulWrite(a)),await gu(i)}async function KE(i,e){e&&si(i).X_&&await async function(s,a){if(function(d){return N0(d)&&d!==$.ABORTED}(a.code)){const c=s.Ta.shift();si(s).B_(),await Jg(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,a)),await gu(s)}}(i,e),Yg(i)&&Zg(i)}async function Tm(i,e){const n=ge(i);n.asyncQueue.verifyOperationInProgress(),te(zi,"RemoteStore received new credentials");const s=Bi(n);n.Ea.add(3),await fa(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await mu(n)}async function XE(i,e){const n=ge(i);e?(n.Ea.delete(2),await mu(n)):e||(n.Ea.add(2),await fa(n),n.Ra.set("Unknown"))}function Ks(i){return i.ma||(i.ma=function(n,s,a){const c=ge(n);return c.sa(),new LE(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Xo:zE.bind(null,i),t_:UE.bind(null,i),r_:BE.bind(null,i),H_:HE.bind(null,i)}),i.da.push(async e=>{e?(i.ma.B_(),Zh(i)?Yh(i):i.Ra.set("Unknown")):(await i.ma.stop(),Xg(i))})),i.ma}function si(i){return i.fa||(i.fa=function(n,s,a){const c=ge(n);return c.sa(),new ME(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:QE.bind(null,i),r_:KE.bind(null,i),ta:qE.bind(null,i),na:GE.bind(null,i)}),i.da.push(async e=>{e?(i.fa.B_(),await gu(i)):(await i.fa.stop(),i.Ta.length>0&&(te(zi,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))})),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,n,s,a,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new Zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,c){const d=Date.now()+s,g=new ed(e,n,d,a,c);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function td(i,e){if(yr("AsyncQueue",`${e}: ${i}`),Gs(i))return new ae($.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{static emptySet(e){return new bs(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||he.comparator(n.key,s.key):(n,s)=>he.comparator(n.key,s.key),this.keyedMap=qo(),this.sortedSet=new Ze(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new bs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(){this.ga=new Ze(he.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):de(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,s)=>{e.push(s)}),e}}class Hs{constructor(e,n,s,a,c,d,g,y,_){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,n,s,a,c){const d=[];return n.forEach(g=>{d.push({type:0,doc:g})}),new Hs(e,n,bs.emptySet(n),d,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class YE{constructor(){this.queries=Im(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=ge(n),c=a.queries;a.queries=Im(),c.forEach((d,g)=>{for(const y of g.Sa)y.onError(s)})})(this,new ae($.ABORTED,"Firestore shutting down"))}}function Im(){return new Ui(i=>_g(i),uu)}async function ey(i,e){const n=ge(i);let s=3;const a=e.query;let c=n.queries.get(a);c?!c.ba()&&e.Da()&&(s=2):(c=new JE,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await n.onListen(a,!0);break;case 1:c.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(d){const g=td(d,`Initialization of query '${Vs(e.query)}' failed`);return void e.onError(g)}n.queries.set(a,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&nd(n)}async function ty(i,e){const n=ge(i),s=e.query;let a=3;const c=n.queries.get(s);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?a=e.Da()?0:1:!c.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function ZE(i,e){const n=ge(i);let s=!1;for(const a of e){const c=a.query,d=n.queries.get(c);if(d){for(const g of d.Sa)g.Fa(a)&&(s=!0);d.wa=a}}s&&nd(n)}function e1(i,e,n){const s=ge(i),a=s.queries.get(e);if(a)for(const c of a.Sa)c.onError(n);s.queries.delete(e)}function nd(i){i.Ca.forEach(e=>{e.next()})}var Ah,Am;(Am=Ah||(Ah={})).Ma="default",Am.Cache="cache";class ny{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Hs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Hs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ah.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e){this.key=e}}class iy{constructor(e){this.key=e}}class t1{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Re(),this.mutatedKeys=Re(),this.eu=wg(e),this.tu=new bs(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new Sm,a=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,d=a,g=!1;const y=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,_=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((S,C)=>{const V=a.get(S),z=cu(this.query,C)?C:null,Z=!!V&&this.mutatedKeys.has(V.key),J=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let q=!1;V&&z?V.data.isEqual(z.data)?Z!==J&&(s.track({type:3,doc:z}),q=!0):this.su(V,z)||(s.track({type:2,doc:z}),q=!0,(y&&this.eu(z,y)>0||_&&this.eu(z,_)<0)&&(g=!0)):!V&&z?(s.track({type:0,doc:z}),q=!0):V&&!z&&(s.track({type:1,doc:V}),q=!0,(y||_)&&(g=!0)),q&&(z?(d=d.add(z),c=J?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),s.track({type:1,doc:S})}return{tu:d,iu:s,Cs:g,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort((S,C)=>function(z,Z){const J=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de(20277,{Rt:q})}};return J(z)-J(Z)}(S.type,C.type)||this.eu(S.doc,C.doc)),this.ou(s),a=a??!1;const g=n&&!a?this._u():[],y=this.Xa.size===0&&this.current&&!a?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new Hs(this.query,e.tu,c,d,e.mutatedKeys,y===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Sm,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Re(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return e.forEach(s=>{this.Xa.has(s)||n.push(new iy(s))}),this.Xa.forEach(s=>{e.has(s)||n.push(new ry(s))}),n}cu(e){this.Ya=e.Qs,this.Xa=Re();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Hs.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const rd="SyncEngine";class n1{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class r1{constructor(e){this.key=e,this.hu=!1}}class i1{constructor(e,n,s,a,c,d){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ui(g=>_g(g),uu),this.Iu=new Map,this.Eu=new Set,this.du=new Ze(he.comparator),this.Au=new Map,this.Ru=new Qh,this.Vu={},this.mu=new Map,this.fu=Bs.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function s1(i,e,n=!0){const s=cy(i);let a;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.lu()):a=await sy(s,e,n,!0),a}async function o1(i,e){const n=cy(i);await sy(n,e,!0,!1)}async function sy(i,e,n,s){const a=await RE(i.localStore,$n(e)),c=a.targetId,d=i.sharedClientState.addLocalQueryTarget(c,n);let g;return s&&(g=await a1(i,e,c,d==="current",a.resumeToken)),i.isPrimaryClient&&n&&Gg(i.remoteStore,a),g}async function a1(i,e,n,s,a){i.pu=(C,V,z)=>async function(J,q,Ee,ye){let ve=q.view.ru(Ee);ve.Cs&&(ve=await ym(J.localStore,q.query,!1).then(({documents:P})=>q.view.ru(P,ve)));const De=ye&&ye.targetChanges.get(q.targetId),Ue=ye&&ye.targetMismatches.get(q.targetId)!=null,ke=q.view.applyChanges(ve,J.isPrimaryClient,De,Ue);return Cm(J,q.targetId,ke.au),ke.snapshot}(i,C,V,z);const c=await ym(i.localStore,e,!0),d=new t1(e,c.Qs),g=d.ru(c.documents),y=da.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",a),_=d.applyChanges(g,i.isPrimaryClient,y);Cm(i,n,_.au);const S=new n1(e,n,d);return i.Tu.set(e,S),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),_.snapshot}async function l1(i,e,n){const s=ge(i),a=s.Tu.get(e),c=s.Iu.get(a.targetId);if(c.length>1)return s.Iu.set(a.targetId,c.filter(d=>!uu(d,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Sh(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Xh(s.remoteStore,a.targetId),Rh(s,a.targetId)}).catch(qs)):(Rh(s,a.targetId),await Sh(s.localStore,a.targetId,!0))}async function u1(i,e){const n=ge(i),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Xh(n.remoteStore,s.targetId))}async function c1(i,e,n){const s=y1(i);try{const a=await function(d,g){const y=ge(d),_=qe.now(),S=g.reduce((z,Z)=>z.add(Z.key),Re());let C,V;return y.persistence.runTransaction("Locally write mutations","readwrite",z=>{let Z=vr(),J=Re();return y.Ns.getEntries(z,S).next(q=>{Z=q,Z.forEach((Ee,ye)=>{ye.isValidDocument()||(J=J.add(Ee))})}).next(()=>y.localDocuments.getOverlayedDocuments(z,Z)).next(q=>{C=q;const Ee=[];for(const ye of g){const ve=A0(ye,C.get(ye.key).overlayedDocument);ve!=null&&Ee.push(new li(ye.key,ve,dg(ve.value.mapValue),Qn.exists(!0)))}return y.mutationQueue.addMutationBatch(z,_,Ee,g)}).next(q=>{V=q;const Ee=q.applyToLocalDocumentSet(C,J);return y.documentOverlayCache.saveOverlays(z,q.batchId,Ee)})}).then(()=>({batchId:V.batchId,changes:Tg(C)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(d,g,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new Ze(Ae)),_=_.insert(g,y),d.Vu[d.currentUser.toKey()]=_}(s,a.batchId,n),await pa(s,a.changes),await gu(s.remoteStore)}catch(a){const c=td(a,"Failed to persist write");n.reject(c)}}async function oy(i,e){const n=ge(i);try{const s=await SE(n.localStore,e);e.targetChanges.forEach((a,c)=>{const d=n.Au.get(c);d&&(Oe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?d.hu=!0:a.modifiedDocuments.size>0?Oe(d.hu,14607):a.removedDocuments.size>0&&(Oe(d.hu,42227),d.hu=!1))}),await pa(n,s,e)}catch(s){await qs(s)}}function Rm(i,e,n){const s=ge(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach((c,d)=>{const g=d.view.va(e);g.snapshot&&a.push(g.snapshot)}),function(d,g){const y=ge(d);y.onlineState=g;let _=!1;y.queries.forEach((S,C)=>{for(const V of C.Sa)V.va(g)&&(_=!0)}),_&&nd(y)}(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function h1(i,e,n){const s=ge(i);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),c=a&&a.key;if(c){let d=new Ze(he.comparator);d=d.insert(c,Ot.newNoDocument(c,pe.min()));const g=Re().add(c),y=new fu(pe.min(),new Map,new Ze(Ae),d,g);await oy(s,y),s.du=s.du.remove(c),s.Au.delete(e),id(s)}else await Sh(s.localStore,e,!1).then(()=>Rh(s,e,n)).catch(qs)}async function d1(i,e){const n=ge(i),s=e.batch.batchId;try{const a=await TE(n.localStore,e);ly(n,s,null),ay(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await pa(n,a)}catch(a){await qs(a)}}async function f1(i,e,n){const s=ge(i);try{const a=await function(d,g){const y=ge(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let S;return y.mutationQueue.lookupMutationBatch(_,g).next(C=>(Oe(C!==null,37113),S=C.keys(),y.mutationQueue.removeMutationBatch(_,C))).next(()=>y.mutationQueue.performConsistencyCheck(_)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(_,S,g)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S)).next(()=>y.localDocuments.getDocuments(_,S))})}(s.localStore,e);ly(s,e,n),ay(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await pa(s,a)}catch(a){await qs(a)}}function ay(i,e){(i.mu.get(e)||[]).forEach(n=>{n.resolve()}),i.mu.delete(e)}function ly(i,e,n){const s=ge(i);let a=s.Vu[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(n?c.reject(n):c.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function Rh(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach(s=>{i.Ru.containsKey(s)||uy(i,s)})}function uy(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(Xh(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),id(i))}function Cm(i,e,n){for(const s of n)s instanceof ry?(i.Ru.addReference(s.key,e),p1(i,s)):s instanceof iy?(te(rd,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||uy(i,s.key)):de(19791,{wu:s})}function p1(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(te(rd,"New document in limbo: "+n),i.Eu.add(s),id(i))}function id(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new he(Ye.fromString(e)),s=i.fu.next();i.Au.set(s,new r1(n)),i.du=i.du.insert(n,s),Gg(i.remoteStore,new Kr($n(lu(n.path)),s,"TargetPurposeLimboResolution",iu.ce))}}async function pa(i,e,n){const s=ge(i),a=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach((g,y)=>{d.push(s.pu(y,e,n).then(_=>{if((_||n)&&s.isPrimaryClient){const S=_?!_.fromCache:n?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,S?"current":"not-current")}if(_){a.push(_);const S=Gh.As(y.targetId,_);c.push(S)}}))}),await Promise.all(d),s.Pu.H_(a),await async function(y,_){const S=ge(y);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>U.forEach(_,V=>U.forEach(V.Es,z=>S.persistence.referenceDelegate.addReference(C,V.targetId,z)).next(()=>U.forEach(V.ds,z=>S.persistence.referenceDelegate.removeReference(C,V.targetId,z)))))}catch(C){if(!Gs(C))throw C;te(Kh,"Failed to update sequence numbers: "+C)}for(const C of _){const V=C.targetId;if(!C.fromCache){const z=S.Ms.get(V),Z=z.snapshotVersion,J=z.withLastLimboFreeSnapshotVersion(Z);S.Ms=S.Ms.insert(V,J)}}}(s.localStore,c))}async function m1(i,e){const n=ge(i);if(!n.currentUser.isEqual(e)){te(rd,"User change. New user:",e.toKey());const s=await Wg(n.localStore,e);n.currentUser=e,function(c,d){c.mu.forEach(g=>{g.forEach(y=>{y.reject(new ae($.CANCELLED,d))})}),c.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await pa(n,s.Ls)}}function g1(i,e){const n=ge(i),s=n.Au.get(e);if(s&&s.hu)return Re().add(s.key);{let a=Re();const c=n.Iu.get(e);if(!c)return a;for(const d of c){const g=n.Tu.get(d);a=a.unionWith(g.view.nu)}return a}}function cy(i){const e=ge(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=oy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=g1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=h1.bind(null,e),e.Pu.H_=ZE.bind(null,e.eventManager),e.Pu.yu=e1.bind(null,e.eventManager),e}function y1(i){const e=ge(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=d1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=f1.bind(null,e),e}class nu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pu(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return EE(this.persistence,new vE,e.initialUser,this.serializer)}Cu(e){return new Hg(qh.mi,this.serializer)}Du(e){return new kE}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nu.provider={build:()=>new nu};class v1 extends nu{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Oe(this.persistence.referenceDelegate instanceof eu,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new rE(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?qt.withCacheSize(this.cacheSizeBytes):qt.DEFAULT;return new Hg(s=>eu.mi(s,n),this.serializer)}}class Ch{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Rm(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=m1.bind(null,this.syncEngine),await XE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new YE}()}createDatastore(e){const n=pu(e.databaseInfo.databaseId),s=function(c){return new DE(c)}(e.databaseInfo);return function(c,d,g,y){return new OE(c,d,g,y)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,a,c,d,g){return new FE(s,a,c,d,g)}(this.localStore,this.datastore,e.asyncQueue,n=>Rm(this.syncEngine,n,0),function(){return wm.v()?new wm:new PE}())}createSyncEngine(e,n){return function(a,c,d,g,y,_,S){const C=new i1(a,c,d,g,y,_);return S&&(C.gu=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const s=ge(n);te(zi,"RemoteStore shutting down."),s.Ea.add(5),await fa(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ch.provider={build:()=>new Ch};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):yr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi="FirestoreClient";class _1{constructor(e,n,s,a,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=bt.UNAUTHENTICATED,this.clientId=Mh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{te(oi,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(te(oi,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=td(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function oh(i,e){i.asyncQueue.verifyOperationInProgress(),te(oi,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async a=>{s.isEqual(a)||(await Wg(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function km(i,e){i.asyncQueue.verifyOperationInProgress();const n=await w1(i);te(oi,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>Tm(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,a)=>Tm(e.remoteStore,a)),i._onlineComponents=e}async function w1(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){te(oi,"Using user provided OfflineComponentProvider");try{await oh(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===$.FAILED_PRECONDITION||a.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;js("Error using user provided cache. Falling back to memory cache: "+n),await oh(i,new nu)}}else te(oi,"Using default OfflineComponentProvider"),await oh(i,new v1(void 0));return i._offlineComponents}async function dy(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(te(oi,"Using user provided OnlineComponentProvider"),await km(i,i._uninitializedComponentsProvider._online)):(te(oi,"Using default OnlineComponentProvider"),await km(i,new Ch))),i._onlineComponents}function E1(i){return dy(i).then(e=>e.syncEngine)}async function kh(i){const e=await dy(i),n=e.eventManager;return n.onListen=s1.bind(null,e.syncEngine),n.onUnlisten=l1.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=o1.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=u1.bind(null,e.syncEngine),n}function T1(i,e,n={}){const s=new Zr;return i.asyncQueue.enqueueAndForget(async()=>function(c,d,g,y,_){const S=new hy({next:V=>{S.Nu(),d.enqueueAndForget(()=>ty(c,C));const z=V.docs.has(g);!z&&V.fromCache?_.reject(new ae($.UNAVAILABLE,"Failed to get document because the client is offline.")):z&&V.fromCache&&y&&y.source==="server"?_.reject(new ae($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(V)},error:V=>_.reject(V)}),C=new ny(lu(g.path),S,{includeMetadataChanges:!0,qa:!0});return ey(c,C)}(await kh(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py="firestore.googleapis.com",Nm=!0;class xm{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ae($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=py,this.ssl=Nm}else this.host=e.host,this.ssl=e.ssl??Nm;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Bg;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tE)throw new ae($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fy(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ae($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ae($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ae($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sd{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xm({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xm(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Cw;switch(s.type){case"firstParty":return new xw(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ae($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Pm.get(n);s&&(te("ComponentProvider","Removing Datastore"),Pm.delete(n),s.terminate())}(this),Promise.resolve()}}function S1(i,e,n,s={}){i=Wn(i,sd);const a=Vh(e),c=i._getSettings(),d={...c,emulatorOptions:i._getEmulatorOptions()},g=`${e}:${n}`;a&&(n_(`https://${g}`),o_("Firestore",!0)),c.host!==py&&c.host!==g&&js("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:g,ssl:a,emulatorOptions:s};if(!Hl(y,d)&&(i._setSettings(y),s.mockUserToken)){let _,S;if(typeof s.mockUserToken=="string")_=s.mockUserToken,S=bt.MOCK_USER;else{_=r_(s.mockUserToken,i._app?.options.projectId);const C=s.mockUserToken.sub||s.mockUserToken.user_id;if(!C)throw new ae($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new bt(C)}i._authCredentials=new kw(new tg(_,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new yu(this.firestore,e,this._query)}}class ht{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ua(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ht(this.firestore,e,this._key)}toJSON(){return{type:ht._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(ca(n,ht._jsonSchema))return new ht(e,s||null,new he(Ye.fromString(n.referencePath)))}}ht._jsonSchemaVersion="firestore/documentReference/1.0",ht._jsonSchema={type:ct("string",ht._jsonSchemaVersion),referencePath:ct("string")};class ua extends yu{constructor(e,n,s){super(e,n,lu(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ht(this.firestore,null,new he(e))}withConverter(e){return new ua(this.firestore,e,this._path)}}function vu(i,e,...n){if(i=ei(i),arguments.length===1&&(e=Mh.newId()),Ow("doc","path",e),i instanceof sd){const s=Ye.fromString(e,...n);return $p(s),new ht(i,null,new he(s))}{if(!(i instanceof ht||i instanceof ua))throw new ae($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Ye.fromString(e,...n));return $p(s),new ht(i.firestore,i instanceof ua?i.converter:null,new he(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="AsyncQueue";class Dm{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Qg(this,"async_queue_retry"),this._c=()=>{const s=sh();s&&te(Vm,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=sh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=sh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Zr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Gs(e))throw e;te(Vm,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,yr("INTERNAL UNHANDLED ERROR: ",Lm(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=ed.createAndSchedule(this,e,n,s,c=>this.hc(c));return this.tc.push(a),a}uc(){this.nc&&de(47125,{Pc:Lm(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Lm(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(i){return function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const c of s)if(c in a&&typeof a[c]=="function")return!0;return!1}(i,["next","error","complete"])}class Ws extends sd{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new Dm,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Dm(e),this._firestoreClient=void 0,await e}}}function I1(i,e){const n=typeof i=="object"?i:gw(),s=typeof i=="string"?i:ql,a=hw(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=e_("firestore");c&&S1(a,...c)}return a}function od(i){if(i._terminated)throw new ae($.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||A1(i),i._firestoreClient}function A1(i){const e=i._freezeSettings(),n=function(a,c,d,g){return new Kw(a,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,fy(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new _1(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&function(a){const c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pn(kt.fromBase64String(e))}catch(n){throw new ae($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new pn(kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ca(e,pn._jsonSchema))return pn.fromBase64String(e.bytes)}}pn._jsonSchemaVersion="firestore/bytes/1.0",pn._jsonSchema={type:ct("string",pn._jsonSchemaVersion),bytes:ct("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ae($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ae(this._lat,e._lat)||Ae(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Gn._jsonSchemaVersion}}static fromJSON(e){if(ca(e,Gn._jsonSchema))return new Gn(e.latitude,e.longitude)}}Gn._jsonSchemaVersion="firestore/geoPoint/1.0",Gn._jsonSchema={type:ct("string",Gn._jsonSchemaVersion),latitude:ct("number"),longitude:ct("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==a[c])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Kn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ca(e,Kn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Kn(e.vectorValues);throw new ae($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Kn._jsonSchemaVersion="firestore/vectorValue/1.0",Kn._jsonSchema={type:ct("string",Kn._jsonSchemaVersion),vectorValues:ct("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1=/^__.*__$/;class C1{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new li(e,this.data,this.fieldMask,n,this.fieldTransforms):new ha(e,this.data,n,this.fieldTransforms)}}class my{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new li(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function gy(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de(40011,{Ac:i})}}class ld{constructor(e,n,s,a,c,d){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ld({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ru(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(gy(this.Ac)&&R1.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class k1{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||pu(e)}Cc(e,n,s,a=!1){return new ld({Ac:e,methodName:n,Dc:s,path:Ct.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yy(i){const e=i._freezeSettings(),n=pu(i._databaseId);return new k1(i._databaseId,!!e.ignoreUndefinedProperties,n)}function P1(i,e,n,s,a,c={}){const d=i.Cc(c.merge||c.mergeFields?2:0,e,n,a);ud("Data must be an object, but it was:",d,s);const g=vy(s,d);let y,_;if(c.merge)y=new sn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const C of c.mergeFields){const V=Ph(e,C,n);if(!d.contains(V))throw new ae($.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);wy(S,V)||S.push(V)}y=new sn(S),_=d.fieldTransforms.filter(C=>y.covers(C.field))}else y=null,_=d.fieldTransforms;return new C1(new Gt(g),y,_)}class wu extends ad{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wu}}function N1(i,e,n,s){const a=i.Cc(1,e,n);ud("Data must be an object, but it was:",a,s);const c=[],d=Gt.empty();ai(s,(y,_)=>{const S=cd(e,y,n);_=ei(_);const C=a.yc(S);if(_ instanceof wu)c.push(S);else{const V=Eu(_,C);V!=null&&(c.push(S),d.set(S,V))}});const g=new sn(c);return new my(d,g,a.fieldTransforms)}function x1(i,e,n,s,a,c){const d=i.Cc(1,e,n),g=[Ph(e,s,n)],y=[a];if(c.length%2!=0)throw new ae($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<c.length;V+=2)g.push(Ph(e,c[V])),y.push(c[V+1]);const _=[],S=Gt.empty();for(let V=g.length-1;V>=0;--V)if(!wy(_,g[V])){const z=g[V];let Z=y[V];Z=ei(Z);const J=d.yc(z);if(Z instanceof wu)_.push(z);else{const q=Eu(Z,J);q!=null&&(_.push(z),S.set(z,q))}}const C=new sn(_);return new my(S,C,d.fieldTransforms)}function Eu(i,e){if(_y(i=ei(i)))return ud("Unsupported field value:",e,i),vy(i,e);if(i instanceof ad)return function(s,a){if(!gy(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(a);c&&a.fieldTransforms.push(c)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,a){const c=[];let d=0;for(const g of s){let y=Eu(g,a.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}}(i,e)}return function(s,a){if((s=ei(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return _0(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=qe.fromDate(s);return{timestampValue:Zl(a.serializer,c)}}if(s instanceof qe){const c=new qe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Zl(a.serializer,c)}}if(s instanceof Gn)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof pn)return{bytesValue:Mg(a.serializer,s._byteString)};if(s instanceof ht){const c=a.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw a.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:$h(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Kn)return function(d,g){return{mapValue:{fields:{[cg]:{stringValue:hg},[Gl]:{arrayValue:{values:d.toArray().map(_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Bh(g.serializer,_)})}}}}}}(s,a);throw a.Sc(`Unsupported field value: ${bh(s)}`)}(i,e)}function vy(i,e){const n={};return ig(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ai(i,(s,a)=>{const c=Eu(a,e.mc(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function _y(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof qe||i instanceof Gn||i instanceof pn||i instanceof ht||i instanceof ad||i instanceof Kn)}function ud(i,e,n){if(!_y(n)||!ng(n)){const s=bh(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function Ph(i,e,n){if((e=ei(e))instanceof _u)return e._internalPath;if(typeof e=="string")return cd(i,e);throw ru("Field path arguments must be of type string or ",i,!1,void 0,n)}const V1=new RegExp("[~\\*/\\[\\]]");function cd(i,e,n){if(e.search(V1)>=0)throw ru(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new _u(...e.split("."))._internalPath}catch{throw ru(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function ru(i,e,n,s,a){const c=s&&!s.isEmpty(),d=a!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${s}`),d&&(y+=` in document ${a}`),y+=")"),new ae($.INVALID_ARGUMENT,g+i+y)}function wy(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,n,s,a,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new D1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ty("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class D1 extends Ey{data(){return super.data()}}function Ty(i,e){return typeof e=="string"?cd(i,e):e instanceof _u?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ae($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class M1{convertValue(e,n="none"){switch(ii(e)){case 0:return null;case 1:return e.booleanValue;case 2:return st(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ri(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw de(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ai(e,(a,c)=>{s[a]=this.convertValue(c,n)}),s}convertVectorValue(e){const n=e.fields?.[Gl].arrayValue?.values?.map(s=>st(s.doubleValue));return new Kn(n)}convertGeoPoint(e){return new Gn(st(e.latitude),st(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=ou(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ia(e));default:return null}}convertTimestamp(e){const n=ni(e);return new qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Ye.fromString(e);Oe(Ug(s),9688,{name:e});const a=new sa(s.get(1),s.get(3)),c=new he(s.popFirst(5));return a.isEqual(n)||yr(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class Ko{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ji extends Ey{constructor(e,n,s,a,c,d){super(e,n,s,a,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ul(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Ty("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ae($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ji._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ji._jsonSchemaVersion="firestore/documentSnapshot/1.0",ji._jsonSchema={type:ct("string",ji._jsonSchemaVersion),bundleSource:ct("string","DocumentSnapshot"),bundleName:ct("string"),bundle:ct("string")};class Ul extends ji{data(e={}){return super.data(e)}}class Os{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Ko(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Ul(this._firestore,this._userDataWriter,s.key,s,new Ko(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ae($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,c){if(a._snapshot.oldDocs.isEmpty()){let d=0;return a._snapshot.docChanges.map(g=>{const y=new Ul(a._firestore,a._userDataWriter,g.doc.key,g.doc,new Ko(a._snapshot.mutatedKeys.has(g.doc.key),a._snapshot.fromCache),a.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}})}{let d=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const y=new Ul(a._firestore,a._userDataWriter,g.doc.key,g.doc,new Ko(a._snapshot.mutatedKeys.has(g.doc.key),a._snapshot.fromCache),a.query.converter);let _=-1,S=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),S=d.indexOf(g.doc.key)),{type:O1(g.type),doc:y,oldIndex:_,newIndex:S}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ae($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Os._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Mh.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach(c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),a.push(c.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function O1(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(i){i=Wn(i,ht);const e=Wn(i.firestore,Ws);return T1(od(e),i._key).then(n=>Ry(e,i,n))}Os._jsonSchemaVersion="firestore/querySnapshot/1.0",Os._jsonSchema={type:ct("string",Os._jsonSchemaVersion),bundleSource:ct("string","QuerySnapshot"),bundleName:ct("string"),bundle:ct("string")};class Iy extends M1{constructor(e){super(),this.firestore=e}convertBytes(e){return new pn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ht(this.firestore,null,n)}}function j1(i,e,n){i=Wn(i,ht);const s=Wn(i.firestore,Ws),a=b1(i.converter,e);return Ay(s,[P1(yy(s),"setDoc",i._key,a,i.converter!==null,n).toMutation(i._key,Qn.none())])}function F1(i,e,n,...s){i=Wn(i,ht);const a=Wn(i.firestore,Ws),c=yy(a);let d;return d=typeof(e=ei(e))=="string"||e instanceof _u?x1(c,"updateDoc",i._key,e,n,s):N1(c,"updateDoc",i._key,e),Ay(a,[d.toMutation(i._key,Qn.exists(!0))])}function z1(i,...e){i=ei(i);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Mm(e[s])||(n=e[s++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Mm(e[s])){const y=e[s];e[s]=y.next?.bind(y),e[s+1]=y.error?.bind(y),e[s+2]=y.complete?.bind(y)}let c,d,g;if(i instanceof ht)d=Wn(i.firestore,Ws),g=lu(i._key.path),c={next:y=>{e[s]&&e[s](Ry(d,i,y))},error:e[s+1],complete:e[s+2]};else{const y=Wn(i,yu);d=Wn(y.firestore,Ws),g=y._query;const _=new Iy(d);c={next:S=>{e[s]&&e[s](new Os(d,_,y,S))},error:e[s+1],complete:e[s+2]},L1(i._query)}return function(_,S,C,V){const z=new hy(V),Z=new ny(S,z,C);return _.asyncQueue.enqueueAndForget(async()=>ey(await kh(_),Z)),()=>{z.Nu(),_.asyncQueue.enqueueAndForget(async()=>ty(await kh(_),Z))}}(od(d),g,a,c)}function Ay(i,e){return function(s,a){const c=new Zr;return s.asyncQueue.enqueueAndForget(async()=>c1(await E1(s),a,c)),c.promise}(od(i),e)}function Ry(i,e,n){const s=n.docs.get(e._key),a=new Iy(i);return new ji(i,a,e._key,s,new Ko(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){Qs=a})(mw),$l(new ta("firestore",(s,{instanceIdentifier:a,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new Ws(new Pw(s.getProvider("auth-internal")),new Vw(d,s.getProvider("app-check-internal")),function(_,S){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ae($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sa(_.options.projectId,S)}(d,a),d);return c={useFetchStreams:n,...c},g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),Ms(Up,Bp,e),Ms(Up,Bp,"esm2020")})();var U1="firebase",B1="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ms(U1,B1,"app");const H1={apiKey:"AIzaSyAbddYCH65EHCTRluFHe4FOE6J5z9yBLxw",authDomain:"jogo-arquivo-morto.firebaseapp.com",projectId:"jogo-arquivo-morto",storageBucket:"jogo-arquivo-morto.firebasestorage.app",messagingSenderId:"24019872660",appId:"1:24019872660:web:bda2b9dacc0530f48b7d81"},W1=$m(H1),Tu=I1(W1),$1={mode:"numbers",numSelected:null,numHidden:!1,numRevealed:!1,cardSrc:"/assets/verso.png",cardSpinning:!1,wordsSelected:[],wordsRevealed:!1,lastUpdate:Date.now()},Q1=["Chuva","Nevoeiro","Sombra","Luz","Rudo","Silncio","Frio","Calor","Poeira","Cinza","Ecos","Escurido","Reflexo","Vazio","Cheiro","Sangue","Vidro","Metal","Ferrugem","Papel","Chave","Fio","Relgio","Espelho","Mquina","Faca","Veneno","Dinheiro","Carta","Telefone","Verdade","Mentira","Segredo","Culpa","Inocncia","Tempo","Passado","Futuro","Destino","Acaso","Lei","Caos","Poder","Sonho","Pesadelo","Medo","Raiva","Desejo","Vingana","Fuga","Busca","Perda","Espera","Queda","Olhar","Toque","Grito","Sussurro","Solido","Loucura","Vtima","Assassino","Testemunha","Criana","Velho","Mulher","Homem","Casa","Rua","Priso","Hospital","Floresta","Mar","Ponte","Janela","Incio","Fim","Sempre","Nunca","Talvez","Antes","Depois","Dentro","Fora","Alto","Baixo","Rpido","Lento","Tudo","Nada"],Su="rooms";function q1(){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let e="";for(let n=0;n<6;n++)e+=i.charAt(Math.floor(Math.random()*i.length));return e}async function G1(){const i=q1(),e=vu(Tu,Su,i),n={id:i,gameState:$1,createdAt:Date.now()};return await j1(e,n),i}async function K1(i){const e=vu(Tu,Su,i.toUpperCase()),n=await Sy(e);return n.exists()?n.data():null}async function bm(i,e){const n=vu(Tu,Su,i.toUpperCase());await F1(n,{gameState:{...(await Sy(n)).data()?.gameState,...e,lastUpdate:Date.now()}})}function X1(i,e){const n=vu(Tu,Su,i.toUpperCase());return z1(n,s=>{if(s.exists()){const a=s.data();e(a.gameState)}})}function J1({onJoinRoom:i}){const[e,n]=pt.useState(""),[s,a]=pt.useState(!1),[c,d]=pt.useState(""),g=async()=>{a(!0),d("");try{const _=await G1();i(_)}catch(_){d("Erro ao criar sala. Tente novamente."),console.error(_)}finally{a(!1)}},y=async()=>{if(!e.trim()){d("Digite um cdigo vlido");return}a(!0),d("");try{const _=await K1(e);_?i(_.id):d("Sala no encontrada")}catch(_){d("Erro ao entrar na sala. Tente novamente."),console.error(_)}finally{a(!1)}};return W.jsxs("div",{className:"fixed inset-0 z-50 bg-black flex flex-col items-center justify-center p-4","data-yw":"c3JjL2NvbXBvbmVudHMvTG9iYnkudHN4QDUxOjQ","data-yw-s":!0,children:[W.jsx("div",{className:"absolute inset-0 bg-[url('/assets/fundo.png')] bg-cover bg-center opacity-50","data-yw":"c3JjL2NvbXBvbmVudHMvTG9iYnkudHN4QDUyOjY","data-yw-s":!0}),W.jsx("div",{className:"absolute inset-0 bg-black opacity-60","data-yw":"c3JjL2NvbXBvbmVudHMvTG9iYnkudHN4QDUzOjY","data-yw-s":!0}),W.jsxs("div",{className:"relative z-10 w-full max-w-md","data-yw":"c3JjL2NvbXBvbmVudHMvTG9iYnkudHN4QDU1OjY","data-yw-s":!0,children:[W.jsx("img",{src:"/assets/logo.png",alt:"Arquivo Morto",className:"h-32 md:h-40 object-contain mb-8 mx-auto drop-shadow-2xl logo-breath","data-yw":"c3JjL2NvbXBvbmVudHMvTG9iYnkudHN4QDU2Ojg","data-yw-i":!0,"data-yw-s":!0}),W.jsxs("div",{className:"bg-gray-900/90 backdrop-blur-sm border-2 border-red-800 p-6 rounded-lg shadow-2xl","data-yw":"c3JjL2NvbXBvbmVudHMvTG9iYnkudHN4QDYyOjg","data-yw-s":!0,children:[W.jsx("h2",{className:"text-2xl font-bold text-red-500 mb-6 text-center uppercase tracking-wider","data-yw":"c3JjL2NvbXBvbmVudHMvTG9iYnkudHN4QDYzOjEw","data-yw-t":!0,"data-yw-s":!0,children:"Sistema Multiplayer"}),c&&W.jsx("div",{className:"bg-red-900/50 border border-red-600 text-red-200 px-4 py-2 mb-4 rounded text-sm","data-yw":"c3JjL2NvbXBvbmVudHMvTG9iYnkudHN4QDY4OjEy","data-yw-s":!0,children:c}),W.jsxs("div",{className:"space-y-4","data-yw":"c3JjL2NvbXBvbmVudHMvTG9iYnkudHN4QDczOjEw","data-yw-s":!0,children:[W.jsx("button",{onClick:g,disabled:s,className:"w-full px-6 py-4 bg-red-800 text-white font-bold text-lg uppercase tracking-wider hover:bg-red-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed border-b-4 border-red-950 active:border-b-0 active:translate-y-1","data-yw":"c3JjL2NvbXBvbmVudHMvTG9iYnkudHN4QDc0OjEy","data-yw-s":!0,children:s?"Criando...":"Criar Nova Sala"}),W.jsxs("div",{className:"relative","data-yw":"c3JjL2NvbXBvbmVudHMvTG9iYnkudHN4QDgyOjEy","data-yw-s":!0,children:[W.jsx("div",{className:"absolute inset-0 flex items-center","data-yw":"c3JjL2NvbXBvbmVudHMvTG9iYnkudHN4QDgzOjE0","data-yw-s":!0,children:W.jsx("div",{className:"w-full border-t border-gray-700","data-yw":"c3JjL2NvbXBvbmVudHMvTG9iYnkudHN4QDg0OjE2","data-yw-s":!0})}),W.jsx("div",{className:"relative flex justify-center text-sm","data-yw":"c3JjL2NvbXBvbmVudHMvTG9iYnkudHN4QDg2OjE0","data-yw-s":!0,children:W.jsx("span",{className:"px-2 bg-gray-900 text-gray-500 uppercase tracking-wider","data-yw":"c3JjL2NvbXBvbmVudHMvTG9iYnkudHN4QDg3OjE2","data-yw-t":!0,"data-yw-s":!0,children:"Ou"})})]}),W.jsxs("div",{"data-yw":"c3JjL2NvbXBvbmVudHMvTG9iYnkudHN4QDkxOjEy","data-yw-s":!0,children:[W.jsx("input",{type:"text",placeholder:"CDIGO DA SALA",value:e,onChange:_=>n(_.target.value.toUpperCase()),maxLength:6,className:"w-full px-4 py-3 bg-black/50 border-2 border-gray-700 text-white text-center text-xl font-bold uppercase tracking-widest focus:outline-none focus:border-red-600 rounded mb-3","data-yw":"c3JjL2NvbXBvbmVudHMvTG9iYnkudHN4QDkyOjE0","data-yw-s":!0}),W.jsx("button",{onClick:y,disabled:s||!e.trim(),className:"w-full px-6 py-3 bg-gray-800 text-white font-bold uppercase tracking-wider hover:bg-gray-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed border-b-4 border-gray-950 active:border-b-0 active:translate-y-1","data-yw":"c3JjL2NvbXBvbmVudHMvTG9iYnkudHN4QDEwMDoxNA","data-yw-s":!0,children:s?"Entrando...":"Entrar na Sala"})]})]})]}),W.jsx("div",{className:"text-center mt-6 text-gray-500 text-xs font-mono","data-yw":"c3JjL2NvbXBvbmVudHMvTG9iYnkudHN4QDExMTo4","data-yw-t":!0,"data-yw-s":!0,children:"SISTEMA SEGURO v3.1 | CONEXO CRIPTOGRAFADA"})]})]})}function Y1({currentMode:i,onChangeMode:e}){const n=[{id:"numbers",label:"1. Evidncia Numrica"},{id:"cards",label:"2. Cartas"},{id:"words",label:"3. Palavras"}];return W.jsx("div",{className:"flex flex-wrap gap-2 md:gap-4 w-full justify-center","data-yw":"c3JjL2NvbXBvbmVudHMvTW9kZVRhYnMudHN4QDE2OjQ","data-yw-s":!0,children:n.map(s=>{const a=i===s.id;return W.jsx("button",{onClick:()=>e(s.id),className:`px-4 py-2 text-xs md:text-sm font-bold uppercase tracking-wider border-b-4 transition-all ${a?"bg-gray-800 text-white border-gray-950":"bg-gray-300 text-gray-700 border-gray-400 hover:bg-gray-400"}`,"data-yw":"c3JjL2NvbXBvbmVudHMvTW9kZVRhYnMudHN4QDIwOjEw","data-yw-s":!0,children:s.label},s.id)})})}function Z1({state:i,onUpdate:e}){const n=[1,2,3,4,5,6],s=y=>{e({numSelected:y})},a=()=>{e({numHidden:!0})},c=()=>{e({numRevealed:!0})},d=()=>{e({numSelected:null,numHidden:!1,numRevealed:!1})},g=()=>i.numRevealed?"CASO REABERTO: Evidncia revelada.":i.numHidden?"Evidncia arquivada. Aguardando revelao...":i.numSelected?`Evidncia ${i.numSelected} selecionada.`:"Selecione uma evidncia numrica.";return W.jsxs("div",{className:"w-full flex flex-col items-center flex-grow","data-yw":"c3JjL2NvbXBvbmVudHMvTW9kZU51bWJlcnMudHN4QDM1OjQ","data-yw-s":!0,children:[W.jsx("div",{className:"mb-6 h-8 text-center font-bold text-lg text-slate-800","data-yw":"c3JjL2NvbXBvbmVudHMvTW9kZU51bWJlcnMudHN4QDM2OjY","data-yw-s":!0,children:g()}),!i.numHidden&&!i.numRevealed&&W.jsx("div",{className:"grid grid-cols-3 gap-4 mb-8 w-full max-w-md","data-yw":"c3JjL2NvbXBvbmVudHMvTW9kZU51bWJlcnMudHN4QDQyOjg","data-yw-s":!0,children:n.map(y=>W.jsxs("button",{onClick:()=>s(y),className:`group relative h-24 border-2 transition-all focus:outline-none ${i.numSelected===y?"bg-yellow-200 border-yellow-600 ring-2 ring-yellow-500":"bg-gray-200 border-gray-800 hover:bg-gray-300"}`,"data-yw":"c3JjL2NvbXBvbmVudHMvTW9kZU51bWJlcnMudHN4QDQ0OjEy","data-yw-s":!0,children:[W.jsx("span",{className:"absolute top-1 left-2 text-xs font-bold text-gray-500","data-yw":"c3JjL2NvbXBvbmVudHMvTW9kZU51bWJlcnMudHN4QDUzOjE0","data-yw-t":!0,"data-yw-s":!0,children:"EVIDNCIA"}),W.jsx("span",{className:"text-4xl font-bold title-font group-hover:scale-110 transition-transform block","data-yw":"c3JjL2NvbXBvbmVudHMvTW9kZU51bWJlcnMudHN4QDU2OjE0","data-yw-s":!0,children:y})]},y))}),i.numHidden&&!i.numRevealed&&W.jsxs("div",{className:"w-full max-w-md h-64 border-4 border-double border-red-900 flex items-center justify-center relative bg-gray-200 mb-8","data-yw":"c3JjL2NvbXBvbmVudHMvTW9kZU51bWJlcnMudHN4QDY2Ojg","data-yw-s":!0,children:[W.jsx("div",{className:"absolute inset-0 opacity-10 bg-[url('https://www.transparenttextures.com/patterns/diagmonds-light.png')]","data-yw":"c3JjL2NvbXBvbmVudHMvTW9kZU51bWJlcnMudHN4QDY3OjEw","data-yw-s":!0}),W.jsx("div",{className:"stamp-animate border-4 border-red-800 text-red-800 p-2 font-bold text-2xl uppercase tracking-widest title-font transform rotate-[-15deg]","data-yw":"c3JjL2NvbXBvbmVudHMvTW9kZU51bWJlcnMudHN4QDY4OjEw","data-yw-t":!0,"data-yw-s":!0,children:"Confidencial"})]}),i.numRevealed&&W.jsxs("div",{className:"w-full max-w-md h-64 flex flex-col items-center justify-center mb-8 relative","data-yw":"c3JjL2NvbXBvbmVudHMvTW9kZU51bWJlcnMudHN4QDc2Ojg","data-yw-s":!0,children:[W.jsx("p",{className:"text-sm uppercase tracking-widest mb-2","data-yw":"c3JjL2NvbXBvbmVudHMvTW9kZU51bWJlcnMudHN4QDc3OjEw","data-yw-t":!0,"data-yw-s":!0,children:"A evidncia selecionada foi:"}),W.jsx("div",{className:"w-32 h-32 bg-yellow-400 text-black border-4 border-black flex items-center justify-center shadow-lg transform rotate-2","data-yw":"c3JjL2NvbXBvbmVudHMvTW9kZU51bWJlcnMudHN4QDc4OjEw","data-yw-s":!0,children:W.jsx("span",{className:"text-6xl font-bold title-font","data-yw":"c3JjL2NvbXBvbmVudHMvTW9kZU51bWJlcnMudHN4QDc5OjEy","data-yw-s":!0,children:i.numSelected})}),W.jsx("div",{className:"mt-4 w-full h-4 crime-tape","data-yw":"c3JjL2NvbXBvbmVudHMvTW9kZU51bWJlcnMudHN4QDgxOjEw","data-yw-s":!0})]}),W.jsxs("div",{className:"flex flex-wrap gap-4 justify-center w-full mt-auto","data-yw":"c3JjL2NvbXBvbmVudHMvTW9kZU51bWJlcnMudHN4QDg2OjY","data-yw-s":!0,children:[!i.numHidden&&!i.numRevealed&&W.jsx("button",{onClick:a,disabled:!i.numSelected,className:"px-6 py-3 bg-gray-800 text-white font-bold tracking-wider hover:bg-gray-700 border-b-4 border-gray-950 active:border-b-0 active:translate-y-1 disabled:opacity-50 disabled:cursor-not-allowed","data-yw":"c3JjL2NvbXBvbmVudHMvTW9kZU51bWJlcnMudHN4QDg4OjEw","data-yw-t":!0,"data-yw-s":!0,children:"OCULTAR"}),i.numHidden&&!i.numRevealed&&W.jsx("button",{onClick:c,className:"px-6 py-3 bg-red-800 text-white font-bold tracking-wider hover:bg-red-700 border-b-4 border-red-950 active:border-b-0 active:translate-y-1 animate-pulse","data-yw":"c3JjL2NvbXBvbmVudHMvTW9kZU51bWJlcnMudHN4QDk4OjEw","data-yw-t":!0,"data-yw-s":!0,children:"MOSTRAR"}),W.jsx("button",{onClick:d,className:"px-6 py-3 bg-yellow-600 text-white font-bold tracking-wider hover:bg-yellow-500 border-b-4 border-yellow-800 active:border-b-0 active:translate-y-1","data-yw":"c3JjL2NvbXBvbmVudHMvTW9kZU51bWJlcnMudHN4QDEwNjo4","data-yw-t":!0,"data-yw-s":!0,children:"RESTAURAR"})]})]})}function eT({state:i,onUpdate:e}){const[n,s]=pt.useState(!1);pt.useEffect(()=>{if(i.cardSpinning){s(!0);const g=setTimeout(()=>{s(!1)},3e3);return()=>clearTimeout(g)}},[i.cardSpinning]);const a=async()=>{n||(e({cardSpinning:!0}),setTimeout(()=>{const y=`/assets/cards/${Math.floor(Math.random()*60)+1}.png`;e({cardSpinning:!1,cardSrc:y})},3e3))},c=()=>i.cardSpinning?"Sincronizando banco de dados...":i.cardSrc.includes("verso.png")?"Arquivo de Imagens: Solicitar anlise.":"Arquivo recuperado.",d=()=>i.cardSrc.includes("verso.png")?"INVESTIGAR ARQUIVO":"INVESTIGAR NOVA CARTA";return W.jsxs("div",{className:"w-full flex flex-col items-center flex-grow perspective-container","data-yw":"c3JjL2NvbXBvbmVudHMvTW9kZUNhcmRzLnRzeEA1MTo0","data-yw-s":!0,children:[W.jsx("div",{className:"mb-4 h-8 text-center font-bold text-lg text-slate-800","data-yw":"c3JjL2NvbXBvbmVudHMvTW9kZUNhcmRzLnRzeEA1Mjo2","data-yw-s":!0,children:c()}),W.jsx("div",{className:"flex-grow flex items-center justify-center w-full mb-6","data-yw":"c3JjL2NvbXBvbmVudHMvTW9kZUNhcmRzLnRzeEA1Njo2","data-yw-s":!0,children:W.jsx("div",{className:"relative w-64 h-96 bg-gray-200 border-4 border-gray-800 shadow-2xl rounded-lg p-2 bg-white flex items-center justify-center overflow-hidden","data-yw":"c3JjL2NvbXBvbmVudHMvTW9kZUNhcmRzLnRzeEA1Nzo4","data-yw-s":!0,children:W.jsx("img",{src:i.cardSrc,alt:"Carta",className:`w-full h-full object-cover rounded shadow-inner ${n?"card-spinning":""}`,"data-yw":"c3JjL2NvbXBvbmVudHMvTW9kZUNhcmRzLnRzeEA1ODoxMA","data-yw-s":!0})})}),W.jsx("div",{className:"flex flex-wrap gap-4 justify-center w-full mt-auto","data-yw":"c3JjL2NvbXBvbmVudHMvTW9kZUNhcmRzLnRzeEA2ODo2","data-yw-s":!0,children:W.jsx("button",{onClick:a,disabled:n,className:`px-8 py-4 bg-gray-800 text-white font-bold text-xl tracking-widest hover:bg-gray-700 transition-colors border-b-4 border-gray-950 active:border-b-0 active:translate-y-1 shadow-lg ${n?"opacity-50 cursor-not-allowed":""}`,"data-yw":"c3JjL2NvbXBvbmVudHMvTW9kZUNhcmRzLnRzeEA2OTo4","data-yw-s":!0,children:d()})})]})}function tT({state:i,onUpdate:e}){const n=d=>{let g=[...i.wordsSelected];g.includes(d)?g=g.filter(y=>y!==d):g.length<2&&g.push(d),e({wordsSelected:g})},s=()=>{i.wordsSelected.length===2&&e({wordsRevealed:!0})},a=()=>{e({wordsSelected:[],wordsRevealed:!1})},c=()=>i.wordsRevealed?"ASSOCIAO CONFIRMADA":`Selecione exatamente 2 palavras (${i.wordsSelected.length}/2)`;return W.jsxs("div",{className:"w-full flex flex-col items-center flex-grow","data-yw":"c3JjL2NvbXBvbmVudHMvTW9kZVdvcmRzLnRzeEAzNzo0","data-yw-s":!0,children:[W.jsx("div",{className:"mb-4 h-8 text-center font-bold text-lg text-slate-800","data-yw":"c3JjL2NvbXBvbmVudHMvTW9kZVdvcmRzLnRzeEAzODo2","data-yw-s":!0,children:c()}),!i.wordsRevealed&&W.jsx("div",{className:"w-full max-w-3xl word-list-container overflow-y-auto max-h-[400px] border border-gray-400 p-2 bg-white bg-opacity-50 mb-6","data-yw":"c3JjL2NvbXBvbmVudHMvTW9kZVdvcmRzLnRzeEA0Mzo4","data-yw-s":!0,children:W.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-2","data-yw":"c3JjL2NvbXBvbmVudHMvTW9kZVdvcmRzLnRzeEA0NDoxMA","data-yw-s":!0,children:Q1.map(d=>{const g=i.wordsSelected.includes(d);return W.jsx("button",{onClick:()=>n(d),className:`text-xs md:text-sm p-2 border font-mono transition-colors truncate ${g?"bg-yellow-400 border-black font-bold":"border-gray-400 bg-gray-100 hover:bg-yellow-100"}`,"data-yw":"c3JjL2NvbXBvbmVudHMvTW9kZVdvcmRzLnRzeEA0ODoxNg","data-yw-s":!0,children:d},d)})})}),i.wordsRevealed&&W.jsxs("div",{className:"w-full flex-grow flex flex-col items-center justify-center relative min-h-[300px]","data-yw":"c3JjL2NvbXBvbmVudHMvTW9kZVdvcmRzLnRzeEA2Njo4","data-yw-s":!0,children:[W.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-10 pointer-events-none","data-yw":"c3JjL2NvbXBvbmVudHMvTW9kZVdvcmRzLnRzeEA2NzoxMA","data-yw-s":!0,children:W.jsx("span",{className:"text-9xl font-bold text-red-900 rotate-[-30deg]","data-yw":"c3JjL2NvbXBvbmVudHMvTW9kZVdvcmRzLnRzeEA2ODoxMg","data-yw-t":!0,"data-yw-s":!0,children:"CONFIDENCIAL"})}),W.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-center justify-center z-10 w-full","data-yw":"c3JjL2NvbXBvbmVudHMvTW9kZVdvcmRzLnRzeEA3MDoxMA","data-yw-s":!0,children:[W.jsx("div",{className:"bg-black text-white p-6 border-4 border-red-600 transform -rotate-2 shadow-2xl w-full md:w-5/12 text-center","data-yw":"c3JjL2NvbXBvbmVudHMvTW9kZVdvcmRzLnRzeEA3MToxMg","data-yw-s":!0,children:W.jsx("span",{className:"text-3xl md:text-4xl lg:text-5xl font-bold title-font blinking-text break-words","data-yw":"c3JjL2NvbXBvbmVudHMvTW9kZVdvcmRzLnRzeEA3MjoxNA","data-yw-s":!0,children:i.wordsSelected[0]})}),W.jsx("div",{className:"text-2xl font-bold text-gray-800","data-yw":"c3JjL2NvbXBvbmVudHMvTW9kZVdvcmRzLnRzeEA3NjoxMg","data-yw-t":!0,"data-yw-s":!0,children:"+"}),W.jsx("div",{className:"bg-black text-white p-6 border-4 border-red-600 transform rotate-2 shadow-2xl w-full md:w-5/12 text-center","data-yw":"c3JjL2NvbXBvbmVudHMvTW9kZVdvcmRzLnRzeEA3NzoxMg","data-yw-s":!0,children:W.jsx("span",{className:"text-3xl md:text-4xl lg:text-5xl font-bold title-font blinking-text break-words","data-yw":"c3JjL2NvbXBvbmVudHMvTW9kZVdvcmRzLnRzeEA3ODoxNA","data-yw-s":!0,children:i.wordsSelected[1]})})]}),W.jsx("div",{className:"mt-12 w-full h-8 crime-tape","data-yw":"c3JjL2NvbXBvbmVudHMvTW9kZVdvcmRzLnRzeEA4MzoxMA","data-yw-s":!0})]}),W.jsxs("div",{className:"flex flex-wrap gap-4 justify-center w-full mt-auto","data-yw":"c3JjL2NvbXBvbmVudHMvTW9kZVdvcmRzLnRzeEA4Nzo2","data-yw-s":!0,children:[!i.wordsRevealed&&W.jsx("button",{onClick:s,disabled:i.wordsSelected.length!==2,className:`px-8 py-4 bg-red-900 text-white font-bold text-xl tracking-widest hover:bg-red-800 border-b-4 border-black active:border-b-0 active:translate-y-1 ${i.wordsSelected.length===2?"animate-pulse":"opacity-40 cursor-not-allowed"}`,"data-yw":"c3JjL2NvbXBvbmVudHMvTW9kZVdvcmRzLnRzeEA4OToxMA","data-yw-t":!0,"data-yw-s":!0,children:"REVELAR SELEO"}),i.wordsRevealed&&W.jsx("button",{onClick:a,className:"px-6 py-3 bg-yellow-600 text-white font-bold tracking-wider hover:bg-yellow-500 border-b-4 border-yellow-800 active:border-b-0 active:translate-y-1","data-yw":"c3JjL2NvbXBvbmVudHMvTW9kZVdvcmRzLnRzeEAxMDM6MTA","data-yw-t":!0,"data-yw-s":!0,children:"NOVA SELEO"})]})]})}/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rT=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),Om=i=>{const e=rT(i);return e.charAt(0).toUpperCase()+e.slice(1)},Cy=(...i)=>i.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),iT=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=pt.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:c,iconNode:d,...g},y)=>pt.createElement("svg",{ref:y,...sT,width:e,height:e,stroke:i,strokeWidth:s?Number(n)*24/Number(e):n,className:Cy("lucide",a),...!c&&!iT(g)&&{"aria-hidden":"true"},...g},[...d.map(([_,S])=>pt.createElement(_,S)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ky=(i,e)=>{const n=pt.forwardRef(({className:s,...a},c)=>pt.createElement(oT,{ref:c,iconNode:e,className:Cy(`lucide-${nT(Om(i))}`,`lucide-${i}`,s),...a}));return n.displayName=Om(i),n};/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],lT=ky("volume-2",aT);/**
 * @license lucide-react v0.533.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],cT=ky("volume-x",uT);function hT(){const i=pt.useRef(null),[e,n]=pt.useState(!1);pt.useEffect(()=>{i.current&&(i.current.volume=.3,i.current.play().catch(a=>{console.log("Autoplay blocked:",a)}))},[]);const s=()=>{i.current&&(i.current.muted=!e,n(!e))};return W.jsxs("div",{className:"fixed top-4 right-4 z-50","data-yw":"c3JjL2NvbXBvbmVudHMvQXVkaW9QbGF5ZXIudHN4QDI1OjQ","data-yw-s":!0,children:[W.jsx("button",{onClick:s,className:"p-3 bg-gray-900/80 hover:bg-gray-800/80 rounded-full backdrop-blur-sm transition-colors","aria-label":e?"Ativar som":"Silenciar","data-yw":"c3JjL2NvbXBvbmVudHMvQXVkaW9QbGF5ZXIudHN4QDI2OjY","data-yw-s":!0,children:e?W.jsx(cT,{className:"w-6 h-6 text-gray-400","data-yw":"c3JjL2NvbXBvbmVudHMvQXVkaW9QbGF5ZXIudHN4QDMyOjEw","data-yw-s":!0}):W.jsx(lT,{className:"w-6 h-6 text-white","data-yw":"c3JjL2NvbXBvbmVudHMvQXVkaW9QbGF5ZXIudHN4QDM0OjEw","data-yw-s":!0})}),W.jsx("audio",{ref:i,loop:!0,"data-yw":"c3JjL2NvbXBvbmVudHMvQXVkaW9QbGF5ZXIudHN4QDM3OjY","data-yw-s":!0,children:W.jsx("source",{src:"/assets/audio.mp3",type:"audio/mpeg","data-yw":"c3JjL2NvbXBvbmVudHMvQXVkaW9QbGF5ZXIudHN4QDM4Ojg","data-yw-s":!0})})]})}function dT(){const[i,e]=pt.useState(null),[n,s]=pt.useState(null),[a,c]=pt.useState(!0),[d,g]=pt.useState(!1);pt.useEffect(()=>{if(!i)return;const V=X1(i,z=>{s(z)});return()=>V()},[i]);const y=()=>{c(!1),g(!0)},_=V=>{e(V),g(!1)},S=V=>{i&&n&&bm(i,{mode:V})},C=V=>{i&&bm(i,V)};return a?W.jsxs("div",{className:"fixed inset-0 z-50 bg-black flex flex-col items-center justify-center p-4","data-yw":"c3JjL3BhZ2VzL0dhbWUudHN4QDUyOjY","data-yw-s":!0,children:[W.jsx("div",{className:"absolute inset-0 bg-[url('/assets/fundo.png')] bg-cover bg-center opacity-50","data-yw":"c3JjL3BhZ2VzL0dhbWUudHN4QDUzOjg","data-yw-s":!0}),W.jsx("div",{className:"absolute inset-0 bg-black opacity-60","data-yw":"c3JjL3BhZ2VzL0dhbWUudHN4QDU0Ojg","data-yw-s":!0}),W.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center","data-yw":"c3JjL3BhZ2VzL0dhbWUudHN4QDU2Ojg","data-yw-s":!0,children:[W.jsx("img",{src:"/assets/logo.png",alt:"Arquivo Morto Logo",className:"h-48 md:h-64 object-contain mb-8 logo-breath drop-shadow-2xl","data-yw":"c3JjL3BhZ2VzL0dhbWUudHN4QDU3OjEw","data-yw-i":!0,"data-yw-s":!0}),W.jsx("div",{className:"text-gray-400 text-sm tracking-[0.2em] mb-12 font-bold uppercase","data-yw":"c3JjL3BhZ2VzL0dhbWUudHN4QDYzOjEw","data-yw-t":!0,"data-yw-s":!0,children:"Acesso Restrito // Departamento de Casos Frios"}),W.jsxs("button",{onClick:y,className:"group relative px-8 py-4 bg-transparent border-2 border-red-800 text-red-600 font-bold text-xl uppercase tracking-widest hover:bg-red-900/20 hover:text-red-500 hover:border-red-600 transition-all duration-300","data-yw":"c3JjL3BhZ2VzL0dhbWUudHN4QDY3OjEw","data-yw-s":!0,children:[W.jsx("span",{className:"absolute inset-0 w-full h-full bg-red-800/10 opacity-0 group-hover:opacity-100 transition-opacity","data-yw":"c3JjL3BhZ2VzL0dhbWUudHN4QDcxOjEy","data-yw-s":!0}),W.jsxs("span",{className:"relative flex items-center gap-2","data-yw":"c3JjL3BhZ2VzL0dhbWUudHN4QDcyOjEy","data-yw-s":!0,children:[W.jsx("span",{className:"w-2 h-2 bg-red-600 rounded-full animate-pulse","data-yw":"c3JjL3BhZ2VzL0dhbWUudHN4QDczOjE0","data-yw-s":!0}),W.jsx("span",{"data-yw":"c3JjL3BhZ2VzL0dhbWUudHN4QDczOjg1","data-yw-t":!0,"data-yw-auto":!0,children:"Iniciar Investigao"})]})]})]}),W.jsx("div",{className:"absolute bottom-8 text-gray-600 text-xs font-mono","data-yw":"c3JjL3BhZ2VzL0dhbWUudHN4QDc5Ojg","data-yw-t":!0,"data-yw-s":!0,children:"SISTEMA ONLINE v3.1 | MULTIPLAYER ATIVO"})]}):d?W.jsx(J1,{onJoinRoom:_,"data-yw":"c3JjL3BhZ2VzL0dhbWUudHN4QDg3OjEx","data-yw-s":!0}):n?W.jsxs("div",{className:"min-h-screen bg-[url('/assets/fundo.png')] bg-cover bg-center bg-fixed flex flex-col items-center justify-start p-4","data-yw":"c3JjL3BhZ2VzL0dhbWUudHN4QDk5OjQ","data-yw-s":!0,children:[W.jsx(hT,{"data-yw":"c3JjL3BhZ2VzL0dhbWUudHN4QDEwMDo2","data-yw-s":!0}),W.jsxs("div",{className:"fixed top-4 left-4 z-50 bg-black/80 backdrop-blur-sm border border-red-800 px-4 py-2 rounded","data-yw":"c3JjL3BhZ2VzL0dhbWUudHN4QDEwMzo2","data-yw-s":!0,children:[W.jsx("div",{className:"text-xs text-gray-400 uppercase tracking-wider","data-yw":"c3JjL3BhZ2VzL0dhbWUudHN4QDEwNDo4","data-yw-t":!0,"data-yw-s":!0,children:"Sala"}),W.jsx("div",{className:"text-lg font-bold text-red-500 tracking-widest","data-yw":"c3JjL3BhZ2VzL0dhbWUudHN4QDEwNTo4","data-yw-s":!0,children:i})]}),W.jsxs("div",{className:"paper-texture text-gray-900 w-full max-w-4xl rounded-sm p-2 relative mt-4 mb-8 border-t-8 border-yellow-700 shadow-2xl","data-yw":"c3JjL3BhZ2VzL0dhbWUudHN4QDEwOTo2","data-yw-s":!0,children:[W.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2 w-32 h-8 bg-gray-400 rounded-t-lg opacity-80 shadow-md","data-yw":"c3JjL3BhZ2VzL0dhbWUudHN4QDExMjo4","data-yw-s":!0}),W.jsxs("div",{className:"border-2 border-gray-400 border-dashed p-4 md:p-6 h-full flex flex-col items-center min-h-[600px]","data-yw":"c3JjL3BhZ2VzL0dhbWUudHN4QDExNDo4","data-yw-s":!0,children:[W.jsxs("header",{className:"w-full flex flex-col items-center mb-6 border-b-2 border-gray-800 pb-4","data-yw":"c3JjL3BhZ2VzL0dhbWUudHN4QDExNzoxMA","data-yw-s":!0,children:[W.jsx("img",{src:"/assets/logo.png",alt:"Arquivo Morto Logo",className:"h-24 md:h-32 object-contain mb-2 drop-shadow-sm","data-yw":"c3JjL3BhZ2VzL0dhbWUudHN4QDExODoxMg","data-yw-i":!0,"data-yw-s":!0}),W.jsx(Y1,{currentMode:n.mode,onChangeMode:S,"data-yw":"c3JjL3BhZ2VzL0dhbWUudHN4QDEyNToxMg","data-yw-s":!0})]}),n.mode==="numbers"&&W.jsx(Z1,{state:n,onUpdate:C,"data-yw":"c3JjL3BhZ2VzL0dhbWUudHN4QDEzMzoxMg","data-yw-s":!0}),n.mode==="cards"&&W.jsx(eT,{state:n,onUpdate:C,"data-yw":"c3JjL3BhZ2VzL0dhbWUudHN4QDEzNzoxMg","data-yw-s":!0}),n.mode==="words"&&W.jsx(tT,{state:n,onUpdate:C,"data-yw":"c3JjL3BhZ2VzL0dhbWUudHN4QDE0MToxMg","data-yw-s":!0})]}),W.jsx("div",{className:"text-center mt-2 text-xs text-gray-500 font-mono","data-yw":"c3JjL3BhZ2VzL0dhbWUudHN4QDE0Njo4","data-yw-t":!0,"data-yw-s":!0,children:"SISTEMA INTEGRADO DE ARQUIVO MORTO v3.1 (Multi-Agente)"})]})]}):W.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center","data-yw":"c3JjL3BhZ2VzL0dhbWUudHN4QDkyOjY","data-yw-s":!0,children:W.jsx("div",{className:"text-red-500 text-xl animate-pulse","data-yw":"c3JjL3BhZ2VzL0dhbWUudHN4QDkzOjg","data-yw-t":!0,"data-yw-s":!0,children:"Conectando  sala..."})})}function fT(){return W.jsx(dT,{"data-yw":"c3JjL0FwcC50c3hANDo5","data-yw-s":!0})}Hv.createRoot(document.getElementById("root")).render(W.jsx(pt.StrictMode,{"data-yw":"c3JjL21haW4udHN4QDc6Mg","data-yw-s":!0,children:W.jsx(fT,{"data-yw":"c3JjL21haW4udHN4QDg6NA","data-yw-s":!0})}));
//# sourceMappingURL=index-BbOpS0Ei.js.map
