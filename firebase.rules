rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // Regras para as salas do jogo
    match /rooms/{roomId} {
      // Permitir leitura para qualquer usuário
      allow read: if true;
      
      // Permitir criação de novas salas
      allow create: if true;
      
      // Permitir atualização de salas existentes
      allow update: if true;
      
      // Permitir exclusão de salas (para limpeza)
      allow delete: if true;
    }
  }
}

// NOTA IMPORTANTE:
// Estas regras são ABERTAS e permitem acesso público.
// Adequado para desenvolvimento e testes.
// 
// Para PRODUÇÃO, considere adicionar:
// 1. Autenticação Firebase Auth
// 2. Regras baseadas em auth.uid
// 3. Validação de dados
// 4. Rate limiting
//
// Exemplo de regras mais seguras:
/*
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /rooms/{roomId} {
      allow read: if request.auth != null;
      allow create: if request.auth != null 
        && request.resource.data.createdAt == request.time;
      allow update: if request.auth != null;
      allow delete: if request.auth != null;
    }
  }
}
*/
